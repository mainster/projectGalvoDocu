<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="location" content="WHZ">
<meta name="author" content="Del Basso, Manuel">
<meta name="date" content="02-11-2016">
<meta name="footicon" content="./pics/whz.png"><style>body {
	border: 1px solid #ddd;
	margin: 16px auto;
	outline: 1300px solid #fff;
	width: 55em;
}
body .markdown-body
{
	/*max-width: 1900px*/		/*Defines the html page width*/
	padding: 30px;
}
@font-face {
	font-family: fontawesome-mini;
	src: url(data:font/woff;charset=utf-8;base64,d09GRgABAAAAAAzUABAAAAAAFNgAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAABbAAAABwAAAAcZMzaOEdERUYAAAGIAAAAHQAAACAAOQAET1MvMgAAAagAAAA+AAAAYHqhde9jbWFwAAAB6AAAAFIAAAFa4azkLWN2dCAAAAI8AAAAKAAAACgFgwioZnBnbQAAAmQAAAGxAAACZVO0L6dnYXNwAAAEGAAAAAgAAAAIAAAAEGdseWYAAAQgAAAFDgAACMz7eroHaGVhZAAACTAAAAAwAAAANgWEOEloaGVhAAAJYAAAAB0AAAAkDGEGa2htdHgAAAmAAAAAEwAAADBEgAAQbG9jYQAACZQAAAAaAAAAGgsICJBtYXhwAAAJsAAAACAAAAAgASgBD25hbWUAAAnQAAACZwAABOD4no+3cG9zdAAADDgAAABsAAAAmF+yXM9wcmVwAAAMpAAAAC4AAAAusPIrFAAAAAEAAAAAyYlvMQAAAADLVHQgAAAAAM/u9uZ4nGNgZGBg4ANiCQYQYGJgBEJuIGYB8xgABMMAPgAAAHicY2Bm42OcwMDKwMLSw2LMwMDQBqGZihmiwHycoKCyqJjB4YPDh4NsDP+BfNb3DIuAFCOSEgUGRgAKDgt4AAB4nGNgYGBmgGAZBkYGEAgB8hjBfBYGCyDNxcDBwMTA9MHhQ9SHrA8H//9nYACyQyFs/sP86/kX8HtB9UIBIxsDXICRCUgwMaACRoZhDwA3fxKSAAAAAAHyAHABJQB/AIEAdAFGAOsBIwC/ALgAxACGAGYAugBNACcA/wCIeJxdUbtOW0EQ3Q0PA4HE2CA52hSzmZDGe6EFCcTVjWJkO4XlCGk3cpGLcQEfQIFEDdqvGaChpEibBiEXSHxCPiESM2uIojQ7O7NzzpkzS8qRqnfpa89T5ySQwt0GzTb9Tki1swD3pOvrjYy0gwdabGb0ynX7/gsGm9GUO2oA5T1vKQ8ZTTuBWrSn/tH8Cob7/B/zOxi0NNP01DoJ6SEE5ptxS4PvGc26yw/6gtXhYjAwpJim4i4/plL+tzTnasuwtZHRvIMzEfnJNEBTa20Emv7UIdXzcRRLkMumsTaYmLL+JBPBhcl0VVO1zPjawV2ys+hggyrNgQfYw1Z5DB4ODyYU0rckyiwNEfZiq8QIEZMcCjnl3Mn+pED5SBLGvElKO+OGtQbGkdfAoDZPs/88m01tbx3C+FkcwXe/GUs6+MiG2hgRYjtiKYAJREJGVfmGGs+9LAbkUvvPQJSA5fGPf50ItO7YRDyXtXUOMVYIen7b3PLLirtWuc6LQndvqmqo0inN+17OvscDnh4Lw0FjwZvP+/5Kgfo8LK40aA4EQ3o3ev+iteqIq7wXPrIn07+xWgAAAAABAAH//wAPeJyFlctvG1UUh+/12DPN1B7P3JnYjj2Ox4/MuDHxJH5N3UdaEUQLqBIkfQQioJWQ6AMEQkIqsPGCPwA1otuWSmTBhjtps2ADWbJg3EpIXbGouqSbCraJw7kzNo2dRN1cnXN1ZvT7zuuiMEI7ncizyA0URofRBJpCdbQuIFShYY+GZRrxMDVtih5TwQPHtXDFFSIKoWIbuREBjLH27Ny4MsbVx+uOJThavebgVrNRLAiYx06rXsvhxLgWx9xpfHdrs/ekc2Pl2cpPCVEITQpwbj8VQhfXSq2m+Wxqaq2D73Kne5e3NjHqQNj3CRYlJlgUl/jRNP+2Gs2pNYRQiOnmUaQDqm30KqKiTTWPWjboxnTWpvgxjXo0KrtZXAHt7hwIz0YVcj88JnKlJKi3NPAwLyDwZudSmJSMMJFDYaOkaol6XtESx3Gt1VTytdZJ3DCLeaVhVnCBH1fycHTxFXwPX+l2e3d6H/TufGGmMTLTnbSJUdo00zuBswMO/nl3YLeL/wnu9/limCuD3vC54h5NBVz6Li414AI8Vx3iiosKcQXUbrvhFFiYb++HN4DaF4XzFW0fIN4XDWJ3a3XQoq9V8WiyRmdsatV9xUcHims1JloH0YUa090G3Tro3mC6c01f+YwCPquINr1PTaCP6rVTOOmf0GE2dBc7zWIhji3/5MchSuBHgDbU99RMWt3YUNMZMJmx92YP6NsHx/5/M1yvInpnkIOM3Z8fA3JQ2lW1RFC1KaBPDFXNAHYYvGy73aYZZZ3HifbeuiVZCpwA3oQBs0wGPYJbJfg60xrKEbKiNtTe1adwrpBRwlAuQ3q3VRaX0QmQ9a49BTSCuF1MLfQ6+tinOubRBZuWPNoMevGMT+V41KitO1is3D/tpMcq1JHZqDHGs8DoYGDkxJgKjHROeTCmhZvzPm9pod+ltKm4PN7Dyvvldlpsg8D+4AUJZ3F/JBstZz7cbFRxsaAGV6yX/dkcycWf8eS3QlQea+YLjdm3yrOnrhFpUyKVvFE4lpv4bO3Svx/6F/4xmiDu/RT5iI++lko18mY1oX+5UGKR6kmVjM/Zb76yfHtxy+h/SyQ0lLdpdKy/lWB6szatetQJ8nZ80A2Qt6ift6gJeavU3BO4gtxs/KCtNPVibCtYCWY3SIlSBPKXZALXiIR9oZeJ1AuMyxLpHIy/yO7vSiSE+kZvk0ihJ30HgHfzZtEMmvV58x6dtqns0XTAW7Vdm4HJ04OCp/crOO7rd9SGxQAE/mVA9xRN+kVSMRFF6S9JFGUtthkjBA5tFCWc2l4V43Ex9GmUP3SI37Jjmir9KqlaDJ4S4JB3vuM/jzyH1+8MuoZ+QGzfnvPoJb96cZlWjMcKLfgDwB7E634JTY+asjsPzS5CiVnEWY+KsrsIN5rn3mAPjqmQBxGjcGKB9f9ZxY3mYC2L85CJ2FXIxKKyHk+dg0FHbuEc7D5NzWUX32WxFcWNGRAbvwSx0RmIXVDuYySafluQBmzA/ssqJAMLnli+WIC90Gw4lm85wcp0qjArEDPJJV/sSx4P9ungTpgMw5gVC1XO4uULq0s3v1rqLi0vX/z65vlH50f8T/RHmSPTk5xxWBWOluMT6WiOy+tdvWxlV/XQb3o3c6Ssr+r6I708GsX9/nzp1tKFh0s3v7m4vAy/Hnb/KMOvc1wump6Il48K6mGDy02X9Yd65pa+nQIjk76lWxCkG8NBCP0HQS9IpAAAeJxjYGRgYGBhcCrq214Qz2/zlUGenQEEzr/77oug/zewFbB+AHI5GJhAogBwKQ0qeJxjYGRgYH3/P46BgZ0BBNgKGBgZUAEPAE/7At0AAAB4nGNngAB2IGYjhBsYBAAIYADVAAAAAAAAAAAAAFwAyAEeAaACCgKmAx4DggRmAAAAAQAAAAwAagAEAAAAAAACAAEAAgAWAAABAAChAAAAAHiclZI7bxQxFIWPd/JkUYQChEhIyAVKgdBMskm1QkKrRETpQiLRUczueB/K7HhlOxttg8LvoKPgP9DxFxANDR0tHRWi4NjrPIBEgh1p/dm+vufcawNYFWsQmP6e4jSyQB2fI9cwj++RE9wTjyPP4LYoI89iWbyLPIe6+Bh5Hs9rryMv4GbtW+RF3EhuRa7jbrIbeQkPkjdUETOLnL0Kip4FVvAhco1RXyMnSPEz8gzWxE7kWTwUp5HnsCLeR57HW/El8gJWa58iL+JO7UfkOh4l9yMv4UnyEtvQGGECgwF66MNBooF1bGCL1ELB/TYU+ZBRlvsKQ44Se6jQ4a7hef+fh72Crv25kp+8lNWGmeKoOI5jJLb1aGIGvb6TjfWNLdkqdFvJw4l1amjlXtXRZqRN7lSRylZZyhBqpVFWmTEXgWfUrpi/hZOQXdOd4rKuXOtEWT3k5IArPRzTUU5tHKjecZkTpnVbNOnt6jzN8240GD4xtikvZW56043rPMg/dS+dlOceXoR+WPbJ55Dsekq1lJpnypsMUsYOdCW30o103Ytu/lvh+5RWFLfBjm9/N8hJntPhvx92rnoE/kyHdGasGy754kw36vsVf/lFeBi+0COu+cfgQr42G3CRpeLoZ53gmfe3X6rcKt5oVxnptHR9JS8ehVUd5wvvahN2uqxOOpMXapibI5k7Zwbt4xBSaTfoKBufhAnO/uqNcfK8OTs0OQ6l7JIqFjDhYj5WcjevCnI/1DDiI8j4ndWb/5YzDZWh79yomWXeXj7Nnw70/2TIeFPTrlSh89k1ObOSRVZWZfgF0r/zJQB4nG2JUQuCQBCEd07TTg36fb2IyBaLd3vWaUh/vmSJnvpgmG8YcmS8X3Shf3R7QA4OBUocUKHGER5NNbOOEvwc1txnuWkTRb/aPjimJ5vXabI+3VfOiyS15UWvyezM2xiGOPyuMohOH8O8JiO4Af+FsAGNAEuwCFBYsQEBjlmxRgYrWCGwEFlLsBRSWCGwgFkdsAYrXFhZsBQrAAA=) format('woff');
}
@font-face {
	font-family: octicons-anchor;
	src: url(data:font/woff;charset=utf-8;base64,d09GRgABAAAAAAYcAA0AAAAACjQAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAABMAAAABwAAAAca8vGTk9TLzIAAAFMAAAARAAAAFZG1VHVY21hcAAAAZAAAAA+AAABQgAP9AdjdnQgAAAB0AAAAAQAAAAEACICiGdhc3AAAAHUAAAACAAAAAj//wADZ2x5ZgAAAdwAAADRAAABEKyikaNoZWFkAAACsAAAAC0AAAA2AtXoA2hoZWEAAALgAAAAHAAAACQHngNFaG10eAAAAvwAAAAQAAAAEAwAACJsb2NhAAADDAAAAAoAAAAKALIAVG1heHAAAAMYAAAAHwAAACABEAB2bmFtZQAAAzgAAALBAAAFu3I9x/Nwb3N0AAAF/AAAAB0AAAAvaoFvbwAAAAEAAAAAzBdyYwAAAADP2IQvAAAAAM/bz7t4nGNgZGFgnMDAysDB1Ml0hoGBoR9CM75mMGLkYGBgYmBlZsAKAtJcUxgcPsR8iGF2+O/AEMPsznAYKMwIkgMA5REMOXicY2BgYGaAYBkGRgYQsAHyGMF8FgYFIM0ChED+h5j//yEk/3KoSgZGNgYYk4GRCUgwMaACRoZhDwCs7QgGAAAAIgKIAAAAAf//AAJ4nHWMMQrCQBBF/0zWrCCIKUQsTDCL2EXMohYGSSmorScInsRGL2DOYJe0Ntp7BK+gJ1BxF1stZvjz/v8DRghQzEc4kIgKwiAppcA9LtzKLSkdNhKFY3HF4lK69ExKslx7Xa+vPRVS43G98vG1DnkDMIBUgFN0MDXflU8tbaZOUkXUH0+U27RoRpOIyCKjbMCVejwypzJJG4jIwb43rfl6wbwanocrJm9XFYfskuVC5K/TPyczNU7b84CXcbxks1Un6H6tLH9vf2LRnn8Ax7A5WQAAAHicY2BkYGAA4teL1+yI57f5ysDNwgAC529f0kOmWRiYVgEpDgYmEA8AUzEKsQAAAHicY2BkYGB2+O/AEMPCAAJAkpEBFbAAADgKAe0EAAAiAAAAAAQAAAAEAAAAAAAAKgAqACoAiAAAeJxjYGRgYGBhsGFgYgABEMkFhAwM/xn0QAIAD6YBhwB4nI1Ty07cMBS9QwKlQapQW3VXySvEqDCZGbGaHULiIQ1FKgjWMxknMfLEke2A+IJu+wntrt/QbVf9gG75jK577Lg8K1qQPCfnnnt8fX1NRC/pmjrk/zprC+8D7tBy9DHgBXoWfQ44Av8t4Bj4Z8CLtBL9CniJluPXASf0Lm4CXqFX8Q84dOLnMB17N4c7tBo1AS/Qi+hTwBH4rwHHwN8DXqQ30XXAS7QaLwSc0Gn8NuAVWou/gFmnjLrEaEh9GmDdDGgL3B4JsrRPDU2hTOiMSuJUIdKQQayiAth69r6akSSFqIJuA19TrzCIaY8sIoxyrNIrL//pw7A2iMygkX5vDj+G+kuoLdX4GlGK/8Lnlz6/h9MpmoO9rafrz7ILXEHHaAx95s9lsI7AHNMBWEZHULnfAXwG9/ZqdzLI08iuwRloXE8kfhXYAvE23+23DU3t626rbs8/8adv+9DWknsHp3E17oCf+Z48rvEQNZ78paYM38qfk3v/u3l3u3GXN2Dmvmvpf1Srwk3pB/VSsp512bA/GG5i2WJ7wu430yQ5K3nFGiOqgtmSB5pJVSizwaacmUZzZhXLlZTq8qGGFY2YcSkqbth6aW1tRmlaCFs2016m5qn36SbJrqosG4uMV4aP2PHBmB3tjtmgN2izkGQyLWprekbIntJFing32a5rKWCN/SdSoga45EJykyQ7asZvHQ8PTm6cslIpwyeyjbVltNikc2HTR7YKh9LBl9DADC0U/jLcBZDKrMhUBfQBvXRzLtFtjU9eNHKin0x5InTqb8lNpfKv1s1xHzTXRqgKzek/mb7nB8RZTCDhGEX3kK/8Q75AmUM/eLkfA+0Hi908Kx4eNsMgudg5GLdRD7a84npi+YxNr5i5KIbW5izXas7cHXIMAau1OueZhfj+cOcP3P8MNIWLyYOBuxL6DRylJ4cAAAB4nGNgYoAALjDJyIAOWMCiTIxMLDmZedkABtIBygAAAA==) format('woff');
}
.markdown-body {
	-ms-text-size-adjust: 		100%;
	-webkit-text-size-adjust: 	100%;
	color: 			#333333;
	overflow: 		hidden;
	font-family: 	"Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif;
	font-size: 		16px;
	line-height: 	1.4em;
	overflow: 		hidden;
	text-align: 	justify;	/*Force text-align attribute to justify text blocks*/
	padding-top: 	1.3em;
	-webkit-hyphens: auto;
	-moz-hyphens: auto;
	-ms-hyphens: auto;
	hyphens: auto;
	/*word-wrap: 		break-word;*/
}
.markdown-body b,
.markdown-body strong {
	font-weight: bold;
}
.markdown-body mark {
	background: #ff0;
	color: #000;
	font-style: italic;
	font-weight: bold;
}
.markdown-body sub,
.markdown-body sup {
	/*background-color: yellow;*/
	/*font-weight: bold;*/
	font-size: 75%;
	line-height: 0;
	position: relative;
	vertical-align: baseline;
	font-style: italic;
}
/****************************************
 * Collapsible
 ***************************************/
summary::-webkit-details-marker {
  display: none;
}

/****************************************
 * Feture sidebar
 ***************************************/
function openNav() {
    document.getElementById("mySidenav").style.width = "250px";
    document.getElementById("main").style.marginLeft = "250px";
}

function closeNav() {
    document.getElementById("mySidenav").style.width = "0";
    document.getElementById("main").style.marginLeft= "0";
}

.markdown-body h4.foldable {
	margin:			0 0 1em 0 !important;
	/*padding: 		0 !important;*/
	vertical-align: top !important;
	text-align: 	center;
}
.markdown-body h4.foldable[open] {
	background-color: red;
}
 /****************************************
 * Declaring variables
 ***************************************/
:root {
  --figure-to-img-margin-top: 	1em;
  --figure-to-img-padding: 		1em;
  --figure-to-img-padding-oszi:	1.5em 0 1em 0;
  --floatbox-text-margin: 		1.5em;
}
.titleHeader {
    width: 1300px;
    height: 120px;

    font-family:Helvetica, Arial, sans-serif;
}
.logo {
    float: left;
    padding: 10px 20px;
    background: #004B35;
    height: 55px;
    width: 700px;
}
.logoWhz {
    height:100px;
    width: 100px;	
}
.footer {
	font-size: 7;
	font-style: italic;
	color: #404040;
}
/*title, meta {
	display: block !important;
}
*/

/*.header{
    width: 950px;
    font-family:Helvetica, Arial, sans-serif;
}
.logo {
    float: left;
    height: 55px;
    padding: 10px 20px;
    background: #004B35;
    width: 700px;
}
.logoClient {
    float: right;
    height: 55px;
    line-height: 55px;
    padding: 10px 0px;
    margin:0px -10px 0px 0px;
    font-size: 30px;
    color: #004B35;
    overflow:hidden;
    font-weight: bold;
    width: 200px;
    text-align: right;
}
.logoClient img {
    max-height: 40px;
    max-width:200px;
    margin: 0px;
}
.clear {
    clear: both;
}*/

/*footer {
	display: inline-block;
	font-size: 8;
	color: red;
}
head, title, link[href][rel], meta {
	display: block;
}
link[href][rel]::after {
	content: attr(rel);
	text-transform: capitalize;
}

meta[charset]::after {
	content: 'Charset: ' attr(charset);
}

meta[name][content]::after {
	content: attr(name) ': ' attr(content);
	text-transform: capitalize;
}*/
/****************************************
 * Spec sheet headers
 ***************************************/
.markdown-body boxed {
    display:            block;
    border:             2px solid red;
    -webkit-box-shadow: 6px 7px 5px 0px rgba(56,56,56,0.38);
    -moz-box-shadow:    6px 7px 5px 0px rgba(56,56,56,0.38);
    box-shadow:         6px 7px 5px 0px rgba(56,56,56,0.38);
    text-align:         center;
    padding:            2px .3em 2px .3em;
    margin:             1.5em 0 1.5em 0;
    /*padding-top:      10em;*/
}
.markdown-body mBox {
    display:            inline-block;
    font-size:          95%;
    background-color:   #DBDBDB;
    font-family: monospace, monospace;
    border:             0px solid #C8C8C8;
    -webkit-box-shadow: 2px 3px 2px 0px rgba(56,56,56,0.38);
    -moz-box-shadow:    2px 3px 2px 0px rgba(56,56,56,0.38);
    box-shadow:         2px 3px 2px 0px rgba(56,56,56,0.38);
    text-align:         center;
    padding:            2px 5px 2px 5px;
    margin:             .5em .2em .5em .2em;
    border-radius:      5px;
}
.markdown-body mBox.l {
    margin-left: 2.5em;
}
.markdown-body blockquote>:last-child {
    margin-bottom: 1em !important;
}
/*
 * Horizontal centered line in header texts
 */
/*.markdown-body h4.sphd,
.markdown-body h4.sp {
    margin:         22px 0 22px 0;
    vertical-align: middle;
    text-anchor:    middle;
}*/
.markdown-body details summary h4.sphd,
.markdown-body details summary h4.sp {
    margin:         0 0 .25em 0;
    /*padding:      0 !important;*/
    vertical-align: middle !important;
    /*padding-bottom: 3px;*/
}
.markdown-body h4.sp,
.markdown-body h4.sphd {
    line-height:    1px !important;
}
.markdown-body h4.sphd span,
.markdown-body h4.sp span {
    padding-right:      10px;
}
.markdown-body h4.sphd span.codehd,
.markdown-body h4.sp span.codehd {
    -webkit-box-shadow: 6px 7px 5px 0px #B3B3B3;
    -moz-box-shadow:    6px 7px 5px 0px #B3B3B3;
    box-shadow:         6px 7px 5px 0px #B3B3B3;
    background-color:   #fcfcfc;
    padding-left:       10px;
    /*margin-top:         .6em !important;*/
}
/*
 * Spec sheet header
 */
.markdown-body h4.sphd {
    background:     #d8d8d8;    /* For browsers that do not support gradients */
    background:     -webkit-linear-gradient(left, white, #d8d8d8, white);   /* For Safari 5.1 to 6.0 */
    background:     -o-linear-gradient(left, white, #d8d8d8, white);        /* For Opera 11.1 to 12.0 */
    background:     -moz-linear-gradient(left, white, #d8d8d8, white);      /* For Firefox 3.6 to 15 */
    background:     linear-gradient(left, white, #d8d8d8, white);           /* Standard syntax */
    font-size:      120%;
    text-align:     center;
    margin-top:     3em;
    margin-bottom:  1.5em;
}
/*
 * Spec sheet subheader
 */
.markdown-body h4.sp    {
    background:     #E6E6E6;    /* For browsers that do not support gradients */
    background:     -webkit-linear-gradient(left, white, #E6E6E6, white);   /* For Safari 5.1 to 6.0 */
    background:     -o-linear-gradient(left, white, #E6E6E6, white);        /* For Opera 11.1 to 12.0 */
    background:     -moz-linear-gradient(left, white, #E6E6E6, white);      /* For Firefox 3.6 to 15 */
    background:     linear-gradient(left, white, #E6E6E6, white);           /* Standard syntax */
    font-size:      100%;
    text-align:     left;
    margin-top:     2em;
    margin-bottom:  1em;
}
.markdown-body h4.sphd span {
    background-color:   #FCFCFC;
    border:             1px solid #d8d8d8;
    padding-left:      10px;
}
.markdown-body h4.sp span {
    background-color:   white;
    border:             none;
    /*margin-left:        10px;*/
}

/****************************************
 * For all images and figures
 ***************************************/
/*.markdown-body figure {
	background: 	white;
	border: 		1px solid gainsboro;
	margin: 		0;
	padding:		0;
	position: 		relative;
}
.markdown-body img {
	-moz-box-sizing: border-box;
	border: 		3px solid #e6e6e6;
	box-shadow: 	0px 0px 10px #d3d3d3;
	box-sizing: 	border-box;
	margin-bottom: 	1.5em;
	margin-top: 	1em;
	max-width: 		100% !important;
	padding: 		1em;
}
.markdown-body figcaption {
  padding: 			10px;
  text-align: 		center;
}*/

/****************************************
 * For pictures of class f1
 ***************************************/
/*.markdown-body figure.f1 {
	-moz-box-sizing: border-box;
	border: 		3px solid #e6e6e6;
	box-shadow: 	0px 0px 10px #d3d3d3;
	box-sizing: 	border-box;
	margin-bottom: 	1.5em;
	margin-top: 	1em;
	max-width: 		100% !important;
	padding: 		0em;
	position: 		relative;
}
.markdown-body img.f1 {
	-moz-box-sizing: border-box;
	width:			inherit;
	border: 		none;
	box-shadow: 	none;
	box-sizing: 	border-box;
	margin: 		0;
	padding: 		1em 1em 0 1em;
}
.markdown-body figcaption.f1 {
	border-top: 	1px solid #DEDEDE;
	padding: 		20px;
	text-align: 	center;
	width:			inherit;
}*/
/****************************************
 * Include paragraph numbering:
 * In the generated html file, append this class to body as follows:
 *
 * <article class="markdown-body paragraphNum">;
 * <article class="markdown-body paragraphNum">
 *
 ***************************************/
.paragraphNum {
    counter-reset: paragraph;
    padding-left: 10px;
}
.paragraphNum p:before {
    position: absolute;
    margin-left: -30px;
    color: #A4A4FF;
    font-size:	8pt;
    content: counter(paragraph);
    counter-increment: paragraph;
}
.paragraphNum p:before:hover {
    color:		red;
}
/****************************************
 * Different styles/layouts for images:
 ****************************************
 	+ Simple image
 		- no border, no caption, may float
	+ Simple boxed image
		- Border box and shadow, may float
	+ Figure including a caption
		- Image with border box and shadow
	+ Boxed Figure including a caption
		- Image, no border
 ***************************************/
.markdown-body img {
	max-width: 		100%;
	margin-bottom: 	1.5em;
	margin-top: 	1em;
	padding: 		1em;
	border: 		none !important;
}
.markdown-body img.box {
	-moz-box-sizing: border-box;
	box-sizing: 	border-box;
	border: 		3px solid #e6e6e6;
	box-shadow: 	0px 0px 10px #d3d3d3;
}
.markdown-body div.fig {
    text-align: 	center;
    font-style: 	italic;
    font-size: 		90%;
    /*line-height: 	90%;*/
}
.markdown-body div.fig,
.markdown-body figure {
	/*position: 		relative;*/
	max-width: 		100% !important;
	margin-bottom: 	1.5 * var(--figure-to-img-margin-top);
	margin-top: 	var(--figure-to-img-margin-top);
}
.markdown-body div.fig.box,
.markdown-body figure.box {
	-moz-box-sizing: border-box;
	box-sizing: 	border-box;
	border: 		3px solid #e6e6e6;
	box-shadow: 	0px 0px 10px #d3d3d3;
	padding: 		var(--figure-to-img-padding);
}
.markdown-body figure.oszi {
	padding: 		var(--figure-to-img-padding-oszi) !important;
}
img.topal, div.topal, figure.topal { margin-top: 0 !important; }
img.botal, div.botal, figure.botal { margin-bottom: 0 !important; }
img.floatr, div.floatr, figure.floatr {
	float: 			right;
	margin: 		0.2em 0 0 var(--floatbox-text-margin);
}
img.floatl, div.floatl,	figure.floatl {
	float: 			left;
	margin: 		0.2em var(--floatbox-text-margin) 0 0;
}
.markdown-body div.fig img,
.markdown-body figure img {
	/*background-color: #FFFFCA;*/
	-moz-box-sizing: border-box;
	width:			inherit !important;
	height: 		inherit !important;
	box-sizing: 	border-box;
	border: 		3px solid #e6e6e6;
	box-shadow: 	0px 0px 10px #d3d3d3;
	margin-bottom: 	0em;
	margin-top: 	0em;
}
.markdown-body figure.full img {
    width:          100% !important;
}
/*.markdown-body div.fig.nobox img,
.markdown-body figure.nobox img {
	border: 		none !important;
	box-shadow: 	none !important;
}*/
/*
 * An image inside a figure of class="box"
 * should NOT draw any border and remove padding
 */
.markdown-body div.fig.box img,
.markdown-body figure.box img {
	/*background-color: yellow;*/
	border:			none !important;
	box-shadow: 	none !important;
	padding: 		0em;
}
.markdown-body div.fig figcaption,
.markdown-body figure figcaption {
	/*background-color: #E7FFE7;*/
	width:			inherit - 2*var(--figure-to-img-margin-top);
	color: 			#595959;
	text-align: 	center;
	font-style: 	italic;
    font-size: 		95%;
	margin:			3px;
	border: 		none;
}
.markdown-body div.fig figcaption.la,
.markdown-body figure figcaption.la {
	/*color:				red !important; */
	text-align: 		left;
}
.markdown-body div.fig figcaption.just,
.markdown-body figure figcaption.just {
	/*color:				red !important; */
	text-align: 		justify;
}
.markdown-body div.fig.box figcaption,
.markdown-body figure.box figcaption {
	border-top: 	1px solid #DEDEDE !important;
	padding-top: 	5px;
}
.markdown-body table.noborder th,
.markdown-body table.noborder tr,
.markdown-body table.noborder td {
	border-width: 0 !important;
}
li {
    /* Abstand zu Aufzählungszeichen/Nummer */
    padding-left: .4em !important;    
}
/* View spaced lists:
	<div class="spaced" markdown=1>
	1. jjj
	2. spaced from jjj
	</div>*/
.spaced li {
	/* Abstand nach Aufzälungs/Listenzeile */
	padding-bottom: .75em;
}
/* Linked Keywords */
.markdown-body lkey {
	display: 			inline;
	font-size: 			100%;
	/*color: 				#000;*/
	font-weight: 		bold;
	/*font-style:		italic;*/
	line-height: 		font-size;
    background-color: 	#FCFCFC;
	border-bottom: 		1px solid #D4D4D4;
	margin-left:		1px;
	margin-right:		1px;
}
/* Left aligned mathjax paragraph */
.markdown-body lmjx {
	padding-left: 6em;
}
/* A href inside custom class lkey */
.markdown-body lkey a {
	padding-left: 		3px;
	padding-right: 		3px;
	color: 				#2E70B1;
	text-decoration: 	none;
}
.markdown-body lkey:hover,
.markdown-body lkey:focus,
.markdown-body lkey:active {
	/*padding-left: 		2px;*/
	/*padding-right: 		2px;*/
	margin-left:		0px;
	margin-right:		0px;
	border: 			1px solid red;
}
.markdown-body lkey a:hover,
.markdown-body lkey a:focus,
.markdown-body lkey a:active {
	text-decoration: 	none !important;
	border:				none !important;
}
.markdown-body yelBg {
	background-color: yellow;
	color: red !important;
	padding-left: 6px;
	padding-right: 6px;
	border: 0px solid #C2C2C2;
}
.markdown-body yelBg:hover {
	font-weight: bold;
}
.markdown-body yelBg:hover.scale {
	font-size: 150% !important;
}
div.centered {
	text-align: center;
}
div.centered table {
	margin: 0 auto;
	text-align: left;
}
.markdown-body sup {
	background-color: yellow;
	font-weight: bold;
	font-size: 75%;
	line-height: 0;
	position: relative;
	vertical-align: baseline;
	font-style: italic;
}
.markdown-body sup {
	top: -0.5em;
}
.markdown-body sub {
	bottom: -0.25em;
}
.scale75 {
	width: 75%;
}
.noborder {
	/*border-color: none !important; */
	box-shadow: none !important;
	border-width: 0px !important;
}
.markdown-body hr {
	-moz-box-sizing: content-box;
	box-sizing: content-box;
	height: 0;
}
.markdown-body pre {
	overflow: auto;
}
.markdown-body code,
.markdown-body kbd,
.markdown-body pre,
.markdown-body samp {
	font-family: monospace, monospace;
	font-size: 1em;
}
.markdown-body input {
	color: inherit;
	font: inherit;
	margin: 0;
}
.markdown-body html input[disabled] {
	cursor: default;
}
.markdown-body input[type="checkbox"] {
	box-sizing: border-box;
	padding: 0;
}
.markdown-body table {
	border-collapse: collapse;
	border-spacing: 0;
	padding-top: 1em;
	padding-bottom: 1em;
}
.markdown-body table[class=caption] {
	padding-bottom: 0em;
}
.markdown-body td,
.markdown-body th {
	padding: 0;
}
.markdown-body .codehilitetable {
	border: 0;
	border-spacing: 0;

	background-color: red;

}
.markdown-body .codehilitetable tr {
	border: 0;
}
.markdown-body .codehilitetable pre,
.markdown-body .codehilitetable div.codehilite {
	margin: 0;
}
.markdown-body .linenos,
.markdown-body .code,
.markdown-body .codehilitetable td {
	border: 0;
	padding: 0;
}
.markdown-body td:not(.linenos) .linenodiv {
	padding: 0 !important;
}
.markdown-body .code {
	width: 100%;
}
.markdown-body .linenos div pre,
.markdown-body .linenodiv pre,
.markdown-body .linenodiv {
	border: 0;
	-webkit-border-radius: 0;
	-moz-border-radius: 0;
	border-radius: 0;
	-webkit-border-top-left-radius: 3px;
	-webkit-border-bottom-left-radius: 3px;
	-moz-border-radius-topleft: 3px;
	-moz-border-radius-bottomleft: 3px;
	border-top-left-radius: 3px;
	border-bottom-left-radius: 3px;
}
.markdown-body .code div pre,
.markdown-body .code div {
	border: 0;
	-webkit-border-radius: 0;
	-moz-border-radius: 0;
	border-radius: 0;
	-webkit-border-top-right-radius: 3px;
	-webkit-border-bottom-right-radius: 3px;
	-moz-border-radius-topright: 3px;
	-moz-border-radius-bottomright: 3px;
	border-top-right-radius: 3px;
	border-bottom-right-radius: 3px;
	/*-webkit-box-shadow: 6px 7px 5px 0px rgba(56,56,56,0.38);*/	/*@@@MDB 01.04.2017*/
	/*-moz-box-shadow: 	6px 7px 5px 0px rgba(56,56,56,0.38);*/	/*@@@MDB 01.04.2017*/
	/*box-shadow: 		6px 7px 5px 0px rgba(56,56,56,0.38);*/	/*@@@MDB 01.04.2017*/

}
.markdown-body * {
	-moz-box-sizing: border-box;
	box-sizing: border-box;
}
.markdown-body input {
	font: 13px Helvetica, arial, freesans, clean, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol";
	line-height: normal;
}
.markdown-body a {
	color: #4183c4;
	text-decoration: none;
}
.markdown-body a:hover,
.markdown-body a:focus,
.markdown-body a:active {
	text-decoration: underline;
}
.markdown-body hr {
	height: 0;
	margin: 15px 0;
	overflow: hidden;
	background: transparent;
	border: 0;
	border-bottom: 1px solid #ddd;
}
.markdown-body hr:before,
.markdown-body hr:after {
	display: table;
	content: " ";
}
.markdown-body hr:after {
	clear: both;
}
.markdown-body blockquote {
	padding: 0px 15px;
	margin-left: 0.1em;
	margin-right: 1.5em;
	color: #777;
	border-left: 4px solid #ddd;
	font-style: italic;
	/*margin: 1.25em;*/
}
.markdown-body blockquote>:first-child {
	margin-top: 2em;
}
.markdown-body blockquote>:last-child {
	margin-bottom: 2em;
}
.markdown-body ul,
.markdown-body ol {
	padding: 0;
	margin-top: 0;
	margin-bottom: 0;
}
.markdown-body ol ol,
.markdown-body ul ol {
	list-style-type: lower-roman;
}
.markdown-body ul ul ol,
.markdown-body ul ol ol,
.markdown-body ol ul ol,
.markdown-body ol ol ol {
	list-style-type: lower-alpha;
}
.markdown-body dd {
	margin-left: 0;
}
.markdown-body code,
.markdown-body pre,
.markdown-body samp {
	font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
	font-size: 12px;
}
.markdown-body pre {
	margin-top: 0;
	margin-bottom: 0;
}
.markdown-body kbd {
	background-color: #e7e7e7;
	background-image: -moz-linear-gradient(#fefefe, #e7e7e7);
	background-image: -webkit-linear-gradient(#fefefe, #e7e7e7);
	background-image: linear-gradient(#fefefe, #e7e7e7);
	background-repeat: repeat-x;
	border-radius: 2px;
	border: 1px solid #cfcfcf;
	color: #000;
	padding: 1px 4px; 
    margin: 0px 2px;        /*@@@MDB 31-03-2017*/
	line-height: 10px;
	font: 13px Consolas, "Liberation Mono", Menlo, Courier, monospace;
	display: inline-block;
}
.markdown-body>*:first-child {
	margin-top: 0 !important;
}
.markdown-body>*:last-child {
	margin-bottom: 0 !important;
}
.markdown-body .headeranchor-link {
	position: absolute;
	top: 0;
	bottom: 0;
	left: 0;
	display: block;
	padding-right: 6px;
	padding-left: 30px;
	margin-left: -30px;
}
.markdown-body .headeranchor-link:focus {
	outline: none;
}
/* ------- Headers ------- */
/* ----------------------- */
.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
	/*background-color: #fcfcfc;*/
	/*border-top: 		1px solid #d8d8d8;*/
	/*border-bottom: 	1px solid #f0f0f0;*/
	font-size: 			2em;
	font-weight: 		bold;
	line-height: 		100%;
	position: 			relative;
	text-anchor: 		middle;
	margin-bottom: 		.6em;
}
.markdown-body h1 .headeranchor,
.markdown-body h2 .headeranchor,
.markdown-body h3 .headeranchor,
.markdown-body h4 .headeranchor,
.markdown-body h5 .headeranchor,
.markdown-body h6 .headeranchor {
	display: none;
	color: #000;
	vertical-align: left;
}
.markdown-body h1:hover .headeranchor-link,
.markdown-body h2:hover .headeranchor-link,
.markdown-body h3:hover .headeranchor-link,
.markdown-body h4:hover .headeranchor-link,
.markdown-body h5:hover .headeranchor-link,
.markdown-body h6:hover .headeranchor-link {
	height: 1em;
	padding-left: 8px;
	margin-left: -30px;
	line-height: 1;
	text-decoration: none;
}
.markdown-body h1:hover .headeranchor-link .headeranchor,
.markdown-body h2:hover .headeranchor-link .headeranchor,
.markdown-body h3:hover .headeranchor-link .headeranchor,
.markdown-body h4:hover .headeranchor-link .headeranchor,
.markdown-body h5:hover .headeranchor-link .headeranchor,
.markdown-body h6:hover .headeranchor-link .headeranchor {
	display: inline-block;
}
.markdown-body h1 {
	background-color: 	#fcfcfc;
	border-bottom: 		1px solid #d8d8d8;
	border-top: 		1px solid #d8d8d8;
	font-size: 			200%;
	line-height: 		140%;
	/*margin-bottom: 		.6em;*/
	margin-top: 		1.4em;
	/*padding-bottom: 	0.1em;*/
}
.markdown-body h2 {
	/*background-color: 	#fcfcfc;*/
	/*border-top: 		1px solid #d8d8d8;*/
	border-bottom: 		1px solid #d8d8d8;
	font-size: 			175%;
	line-height: 		140%;
	/*margin-bottom: 		.5em;*/
	margin-top: 		1em;
	/*padding-bottom: 	0.1em;*/
}
.markdown-body h3 {
	/*background-color: 	#fcfcfc;*/
	/*border-top: 		1px solid #d8d8d8;*/
	border-bottom: 		1px solid #f0f0f0;
	font-size: 			150%;
	line-height: 		font-size;
	margin-bottom: 		.5em;
	margin-top: 		1em;
	/*padding-bottom: 	0.1em;*/
}
.markdown-body h4 {
	/*background-color: #fcfcfc;*/
	/*border-top: 		1px solid #d8d8d8;*/
	/*border-bottom: 	1px solid #f0f0f0;*/
	font-size: 			125%;
	line-height: 		font-size;
	padding-bottom: 	0.1em;
	margin-top: 		1.5em;
	/*margin-bottom: 		.4em;*/
	/*padding-bottom: 	0.1em;*/
}
.markdown-body h5 {
	/*background-color: #fcfcfc;*/
	/*border-top: 		1px solid #d8d8d8;*/
	/*border-bottom: 	1px solid #f0f0f0;*/
	font-size: 			110%;
	line-height: 		font-size;
	padding-bottom: 	0.1em;*/
	margin-top: 		.8em;
	/*margin-bottom: 		.4em;*/
	/*padding-bottom: 	0.1em;*/
}
.markdown-body h6 {
	font-size: .8em;
	color: #777;
}
.markdown-body p,
.markdown-body blockquote,
.markdown-body ul,
.markdown-body ol,
.markdown-body dl,
.markdown-body table,
.markdown-body pre,
.markdown-body .admonition {
	margin-top: 0;
	margin-bottom: 18px;
	/*background-color: purple;*/
}
.markdown-body hr {
	height: 4px;
	padding: 0;
	margin: 16px 0;
	background-color: #e7e7e7;
	border: 0 none;
}
.markdown-body ul,
.markdown-body ol {
	/* Absatzformat listen */
	padding-left: 2em;
	/*margin-bottom: 2em;*/
	color: #555;
	font-style: italic;
	background-color: #fefefe;
	/*line-height: 1.8em*/
	/*background-color: green;*/
}
.markdown-body ul ul,
.markdown-body ul ol,
.markdown-body ol ol,
.markdown-body ol ul {
	margin-top: 0;
	margin-bottom: 0;
}
.markdown-body li>p {
	/*margin-top: 16px;*/
	margin-top: 2em;

	/* Absatzformat Fußnoten */
	/*background-color: red;*/
}
.markdown-body dl {
	padding: 0;
}
.markdown-body dl dt {
	padding: 0;
	margin-top: 16px;
	font-size: 1em;
	font-style: italic;
	font-weight: bold;
}
.markdown-body dl dd {
	padding: 0 16px;
	margin-bottom: 16px;
}
.markdown-body table {
	display: block;
	width: 100%;
	overflow: auto;
	word-break: normal;
	word-break: keep-all;
}
.markdown-body table th {
	font-weight: bold;
	background-color: #E6E6E6;
	border: 1px solid #8F8F8F;
}
.markdown-body table th,
.markdown-body table td {
	padding: 6px 13px;
	border: 1px solid #ddd;
}
.markdown-body table tr {
	background-color: #fff;
	border-top: 1px solid #ccc;
}
.markdown-body table tr:nth-child(2n) {
	background-color: #f8f8f8;
}
.markdown-body table.noalter tr:nth-child(2n) {
	background-color: #fff !important;
}
.markdown-body code,
.markdown-body samp {
	padding: 0;
	padding-top: 0.2em;
	padding-bottom: 0.2em;
	margin: 0;
	font-size: 85%;
	background-color: rgba(0,0,0,0.04);
	border-radius: 3px;
}
.markdown-body code:before,
.markdown-body code:after {
	letter-spacing: -0.2em;
	content: "\00a0";
}
.markdown-body pre>code {
	padding: 0;
	margin: 0;
	font-size: 100%;
	word-break: normal;
	white-space: pre;
	background: transparent;
	border: 0;
}
.markdown-body .codehilite {
	margin-bottom: 16px;
}
.markdown-body .codehilite pre,
.markdown-body pre {
	padding: 16px;
	overflow: auto;
	font-size: 85%;
	line-height: 1.45;
	background-color: #f7f7f7;
	border-radius: 3px;
}
.markdown-body .codehilite pre {
	margin-bottom: 0;
	word-break: normal;
}
.markdown-body pre {
	word-wrap: normal;
}
.markdown-body pre code {
	display: inline;
	max-width: initial;
	padding: 0;
	margin: 0;
	overflow: initial;
	line-height: inherit;
	word-wrap: normal;
	background-color: transparent;
	border: 0;
}
.markdown-body pre code:before,
.markdown-body pre code:after {
	content: normal;
}
/* Ermahnung */
.markdown-body .admonition {
	-webkit-border-radius: 3px;
	-moz-border-radius: 3px;
	position: relative;
	border-radius: 3px;
	border: 1px solid #e0e0e0;
	border-left: 6px solid #333;
	padding: 10px 10px 10px 30px;
}
.markdown-body .admonition table {
	color: #333;
}
.markdown-body .admonition p {
	padding: 0;
}
.markdown-body .admonition-title {
	font-weight: bold;
	margin: 0;
}
.markdown-body .admonition>.admonition-title {
	color: #333;
}
.markdown-body .attention>.admonition-title {
	color: #a6d796;
}
.markdown-body .caution>.admonition-title {
	color: #d7a796;
}
.markdown-body .hint>.admonition-title {
	color: #96c6d7;
}
.markdown-body .danger>.admonition-title {
	color: #c25f77;
}
.markdown-body .question>.admonition-title {
	color: #96a6d7;
}
.markdown-body .note>.admonition-title {
	color: #d7c896;
}
.markdown-body .admonition:before,
.markdown-body .attention:before,
.markdown-body .caution:before,
.markdown-body .hint:before,
.markdown-body .danger:before,
.markdown-body .question:before,
.markdown-body .note:before {
	font: normal normal 16px fontawesome-mini;
	-moz-osx-font-smoothing: grayscale;
	-webkit-user-select: none;
	-moz-user-select: none;
	-ms-user-select: none;
	user-select: none;
	line-height: 1.5;
	color: #333;
	position: absolute;
	left: 0;
	top: 0;
	padding-top: 10px;
	padding-left: 10px;
}
.markdown-body .admonition:before {
	content: "\f056\00a0";
	color: 333;
}
.markdown-body .attention:before {
	content: "\f058\00a0";
	color: #a6d796;
}
.markdown-body .caution:before {
	content: "\f06a\00a0";
	color: #d7a796;
}
.markdown-body .hint:before {
	content: "\f05a\00a0";
	color: #96c6d7;
}
.markdown-body .danger:before {
	content: "\f057\00a0";
	color: #c25f77;
}
.markdown-body .question:before {
	content: "\f059\00a0";
	color: #96a6d7;
}
.markdown-body .note:before {
	content: "\f040\00a0";
	color: #d7c896;
}
.markdown-body .admonition::after {
	content: normal;
}
.markdown-body .attention {
	border-left: 6px solid #a6d796;
}
.markdown-body .caution {
	border-left: 6px solid #d7a796;
}
.markdown-body .hint {
	border-left: 6px solid #96c6d7;
}
.markdown-body .danger {
	border-left: 6px solid #c25f77;
}
.markdown-body .question {
	border-left: 6px solid #96a6d7;
}
.markdown-body .note {
	border-left: 6px solid #d7c896;
}
.markdown-body .admonition>*:first-child {
	margin-top: 0 !important;
}
.markdown-body .admonition>*:last-child {
	margin-bottom: 0 !important;
}
/* progress bar*/
.markdown-body .progress {
	display: block;
	width: 300px;
	margin: 10px 0;
	height: 24px;
	-webkit-border-radius: 3px;
	-moz-border-radius: 3px;
	border-radius: 3px;
	background-color: #ededed;
	position: relative;
	box-shadow: inset -1px 1px 3px rgba(0, 0, 0, .1);
}
.markdown-body .progress-label {
	position: absolute;
	text-align: center;
	font-weight: bold;
	width: 100%; margin: 0;
	line-height: 24px;
	color: #333;
	text-shadow: 1px 1px 0 #fefefe, -1px -1px 0 #fefefe, -1px 1px 0 #fefefe, 1px -1px 0 #fefefe, 0 1px 0 #fefefe, 0 -1px 0 #fefefe, 1px 0 0 #fefefe, -1px 0 0 #fefefe, 1px 1px 2px #000;
	-webkit-font-smoothing: antialiased !important;
	white-space: nowrap;
	overflow: hidden;
}
.markdown-body .progress-bar {
	height: 24px;
	float: left;
	-webkit-border-radius: 3px;
	-moz-border-radius: 3px;
	border-radius: 3px;
	background-color: #96c6d7;
	box-shadow: inset 0 1px 0 rgba(255, 255, 255, .5), inset 0 -1px 0 rgba(0, 0, 0, .1);
	background-size: 30px 30px;
	background-image: -webkit-linear-gradient(
		135deg, rgba(255, 255, 255, .4) 27%,
		transparent 27%,
		transparent 52%, rgba(255, 255, 255, .4) 52%,
		rgba(255, 255, 255, .4) 77%,
		transparent 77%, transparent
		);
	background-image: -moz-linear-gradient(
		135deg,
		rgba(255, 255, 255, .4) 27%, transparent 27%,
		transparent 52%, rgba(255, 255, 255, .4) 52%,
		rgba(255, 255, 255, .4) 77%, transparent 77%,
		transparent
		);
	background-image: -ms-linear-gradient(
		135deg,
		rgba(255, 255, 255, .4) 27%, transparent 27%,
		transparent 52%, rgba(255, 255, 255, .4) 52%,
		rgba(255, 255, 255, .4) 77%, transparent 77%,
		transparent
		);
	background-image: -o-linear-gradient(
		135deg,
		rgba(255, 255, 255, .4) 27%, transparent 27%,
		transparent 52%, rgba(255, 255, 255, .4) 52%,
		rgba(255, 255, 255, .4) 77%, transparent 77%,
		transparent
		);
	background-image: linear-gradient(
		135deg,
		rgba(255, 255, 255, .4) 27%, transparent 27%,
		transparent 52%, rgba(255, 255, 255, .4) 52%,
		rgba(255, 255, 255, .4) 77%, transparent 77%,
		transparent
		);
}
.markdown-body .progress-100plus .progress-bar {
	background-color: #a6d796;
}
.markdown-body .progress-80plus .progress-bar {
	background-color: #c6d796;
}
.markdown-body .progress-60plus .progress-bar {
	background-color: #d7c896;
}
.markdown-body .progress-40plus .progress-bar {
	background-color: #d7a796;
}
.markdown-body .progress-20plus .progress-bar {
	background-color: #d796a6;
}
.markdown-body .progress-0plus .progress-bar {
	background-color: #c25f77;
}
.markdown-body .candystripe-animate .progress-bar{
	-webkit-animation: animate-stripes 3s linear infinite;
	-moz-animation: animate-stripes 3s linear infinite;
	animation: animate-stripes 3s linear infinite;
}
@-webkit-keyframes animate-stripes {
	0% {
		background-position: 0 0;
	}
	100% {
		background-position: 60px 0;
	}
}
@-moz-keyframes animate-stripes {
	0% {
		background-position: 0 0;
	}
	100% {
		background-position: 60px 0;
	}
}
@keyframes animate-stripes {
	0% {
		background-position: 0 0;
	}
	100% {
		background-position: 60px 0;
	}
}
.markdown-body .gloss .progress-bar {
	box-shadow:
	inset 0 4px 12px rgba(255, 255, 255, .7),
	inset 0 -12px 0 rgba(0, 0, 0, .05);
}
/* Multimarkdown Critic Blocks */
.markdown-body .critic_mark {
	background: #ff0;
}
.markdown-body .critic_delete {
	color: #c82829;
	text-decoration: line-through;
}
.markdown-body .critic_insert {
	color: #718c00 ;
	text-decoration: underline;
}
.markdown-body .critic_comment {
	color: #8e908c;
	font-style: italic;
}
.markdown-body .headeranchor {
	font: normal normal 16px octicons-anchor;
	line-height: 1;
	display: inline-block;
	text-decoration: none;
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
	-webkit-user-select: none;
	-moz-user-select: none;
	-ms-user-select: none;
	user-select: none;
}
.headeranchor:before {
	content: '\f05c';
}
.markdown-body .task-list-item {
	list-style-type: none;
}
.markdown-body .task-list-item+.task-list-item {
	margin-top: 3px;
}
.markdown-body .task-list-item input {
	margin: 0 4px 0.25em -20px;
	vertical-align: middle;
}
/* Media */
@media only screen and (min-width: 480px) {
	.markdown-body {
		font-size:14px;
	}
}
@media only screen and (min-width: 768px) {
	.markdown-body {
		font-size:16px;
	}
}
@media print {
	.markdown-body * {
		background: transparent !important;
		color: black !important;
		filter:none !important;
		-ms-filter: none !important;
	}
	.markdown-body {
		font-size:12pt;
		max-width:100%;
		outline:none;
		border: 0;
	}
	.markdown-body a,
	.markdown-body a:visited {
		text-decoration: underline;
	}
	.markdown-body .headeranchor-link {
		display: none;
	}
	.markdown-body a[href]:after {
		content: " (" attr(href) ")";
	}
	.markdown-body abbr[title]:after {
		content: " (" attr(title) ")";
	}
	.markdown-body .ir a:after,
	.markdown-body a[href^="javascript:"]:after,
	.markdown-body a[href^="#"]:after {
		content: "";
	}
	.markdown-body pre {
		white-space: pre;
		white-space: pre-wrap;
		word-wrap: break-word;
	}
	.markdown-body pre,
/*	.markdown-body blockquote {
		border: 1px solid #999;
		padding-right: 1em;
		page-break-inside: avoid;
		}*/
		.markdown-body .progress,
		.markdown-body .progress-bar {
			-moz-box-shadow: none;
			-webkit-box-shadow: none;
			box-shadow: none;
		}
		.markdown-body .progress {
			border: 1px solid #ddd;
		}
		.markdown-body .progress-bar {
			height: 22px;
			border-right: 1px solid #ddd;
		}
		.markdown-body tr,
		.markdown-body img {
			page-break-inside: avoid;
		}
		.markdown-body p,
		.markdown-body h2,
		.markdown-body h3 {
			orphans: 3;
			widows: 3;
		}
		.markdown-body h2,
		.markdown-body h3 {
			page-break-after: avoid;
		}
	}
</style><style>/*github*/
.codehilite {background-color:#fff;color:#333333;}
.codehilite .hll {background-color:#ffffcc;}
.codehilite .c{color:#999988;font-style:italic}
.codehilite .err{color:#a61717;background-color:#e3d2d2}
.codehilite .k{font-weight:bold}
.codehilite .o{font-weight:bold}
.codehilite .cm{color:#999988;font-style:italic}
.codehilite .cp{color:#999999;font-weight:bold}
.codehilite .c1{color:#999988;font-style:italic}
.codehilite .cs{color:#999999;font-weight:bold;font-style:italic}
.codehilite .gd{color:#000000;background-color:#ffdddd}
.codehilite .ge{font-style:italic}
.codehilite .gr{color:#aa0000}
.codehilite .gh{color:#999999}
.codehilite .gi{color:#000000;background-color:#ddffdd}
.codehilite .go{color:#888888}
.codehilite .gp{color:#555555}
.codehilite .gs{font-weight:bold}
.codehilite .gu{color:#800080;font-weight:bold}
.codehilite .gt{color:#aa0000}
.codehilite .kc{font-weight:bold}
.codehilite .kd{font-weight:bold}
.codehilite .kn{font-weight:bold}
.codehilite .kp{font-weight:bold}
.codehilite .kr{font-weight:bold}
.codehilite .kt{color:#445588;font-weight:bold}
.codehilite .m{color:#009999}
.codehilite .s{color:#dd1144}
.codehilite .n{color:#333333}
.codehilite .na{color:teal}
.codehilite .nb{color:#0086b3}
.codehilite .nc{color:#445588;font-weight:bold}
.codehilite .no{color:teal}
.codehilite .ni{color:purple}
.codehilite .ne{color:#990000;font-weight:bold}
.codehilite .nf{color:#990000;font-weight:bold}
.codehilite .nn{color:#555555}
.codehilite .nt{color:navy}
.codehilite .nv{color:teal}
.codehilite .ow{font-weight:bold}
.codehilite .w{color:#bbbbbb}
.codehilite .mf{color:#009999}
.codehilite .mh{color:#009999}
.codehilite .mi{color:#009999}
.codehilite .mo{color:#009999}
.codehilite .sb{color:#dd1144}
.codehilite .sc{color:#dd1144}
.codehilite .sd{color:#dd1144}
.codehilite .s2{color:#dd1144}
.codehilite .se{color:#dd1144}
.codehilite .sh{color:#dd1144}
.codehilite .si{color:#dd1144}
.codehilite .sx{color:#dd1144}
.codehilite .sr{color:#009926}
.codehilite .s1{color:#dd1144}
.codehilite .ss{color:#990073}
.codehilite .bp{color:#999999}
.codehilite .vc{color:teal}
.codehilite .vg{color:teal}
.codehilite .vi{color:teal}
.codehilite .il{color:#009999}
.codehilite .gc{color:#999;background-color:#EAF2F5}
</style><script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  config: ["MMLorHTML.js"],
  extensions: ["tex2jax.js","[Contrib]/siunitx/siunitx.js"],
  jax: ["input/TeX"],
  tex2jax: {
    inlineMath: [ ['$','$'], ["\\(","\\)"] ],
    displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
    processEscapes: true,
    // processEnvironments: true,
  },
  TeX: {
    extensions: ["AMSmath.js", "AMSsymbols.js", "sinuitx.js"],
    TagSide: "right",
    TagIndent: ".8em",
    MultLineWidth: "85%",
    equationNumbers: {
      autoNumber: "AMS",      
    },
    unicode: {
    },
    Macros: {
      RR: '{\\bf R}',
      bold: ['{\\bf #1}', 1],
      ital: ['{\\it #1}', 1],
      bfit: ['{\\bf{\\it #1}}', 1],
      varsp: ['{\\style{font-size:#1}{#2}}',2],
      alenv: ['{\\begin{align*} #1 \\end{align*}}', 1],
      eqlbl: ['{\\begin{equation} #1 \\end{equation}\\label{#2}}', 2],
      eq: ['{\\begin{equation} #1 \\end{equation}\\nonumber}', 1],
      Si: ['{\\large\\,\\,\\si[per-mode=fraction]{#1}}', 1],
      sI: ['{\\si[per-mode=symbol]{#1}}', 1],
    },
  },
  showProcessingMessages: false
});
</script>
<script type="text/javascript" charset="utf-8" src="https://cdnjs.cloudflare.com/ajax/libs/raphael/2.1.2/raphael-min.js"></script>
<script type="text/javascript" charset="utf-8" src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.7.0/underscore-min.js"></script>
<script type="text/javascript" charset="utf-8" src="https://cdnjs.cloudflare.com/ajax/libs/js-sequence-diagrams/1.0.4/sequence-diagram-min.js"></script>
<script type="text/javascript">// flowchart, v1.3.4
// Copyright (c)2014 Adriano Raiano (adrai).
// Distributed under MIT license
// http://adrai.github.io/flowchart.js
!function(){function a(b,c){if(!b||"function"==typeof b)return c;var d={};for(var e in c)d[e]=c[e];for(e in b)b[e]&&(d[e]="object"==typeof d[e]?a(d[e],b[e]):b[e]);return d}function b(a,b){if("function"==typeof Object.create)a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});else{a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}}function c(a,b,c){var d,e,f="M{0},{1}";for(d=2,e=2*c.length+2;e>d;d+=2)f+=" L{"+d+"},{"+(d+1)+"}";var g=[b.x,b.y];for(d=0,e=c.length;e>d;d++)g.push(c[d].x),g.push(c[d].y);var h=a.paper.path(f,g);h.attr("stroke",a.options["element-color"]),h.attr("stroke-width",a.options["line-width"]);var i=a.options.font,j=a.options["font-family"],k=a.options["font-weight"];return i&&h.attr({font:i}),j&&h.attr({"font-family":j}),k&&h.attr({"font-weight":k}),h}function d(a,b,c,d){var e,f;"[object Array]"!==Object.prototype.toString.call(c)&&(c=[c]);var g="M{0},{1}";for(e=2,f=2*c.length+2;f>e;e+=2)g+=" L{"+e+"},{"+(e+1)+"}";var h=[b.x,b.y];for(e=0,f=c.length;f>e;e++)h.push(c[e].x),h.push(c[e].y);var i=a.paper.path(g,h);i.attr({stroke:a.options["line-color"],"stroke-width":a.options["line-width"],"arrow-end":a.options["arrow-end"]});var j=a.options.font,k=a.options["font-family"],l=a.options["font-weight"];if(j&&i.attr({font:j}),k&&i.attr({"font-family":k}),l&&i.attr({"font-weight":l}),d){var m=!1,n=a.paper.text(0,0,d),o=!1,p=c[0];b.y===p.y&&(o=!0);var q=0,r=0;m?(q=b.x>p.x?b.x-(b.x-p.x)/2:p.x-(p.x-b.x)/2,r=b.y>p.y?b.y-(b.y-p.y)/2:p.y-(p.y-b.y)/2,o?(q-=n.getBBox().width/2,r-=a.options["text-margin"]):(q+=a.options["text-margin"],r-=n.getBBox().height/2)):(q=b.x,r=b.y,o?(q+=a.options["text-margin"]/2,r-=a.options["text-margin"]):(q+=a.options["text-margin"]/2,r+=a.options["text-margin"])),n.attr({"text-anchor":"start","font-size":a.options["font-size"],fill:a.options["font-color"],x:q,y:r}),j&&n.attr({font:j}),k&&n.attr({"font-family":k}),l&&n.attr({"font-weight":l})}return i}function e(a,b,c,d,e,f,g,h){var i,j,k,l,m,n={x:null,y:null,onLine1:!1,onLine2:!1};return i=(h-f)*(c-a)-(g-e)*(d-b),0===i?n:(j=b-f,k=a-e,l=(g-e)*j-(h-f)*k,m=(c-a)*j-(d-b)*k,j=l/i,k=m/i,n.x=a+j*(c-a),n.y=b+j*(d-b),j>0&&1>j&&(n.onLine1=!0),k>0&&1>k&&(n.onLine2=!0),n)}function f(a,b){b=b||{},this.paper=new Raphael(a),this.options=r.defaults(b,q),this.symbols=[],this.lines=[],this.start=null}function g(a,b,c){this.chart=a,this.group=this.chart.paper.set(),this.symbol=c,this.connectedTo=[],this.symbolType=b.symbolType,this.flowstate=b.flowstate||"future",this.next_direction=b.next&&b.direction_next?b.direction_next:void 0,this.text=this.chart.paper.text(0,0,b.text),b.key&&(this.text.node.id=b.key+"t"),this.text.node.setAttribute("class",this.getAttr("class")+"t"),this.text.attr({"text-anchor":"start",x:this.getAttr("text-margin"),fill:this.getAttr("font-color"),"font-size":this.getAttr("font-size")});var d=this.getAttr("font"),e=this.getAttr("font-family"),f=this.getAttr("font-weight");d&&this.text.attr({font:d}),e&&this.text.attr({"font-family":e}),f&&this.text.attr({"font-weight":f}),b.link&&this.text.attr("href",b.link),b.target&&this.text.attr("target",b.target);var g=this.getAttr("maxWidth");if(g){for(var h=b.text.split(" "),i="",j=0,k=h.length;k>j;j++){var l=h[j];this.text.attr("text",i+" "+l),i+=this.text.getBBox().width>g?"\n"+l:" "+l}this.text.attr("text",i.substring(1))}if(this.group.push(this.text),c){var m=this.getAttr("text-margin");c.attr({fill:this.getAttr("fill"),stroke:this.getAttr("element-color"),"stroke-width":this.getAttr("line-width"),width:this.text.getBBox().width+2*m,height:this.text.getBBox().height+2*m}),c.node.setAttribute("class",this.getAttr("class")),b.link&&c.attr("href",b.link),b.target&&c.attr("target",b.target),b.key&&(c.node.id=b.key),this.group.push(c),c.insertBefore(this.text),this.text.attr({y:c.getBBox().height/2}),this.initialize()}}function h(a,b){var c=a.paper.rect(0,0,0,0,20);b=b||{},b.text=b.text||"Start",g.call(this,a,b,c)}function i(a,b){var c=a.paper.rect(0,0,0,0,20);b=b||{},b.text=b.text||"End",g.call(this,a,b,c)}function j(a,b){var c=a.paper.rect(0,0,0,0);b=b||{},g.call(this,a,b,c)}function k(a,b){var c=a.paper.rect(0,0,0,0);b=b||{},g.call(this,a,b,c),c.attr({width:this.text.getBBox().width+4*this.getAttr("text-margin")}),this.text.attr({x:2*this.getAttr("text-margin")});var d=a.paper.rect(0,0,0,0);d.attr({x:this.getAttr("text-margin"),stroke:this.getAttr("element-color"),"stroke-width":this.getAttr("line-width"),width:this.text.getBBox().width+2*this.getAttr("text-margin"),height:this.text.getBBox().height+2*this.getAttr("text-margin"),fill:this.getAttr("fill")}),b.key&&(d.node.id=b.key+"i");var e=this.getAttr("font"),f=this.getAttr("font-family"),h=this.getAttr("font-weight");e&&d.attr({font:e}),f&&d.attr({"font-family":f}),h&&d.attr({"font-weight":h}),b.link&&d.attr("href",b.link),b.target&&d.attr("target",b.target),this.group.push(d),d.insertBefore(this.text),this.initialize()}function l(a,b){b=b||{},g.call(this,a,b),this.textMargin=this.getAttr("text-margin"),this.text.attr({x:3*this.textMargin});var d=this.text.getBBox().width+4*this.textMargin,e=this.text.getBBox().height+2*this.textMargin,f=this.textMargin,h=e/2,i={x:f,y:h},j=[{x:f-this.textMargin,y:e},{x:f-this.textMargin+d,y:e},{x:f-this.textMargin+d+2*this.textMargin,y:0},{x:f-this.textMargin+2*this.textMargin,y:0},{x:f,y:h}],k=c(a,i,j);k.attr({stroke:this.getAttr("element-color"),"stroke-width":this.getAttr("line-width"),fill:this.getAttr("fill")}),b.link&&k.attr("href",b.link),b.target&&k.attr("target",b.target),b.key&&(k.node.id=b.key),k.node.setAttribute("class",this.getAttr("class")),this.text.attr({y:k.getBBox().height/2}),this.group.push(k),k.insertBefore(this.text),this.initialize()}function m(a,b){b=b||{},g.call(this,a,b),this.textMargin=this.getAttr("text-margin"),this.yes_direction="bottom",this.no_direction="right",b.yes&&b.direction_yes&&b.no&&!b.direction_no?"right"===b.direction_yes?(this.no_direction="bottom",this.yes_direction="right"):(this.no_direction="right",this.yes_direction="bottom"):b.yes&&!b.direction_yes&&b.no&&b.direction_no?"right"===b.direction_no?(this.yes_direction="bottom",this.no_direction="right"):(this.yes_direction="right",this.no_direction="bottom"):(this.yes_direction="bottom",this.no_direction="right"),this.yes_direction=this.yes_direction||"bottom",this.no_direction=this.no_direction||"right",this.text.attr({x:2*this.textMargin});var d=this.text.getBBox().width+3*this.textMargin;d+=d/2;var e=this.text.getBBox().height+2*this.textMargin;e+=e/2,e=Math.max(.5*d,e);var f=d/4,h=e/4;this.text.attr({x:f+this.textMargin/2});var i={x:f,y:h},j=[{x:f-d/4,y:h+e/4},{x:f-d/4+d/2,y:h+e/4+e/2},{x:f-d/4+d,y:h+e/4},{x:f-d/4+d/2,y:h+e/4-e/2},{x:f-d/4,y:h+e/4}],k=c(a,i,j);k.attr({stroke:this.getAttr("element-color"),"stroke-width":this.getAttr("line-width"),fill:this.getAttr("fill")}),b.link&&k.attr("href",b.link),b.target&&k.attr("target",b.target),b.key&&(k.node.id=b.key),k.node.setAttribute("class",this.getAttr("class")),this.text.attr({y:k.getBBox().height/2}),this.group.push(k),k.insertBefore(this.text),this.initialize()}function n(a){function b(a){var b=a.indexOf("(")+1,c=a.indexOf(")");return b>=0&&c>=0?d.symbols[a.substring(0,b-1)]:d.symbols[a]}function c(a){var b="next",c=a.indexOf("(")+1,d=a.indexOf(")");return c>=0&&d>=0&&(b=D.substring(c,d),b.indexOf(",")<0&&"yes"!==b&&"no"!==b&&(b="next, "+b)),b}a=a||"",a=a.trim();for(var d={symbols:{},start:null,drawSVG:function(a,b){function c(a){if(g[a.key])return g[a.key];switch(a.symbolType){case"start":g[a.key]=new h(e,a);break;case"end":g[a.key]=new i(e,a);break;case"operation":g[a.key]=new j(e,a);break;case"inputoutput":g[a.key]=new l(e,a);break;case"subroutine":g[a.key]=new k(e,a);break;case"condition":g[a.key]=new m(e,a);break;default:return new Error("Wrong symbol type!")}return g[a.key]}var d=this;this.diagram&&this.diagram.clean();var e=new f(a,b);this.diagram=e;var g={};!function n(a,b,f){var g=c(a);return d.start===a?e.startWith(g):b&&f&&!b.pathOk&&(b instanceof m?(f.yes===a&&b.yes(g),f.no===a&&b.no(g)):b.then(g)),g.pathOk?g:(g instanceof m?(a.yes&&n(a.yes,g,a),a.no&&n(a.no,g,a)):a.next&&n(a.next,g,a),g)}(this.start),e.render()},clean:function(){this.diagram.clean()}},e=[],g=0,n=1,o=a.length;o>n;n++)if("\n"===a[n]&&"\\"!==a[n-1]){var p=a.substring(g,n);g=n+1,e.push(p.replace(/\\\n/g,"\n"))}g<a.length&&e.push(a.substr(g));for(var q=1,r=e.length;r>q;){var s=e[q];s.indexOf(": ")<0&&s.indexOf("(")<0&&s.indexOf(")")<0&&s.indexOf("->")<0&&s.indexOf("=>")<0?(e[q-1]+="\n"+s,e.splice(q,1),r--):q++}for(;e.length>0;){var t=e.splice(0,1)[0];if(t.indexOf("=>")>=0){var u,v=t.split("=>"),w={key:v[0],symbolType:v[1],text:null,link:null,target:null,flowstate:null};if(w.symbolType.indexOf(": ")>=0&&(u=w.symbolType.split(": "),w.symbolType=u[0],w.text=u[1]),w.text&&w.text.indexOf(":>")>=0?(u=w.text.split(":>"),w.text=u[0],w.link=u[1]):w.symbolType.indexOf(":>")>=0&&(u=w.symbolType.split(":>"),w.symbolType=u[0],w.link=u[1]),w.symbolType.indexOf("\n")>=0&&(w.symbolType=w.symbolType.split("\n")[0]),w.link){var x=w.link.indexOf("[")+1,y=w.link.indexOf("]");x>=0&&y>=0&&(w.target=w.link.substring(x,y),w.link=w.link.substring(0,x-1))}if(w.text&&w.text.indexOf("|")>=0){var z=w.text.split("|");w.text=z[0],w.flowstate=z[1].trim()}d.symbols[w.key]=w}else if(t.indexOf("->")>=0)for(var A=t.split("->"),B=0,C=A.length;C>B;B++){var D=A[B],E=b(D),F=c(D),G=null;if(F.indexOf(",")>=0){var H=F.split(",");F=H[0],G=H[1].trim()}if(d.start||(d.start=E),C>B+1){var I=A[B+1];E[F]=b(I),E["direction_"+F]=G,G=null}}}return d}Array.prototype.indexOf||(Array.prototype.indexOf=function(a){"use strict";if(null===this)throw new TypeError;var b=Object(this),c=b.length>>>0;if(0===c)return-1;var d=0;if(arguments.length>0&&(d=Number(arguments[1]),d!=d?d=0:0!==d&&1/0!=d&&d!=-1/0&&(d=(d>0||-1)*Math.floor(Math.abs(d)))),d>=c)return-1;for(var e=d>=0?d:Math.max(c-Math.abs(d),0);c>e;e++)if(e in b&&b[e]===a)return e;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(a){"use strict";if(null===this)throw new TypeError;var b=Object(this),c=b.length>>>0;if(0===c)return-1;var d=c;arguments.length>1&&(d=Number(arguments[1]),d!=d?d=0:0!==d&&d!=1/0&&d!=-(1/0)&&(d=(d>0||-1)*Math.floor(Math.abs(d))));for(var e=d>=0?Math.min(d,c-1):c-Math.abs(d);e>=0;e--)if(e in b&&b[e]===a)return e;return-1}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var o=this,p={};"undefined"!=typeof module&&module.exports?module.exports=p:o.flowchart=o.flowchart||p;var q={x:0,y:0,"line-width":3,"line-length":50,"text-margin":10,"font-size":14,"font-color":"black","line-color":"black","element-color":"black",fill:"white","yes-text":"yes","no-text":"no","arrow-end":"block","class":"flowchart",symbols:{start:{},end:{},condition:{},inputoutput:{},operation:{},subroutine:{}}},r={defaults:a,inherits:b};f.prototype.handle=function(a){this.symbols.indexOf(a)<=-1&&this.symbols.push(a);var b=this;return a instanceof m?(a.yes=function(c){return a.yes_symbol=c,a.no_symbol&&(a.pathOk=!0),b.handle(c)},a.no=function(c){return a.no_symbol=c,a.yes_symbol&&(a.pathOk=!0),b.handle(c)}):a.then=function(c){return a.next=c,a.pathOk=!0,b.handle(c)},a},f.prototype.startWith=function(a){return this.start=a,this.handle(a)},f.prototype.render=function(){var a,b=0,c=0,d=0,e=0,f=0,g=0;for(d=0,e=this.symbols.length;e>d;d++)a=this.symbols[d],a.width>b&&(b=a.width),a.height>c&&(c=a.height);for(d=0,e=this.symbols.length;e>d;d++)a=this.symbols[d],a.shiftX(this.options.x+(b-a.width)/2+this.options["line-width"]),a.shiftY(this.options.y+(c-a.height)/2+this.options["line-width"]);for(this.start.render(),d=0,e=this.symbols.length;e>d;d++)a=this.symbols[d],a.renderLines();for(f=this.maxXFromLine,d=0,e=this.symbols.length;e>d;d++){a=this.symbols[d];var h=a.getX()+a.width,i=a.getY()+a.height;h>f&&(f=h),i>g&&(g=i)}this.paper.setSize(f+this.options["line-width"],g+this.options["line-width"])},f.prototype.clean=function(){if(this.paper){var a=this.paper.canvas;a.parentNode.removeChild(a)}},g.prototype.getAttr=function(a){if(!this.chart)return void 0;var b,c=this.chart.options?this.chart.options[a]:void 0,d=this.chart.options.symbols?this.chart.options.symbols[this.symbolType][a]:void 0;return this.chart.options.flowstate&&this.chart.options.flowstate[this.flowstate]&&(b=this.chart.options.flowstate[this.flowstate][a]),b||d||c},g.prototype.initialize=function(){this.group.transform("t"+this.getAttr("line-width")+","+this.getAttr("line-width")),this.width=this.group.getBBox().width,this.height=this.group.getBBox().height},g.prototype.getCenter=function(){return{x:this.getX()+this.width/2,y:this.getY()+this.height/2}},g.prototype.getX=function(){return this.group.getBBox().x},g.prototype.getY=function(){return this.group.getBBox().y},g.prototype.shiftX=function(a){this.group.transform("t"+(this.getX()+a)+","+this.getY())},g.prototype.setX=function(a){this.group.transform("t"+a+","+this.getY())},g.prototype.shiftY=function(a){this.group.transform("t"+this.getX()+","+(this.getY()+a))},g.prototype.setY=function(a){this.group.transform("t"+this.getX()+","+a)},g.prototype.getTop=function(){var a=this.getY(),b=this.getX()+this.width/2;return{x:b,y:a}},g.prototype.getBottom=function(){var a=this.getY()+this.height,b=this.getX()+this.width/2;return{x:b,y:a}},g.prototype.getLeft=function(){var a=this.getY()+this.group.getBBox().height/2,b=this.getX();return{x:b,y:a}},g.prototype.getRight=function(){var a=this.getY()+this.group.getBBox().height/2,b=this.getX()+this.group.getBBox().width;return{x:b,y:a}},g.prototype.render=function(){if(this.next){var a=this.getAttr("line-length");if("right"===this.next_direction){var b=this.getRight();if(this.next.getLeft(),!this.next.isPositioned){this.next.setY(b.y-this.next.height/2),this.next.shiftX(this.group.getBBox().x+this.width+a);var c=this;!function e(){for(var b,d=!1,f=0,g=c.chart.symbols.length;g>f;f++){b=c.chart.symbols[f];var h=Math.abs(b.getCenter().x-c.next.getCenter().x);if(b.getCenter().y>c.next.getCenter().y&&h<=c.next.width/2){d=!0;break}}d&&(c.next.setX(b.getX()+b.width+a),e())}(),this.next.isPositioned=!0,this.next.render()}}else{var d=this.getBottom();this.next.getTop(),this.next.isPositioned||(this.next.shiftY(this.getY()+this.height+a),this.next.setX(d.x-this.next.width/2),this.next.isPositioned=!0,this.next.render())}}},g.prototype.renderLines=function(){this.next&&(this.next_direction?this.drawLineTo(this.next,"",this.next_direction):this.drawLineTo(this.next))},g.prototype.drawLineTo=function(a,b,c){this.connectedTo.indexOf(a)<0&&this.connectedTo.push(a);var f,g=this.getCenter().x,h=this.getCenter().y,i=(this.getTop(),this.getRight()),j=this.getBottom(),k=this.getLeft(),l=a.getCenter().x,m=a.getCenter().y,n=a.getTop(),o=a.getRight(),p=(a.getBottom(),a.getLeft()),q=g===l,r=h===m,s=m>h,t=h>m,u=g>l,v=l>g,w=0,x=this.getAttr("line-length"),y=this.getAttr("line-width");if(c&&"bottom"!==c||!q||!s)if(c&&"right"!==c||!r||!v)if(c&&"left"!==c||!r||!u)if(c&&"right"!==c||!q||!t)if(c&&"right"!==c||!q||!s)if(c&&"bottom"!==c||!u)if(c&&"bottom"!==c||!v)if(c&&"right"===c&&u)f=d(this.chart,i,[{x:i.x+x/2,y:i.y},{x:i.x+x/2,y:n.y-x/2},{x:n.x,y:n.y-x/2},{x:n.x,y:n.y}],b),this.rightStart=!0,a.topEnd=!0,w=i.x+x/2;else if(c&&"right"===c&&v)f=d(this.chart,i,[{x:n.x,y:i.y},{x:n.x,y:n.y}],b),this.rightStart=!0,a.topEnd=!0,w=i.x+x/2;else if(c&&"bottom"===c&&q&&t)f=d(this.chart,j,[{x:j.x,y:j.y+x/2},{x:i.x+x/2,y:j.y+x/2},{x:i.x+x/2,y:n.y-x/2},{x:n.x,y:n.y-x/2},{x:n.x,y:n.y}],b),this.bottomStart=!0,a.topEnd=!0,w=j.x+x/2;else if("left"===c&&q&&t){var z=k.x-x/2;p.x<k.x&&(z=p.x-x/2),f=d(this.chart,k,[{x:z,y:k.y},{x:z,y:n.y-x/2},{x:n.x,y:n.y-x/2},{x:n.x,y:n.y}],b),this.leftStart=!0,a.topEnd=!0,w=k.x}else"left"===c&&(f=d(this.chart,k,[{x:n.x+(k.x-n.x)/2,y:k.y},{x:n.x+(k.x-n.x)/2,y:n.y-x/2},{x:n.x,y:n.y-x/2},{x:n.x,y:n.y}],b),this.leftStart=!0,a.topEnd=!0,w=k.x);else f=d(this.chart,j,[{x:j.x,y:j.y+x/2},{x:j.x+(j.x-n.x)/2,y:j.y+x/2},{x:j.x+(j.x-n.x)/2,y:n.y-x/2},{x:n.x,y:n.y-x/2},{x:n.x,y:n.y}],b),this.bottomStart=!0,a.topEnd=!0,w=j.x+(j.x-n.x)/2;else f=this.leftEnd&&t?d(this.chart,j,[{x:j.x,y:j.y+x/2},{x:j.x+(j.x-n.x)/2,y:j.y+x/2},{x:j.x+(j.x-n.x)/2,y:n.y-x/2},{x:n.x,y:n.y-x/2},{x:n.x,y:n.y}],b):d(this.chart,j,[{x:j.x,y:n.y-x/2},{x:n.x,y:n.y-x/2},{x:n.x,y:n.y}],b),this.bottomStart=!0,a.topEnd=!0,w=j.x+(j.x-n.x)/2;else f=d(this.chart,i,[{x:i.x+x/2,y:i.y},{x:i.x+x/2,y:n.y-x/2},{x:n.x,y:n.y-x/2},{x:n.x,y:n.y}],b),this.rightStart=!0,a.topEnd=!0,w=i.x+x/2;else f=d(this.chart,i,[{x:i.x+x/2,y:i.y},{x:i.x+x/2,y:n.y-x/2},{x:n.x,y:n.y-x/2},{x:n.x,y:n.y}],b),this.rightStart=!0,a.topEnd=!0,w=i.x+x/2;else f=d(this.chart,k,o,b),this.leftStart=!0,a.rightEnd=!0,w=o.x;else f=d(this.chart,i,p,b),this.rightStart=!0,a.leftEnd=!0,w=p.x;else f=d(this.chart,j,n,b),this.bottomStart=!0,a.topEnd=!0,w=j.x;if(f){for(var A=0,B=this.chart.lines.length;B>A;A++)for(var C,D=this.chart.lines[A],E=D.attr("path"),F=f.attr("path"),G=0,H=E.length-1;H>G;G++){var I=[];I.push(["M",E[G][1],E[G][2]]),I.push(["L",E[G+1][1],E[G+1][2]]);for(var J=I[0][1],K=I[0][2],L=I[1][1],M=I[1][2],N=0,O=F.length-1;O>N;N++){var P=[];P.push(["M",F[N][1],F[N][2]]),P.push(["L",F[N+1][1],F[N+1][2]]);var Q=P[0][1],R=P[0][2],S=P[1][1],T=P[1][2],U=e(J,K,L,M,Q,R,S,T);if(U.onLine1&&U.onLine2){var V;R===T?Q>S?(V=["L",U.x+2*y,R],F.splice(N+1,0,V),V=["C",U.x+2*y,R,U.x,R-4*y,U.x-2*y,R],F.splice(N+2,0,V),f.attr("path",F)):(V=["L",U.x-2*y,R],F.splice(N+1,0,V),V=["C",U.x-2*y,R,U.x,R-4*y,U.x+2*y,R],F.splice(N+2,0,V),f.attr("path",F)):R>T?(V=["L",Q,U.y+2*y],F.splice(N+1,0,V),V=["C",Q,U.y+2*y,Q+4*y,U.y,Q,U.y-2*y],F.splice(N+2,0,V),f.attr("path",F)):(V=["L",Q,U.y-2*y],F.splice(N+1,0,V),V=["C",Q,U.y-2*y,Q+4*y,U.y,Q,U.y+2*y],F.splice(N+2,0,V),f.attr("path",F)),N+=2,C+=2}}}this.chart.lines.push(f)}(!this.chart.maxXFromLine||this.chart.maxXFromLine&&w>this.chart.maxXFromLine)&&(this.chart.maxXFromLine=w)},r.inherits(h,g),r.inherits(i,g),r.inherits(j,g),r.inherits(k,g),r.inherits(l,g),l.prototype.getLeft=function(){var a=this.getY()+this.group.getBBox().height/2,b=this.getX()+this.textMargin;return{x:b,y:a}},l.prototype.getRight=function(){var a=this.getY()+this.group.getBBox().height/2,b=this.getX()+this.group.getBBox().width-this.textMargin;return{x:b,y:a}},r.inherits(m,g),m.prototype.render=function(){this.yes_direction&&(this[this.yes_direction+"_symbol"]=this.yes_symbol),this.no_direction&&(this[this.no_direction+"_symbol"]=this.no_symbol);var a=this.getAttr("line-length");if(this.bottom_symbol){var b=this.getBottom();this.bottom_symbol.getTop(),this.bottom_symbol.isPositioned||(this.bottom_symbol.shiftY(this.getY()+this.height+a),this.bottom_symbol.setX(b.x-this.bottom_symbol.width/2),this.bottom_symbol.isPositioned=!0,this.bottom_symbol.render())}if(this.right_symbol){var c=this.getRight();if(this.right_symbol.getLeft(),!this.right_symbol.isPositioned){this.right_symbol.setY(c.y-this.right_symbol.height/2),this.right_symbol.shiftX(this.group.getBBox().x+this.width+a);var d=this;!function e(){for(var b,c=!1,f=0,g=d.chart.symbols.length;g>f;f++){b=d.chart.symbols[f];var h=Math.abs(b.getCenter().x-d.right_symbol.getCenter().x);if(b.getCenter().y>d.right_symbol.getCenter().y&&h<=d.right_symbol.width/2){c=!0;break}}c&&(d.right_symbol.setX(b.getX()+b.width+a),e())}(),this.right_symbol.isPositioned=!0,this.right_symbol.render()}}},m.prototype.renderLines=function(){this.yes_symbol&&this.drawLineTo(this.yes_symbol,this.getAttr("yes-text"),this.yes_direction),this.no_symbol&&this.drawLineTo(this.no_symbol,this.getAttr("no-text"),this.no_direction)},p.parse=n}();
</script>
<script type="text/javascript">
(function (win, doc) {
  function onReady(fn) {
    if (doc.addEventListener) {
      doc.addEventListener('DOMContentLoaded', fn);
    } else {
      doc.attachEvent('onreadystatechange', function() {
        if (doc.readyState === 'interactive')
          fn();
      });
    }
  }

  win.convertUML = function(className, converter, settings) {
    var charts = doc.querySelectorAll("pre." + className),
        arr = [],
        i, j, maxItem, diagaram, text, curNode;

    // Is there a settings object?
    if (settings === void 0) {
        settings = {};
    }

    // Make sure we are dealing with an array
    for(i = 0, maxItem = charts.length; i < maxItem; i++) arr.push(charts[i])

    // Find the UML source element and get the text
    for (i = 0, maxItem = arr.length; i < maxItem; i++) {
        childEl = arr[i].firstChild;
        parentEl = childEl.parentNode;
        text = "";
        for (j = 0; j < childEl.childNodes.length; j++) {
            curNode = childEl.childNodes[j];
            whitespace = /^\s*$/;
            if (curNode.nodeName === "#text" && !(whitespace.test(curNode.nodeValue))) {
                text = curNode.nodeValue;
                break;
            }
        }

        // Do UML conversion and replace source
        el = doc.createElement('div');
        el.className = className;
        parentEl.parentNode.insertBefore(el, parentEl);
        parentEl.parentNode.removeChild(parentEl);
        diagram = converter.parse(text);
        diagram.drawSVG(el, settings);
    }
  }

  onReady(function(){convertUML('uml-flowchart', flowchart);});
  onReady(function(){convertUML('uml-sequence-diagram', Diagram, {theme: 'simple'});});
})(window, document)
</script>
<title>Projekt: XY-Galvo Scanner</title></head><body><article class="markdown-body paragraphNum"><p><boxed>Vorläufige Ausarbeitung <img style="display: inline-block; width: 120px;" src="pics/signature_no1_blue.png" title="Signature: M. Del Basso" align="center" class="noborder"></boxed> </p>
<h1 id="projekt-xy-galvo-scanner"><a name="user-content-projekt-xy-galvo-scanner" href="#projekt-xy-galvo-scanner" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Projekt: <strong>XY-Galvo Scanner</strong></h1><div class="toc">
<ul>
<li><a href="#projekt-xy-galvo-scanner">Projekt: XY-Galvo Scanner</a></li>
<li><a href="#navigation">Navigation</a></li>
<li><a href="#vorwort">Vorwort</a><ul>
<li><a href="#v-modell">V-Modell</a></li>
</ul>
</li>
<li><a href="#einleitung">Einleitung</a></li>
<li><a href="#vorarbeit">Vorarbeit</a><ul>
<li><a href="#ursprungliche-motivation">Ursprüngliche Motivation</a></li>
<li><a href="#fertigungsproblematik">Fertigungsproblematik</a></li>
<li><a href="#industriell-gefertigte-motoren">Industriell gefertigte Motoren</a></li>
</ul>
</li>
<li><a href="#projektziel-und-anforderungskatalog">Projektziel und Anforderungskatalog</a></li>
<li><a href="#terminologie">Terminologie</a><ul>
<li><a href="#galvanometer">Galvanometer</a></li>
<li><a href="#system">System</a></li>
<li><a href="#modell">Modell</a><ul>
<li><a href="#beispiel">Beispiel</a></li>
</ul>
</li>
<li><a href="#modellbildung">Modellbildung</a></li>
</ul>
</li>
<li><a href="#formelzeichen-und-einheiten">Formelzeichen und Einheiten</a><ul>
<li><a href="#zeitabhangige-groen">Zeitabhängige Größen</a></li>
<li><a href="#konstanten">Konstanten</a></li>
</ul>
</li>
<li><a href="#projektplan-und-v-modell">Projektplan und V-Modell</a></li>
<li><span style="color: #959595;">Regelungstechnik</span><ul>
<li><span style="color: #959595;">Diskretisierungsverfahren</span></li>
<li><a href="#regelungsnormalform">Regelungsnormalform</a></li>
</ul>
</li>
<li><a href="#modellbildung_1">Modellbildung</a><ul>
<li><a href="#generische-modelle">Generische Modelle</a></li>
<li><a href="#mathematische-zusammenhange">Mathematische Zusammenhänge</a><ul>
<li><a href="#translation-und-rotation">Translation und Rotation</a></li>
<li><a href="#energiebilanz-in-allgemeiner-form">Energiebilanz in allgemeiner Form</a></li>
<li><a href="#impulsbilanzgleichung">Impulsbilanzgleichung</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#modellbildungsprozess">Modellbildungsprozess</a><ul>
<li><a href="#regelstrecke">Regelstrecke</a><ul>
<li><a href="#klassifizierung">Klassifizierung</a></li>
<li><a href="#herstellerspezifikation">Herstellerspezifikation</a></li>
<li><a href="#elektrische-komponenten">Elektrische Komponenten</a><ul>
<li><a href="#elektrisches-teilsystem">Elektrisches Teilsystem</a></li>
<li><a href="#back-emf">Back-EMF</a></li>
<li><a href="#elektrisch-generiertes-drehmoment">Elektrisch generiertes Drehmoment</a></li>
<li><a href="#positionssensor">Positionssensor</a></li>
</ul>
</li>
<li><a href="#mechanische-komponenten">Mechanische Komponenten</a><ul>
<li><a href="#lastmoment">Lastmoment</a></li>
<li><a href="#mechanisches-teilsystem">Mechanisches Teilsystem</a></li>
<li><a href="#verbindung-der-teilsysteme">Verbindung der Teilsysteme</a></li>
</ul>
</li>
<li><a href="#gesamtmodell-regelstrecke">Gesamtmodell Regelstrecke</a></li>
</ul>
</li>
<li><span style="color: #959595;">Stellglied / Leistungsteil</span></li>
<li><span style="color: #959595;">Signalkonditionierung</span></li>
<li><span style="color: #959595;">Angaben zur Systemdynamik</span></li>
<li><a href="#spezifikationen-des-gesamtsystems">Spezifikationen des Gesamtsystems</a></li>
</ul>
</li>
<li><span style="color: #959595;">Modellverifikation</span><ul>
<li><span style="color: #959595;">Testsignale</span><ul>
<li><span style="color: #959595;">Problematik der Sättigung</span></li>
</ul>
</li>
<li><span style="color: #959595;">Modellparameter vergleichbaren</span></li>
<li><span style="color: #959595;">Step-by-Step</span></li>
<li><span style="color: #959595;">Regelalgorithmen testen:</span><ul>
<li><span style="color: #959595;">RC-Glied direkt an gepufferten DAC</span></li>
<li><span style="color: #959595;">Testsignale im uC erzeugen</span></li>
<li><span style="color: #959595;">Oszibilder mit MATLAB-Simulation vergl.</span></li>
</ul>
</li>
</ul>
</li>
<li><a href="#architekturbeschreibung">Architekturbeschreibung</a><ul>
<li><a href="#gesamtsystem-modell">Gesamtsystem-Modell</a></li>
<li><a href="#softwarearchitektur">Softwarearchitektur</a></li>
<li><a href="#was-ist-softwarearchitektur">Was ist Softwarearchitektur?</a></li>
<li><a href="#model-driven-architecture-mda">Model-Driven Architecture (MDA)</a><ul>
<li><a href="#unified-modeling-language-uml">Unified Modeling Language (UML)</a></li>
<li><a href="#uml2-industriestandard">UML2 - Industriestandard</a></li>
<li><a href="#diagramme-als-sicht">Diagramme als Sicht</a></li>
</ul>
</li>
<li><a href="#architekturkomponenten">Architekturkomponenten</a></li>
</ul>
</li>
<li><a href="#plattform">Plattform</a><ul>
<li><a href="#warum-arm">Warum ARM?</a></li>
<li><a href="#warum-cortex-m4">Warum Cortex-M4?</a><ul>
<li><a href="#architektur-profil-m-oder-r">Architektur-Profil M oder R</a></li>
</ul>
</li>
<li><a href="#cmsis-der-cortex-software-schnittstellen-standard">CMSIS - Der Cortex-Software Schnittstellen-Standard</a></li>
<li><a href="#multiply-accumulate-sum-of-products">Multiply-Accumulate / Sum-Of-Products</a></li>
<li><a href="#texas-instruments-c2000-und-der-cla">Texas Instruments C2000 und der CLA</a></li>
<li><a href="#software">Software</a></li>
</ul>
</li>
<li><a href="#software-und-simulation">Software und Simulation</a><ul>
<li><a href="#hardwarenahe-programmierung-c">Hardwarenahe Programmierung (C)</a><ul>
<li><a href="#entwicklungsumgebungen-und-toolchains">Entwicklungsumgebungen und Toolchains</a></li>
<li><a href="#sw4stm32-toolchainide">SW4STM32 Toolchain/IDE</a></li>
</ul>
</li>
<li><a href="#dokumentation">Dokumentation</a></li>
<li><span style="color: #959595;">PC-Schnittstellenprogramm (C++ / Qt)</span><ul>
<li><span style="color: #959595;">Live-Zustandsüberwachung</span></li>
<li><span style="color: #959595;">Parameter Manipulation</span></li>
</ul>
</li>
<li><span style="color: #959595;">Schaltungssimulation und Netzwerkanalyse (LTspice)</span></li>
<li><span style="color: #959595;">System- und Reglersimulation (Simulink)</span></li>
<li><span style="color: #959595;">Schnittstelle Spice-to-Simulink (MATLAB)</span><ul>
<li><a href="#ltspice-matlab-freqency-response-estimation">LTspice &lt;-&gt; MATLAB: Freqency response estimation</a></li>
</ul>
</li>
<li><span style="color: #959595;">Debuggen in sw4stm32</span></li>
</ul>
</li>
<li><a href="#quelldaten-generieren">Quelldaten generieren</a><ul>
<li><a href="#python-skript">Python Skript</a></li>
</ul>
</li>
<li><span style="color: #959595;">Gesamtsystem</span></li>
<li><span style="color: #959595;">Hardware</span></li>
<li><span style="color: #959595;">Resümee</span></li>
<li><a href="#quellenangaben">Quellenangaben</a></li>
<li><a href="#notes">Notes</a></li>
<li><span style="color: #959595;">Trash</span></li>
</ul>
</div>
<h1 id="navigation"><a name="user-content-navigation" href="#navigation" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Navigation</h1>
<table>
<thead>
<tr>
<th>Tastenkombination</th>
<th align="center">Funktion</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Alt+Links</strong></td>
<td align="center">Rücksprung zur Ausgangsposition nach Aktivierung eines Hyperlinks <br><span style="background-color: yellow"> Testen ob auch in Windows 7/10: IExplorer, firefox, Chrome </span></td>
</tr>
</tbody>
</table>
<p></center></p>
<h1 id="vorwort"><a name="user-content-vorwort" href="#vorwort" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Vorwort</h1>
<p>Diese Ausarbeitung ist in Anlehnung an das Anerkennungsgespräch vom 02.11.2016 entstanden und dient der Einschätzung des Wissensstands.</p>
<p>Gesprächsnotiz:</p>
<table>
<thead>
<tr>
<th>Modul</th>
<th>Bezeichnung</th>
</tr>
</thead>
<tbody>
<tr>
<td>ELT201</td>
<td>Softwareentwurf</td>
</tr>
<tr>
<td>ELT203</td>
<td>Betriebssysteme</td>
</tr>
<tr>
<td>ELT204</td>
<td>Hardwarenahe Programmierung I</td>
</tr>
<tr>
<td>ELT237</td>
<td>Hardwarenahe Programmierung II (ab SS17)</td>
</tr>
<tr>
<td>ELT236</td>
<td>Embedded Systems</td>
</tr>
<tr>
<td>ELT247</td>
<td><del>Werkzeuge der Informations- und Kommun.</del></td>
</tr>
</tbody>
</table>
<ol>
<li>Doku <strong><em>C</em></strong>-Projekt<ul>
<li>Umsetzung, nicht gesamten Weg</li>
<li>nicht Architektur </li>
</ul>
</li>
<li>Doku <strong><em>C++</em></strong>-Projekt bzw. OO<ul>
<li>Allg. wie bei 1.</li>
<li>&ldquo;Wozu Unterklasse XY erstellt&rdquo; etc.</li>
</ul>
</li>
<li>Doku <strong><em>Embedded</em></strong>-Projekt <ul>
<li>plattformübergreifende Inhalte</li>
<li>inkl. Modell etc.</li>
</ul>
</li>
</ol>
<h2 id="v-modell"><a name="user-content-v-modell" href="#v-modell" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>V-Modell</h2>
<p>An einigen Stellen dieser Dokumentation wird auf Inhalte des V-Modells verwiesen bzw. auf diese Referenziert. Allgemein ist unter der Bezeichnung <em>V-Modell</em> das aktuelle <em>V-Modell <em>XT</em></em><sup id="fnref:fnV-Modell-XT"><a class="footnote-ref" href="#fn:fnV-Modell-XT" rel="footnote">25</a></sup> zu verstehen. </p>
<h1 id="einleitung"><a name="user-content-einleitung" href="#einleitung" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Einleitung</h1>
<p>Im Rahmen der hier vorgestellten Projektarbeit wurde über einen Zeitraum von ca. 12 Monaten ein System entworfen und aufgebaut, bei dem der Projekt-Schwerpunkt <strong>bewusst</strong> nicht auf ein einzelnes Teilgebiet des Studiengangs &ldquo;Nachrichtentechnik – Informationstechnik&rdquo; beschränkt werden sollte. Die praxisbezogenen Kursinhalte und Laborveranstaltungen des Grundstudiums, vertiefen die erlernten theoretischen Grundlagen und zeigen teilweise auch Methoden zur (Computer-) Modellbildung und/oder Simulation im jeweiligen Teilgebiet auf. </p>
<ul>
<li>Analog-/Digitaltechnik </li>
<li>Felder-Theorie (magnetische / elektrische)    </li>
<li>Wechselstromlehre</li>
<li>Mikrocontroller-Technik</li>
<li>Hardwarebeschreibung (VHDL)</li>
<li>Simulation von elektrischen Netzwerken (SPICE)</li>
<li>abstrakten Systembeschreibung (Laplace, Fourier)</li>
<li>Regelungstechnik</li>
<li>Diskretisierung von Systemen</li>
</ul>
<p>Einige konkreFür die Umsetzung eines <strong>Systemplanung</strong> wie auch für die spätere Umsetzung als grundlegend und unerlässlich angesehen wird. Einige öffentliche Vorträge zum Thema &ldquo;System Konzeption und Beschreibung in der Praxis&rdquo; wurden am Karlsruher Institut für Technologie (KIT, Universität Karlsruhe) besucht. Dadurch konnten ergänzende Inhalte zum HsKA-Modul &ldquo;Embedded Systems&rdquo; erarbeitet und teils auch bei der konkreten Teilsystem-Auslegung umgesetzt werden. </p>
<h1 id="vorarbeit"><a name="user-content-vorarbeit" href="#vorarbeit" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Vorarbeit</h1>
<p>Es folgen einige Worte zur Frage &ldquo;Wie kam es zu dem Projekt?&rdquo; und &ldquo;Was wurde letztendlich Umgesetzt?&rdquo;. Das ursprüngliche Projektvorhaben wurde nur teilweise umgesetzt, soll aber hier der Vollständigkeit halber erwähnt werden. </p>
<h2 id="ursprungliche-motivation"><a name="user-content-ursprungliche-motivation" href="#ursprungliche-motivation" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Ursprüngliche Motivation</h2>
<p>Der Besuch einer mehrtägigen Schulungsveranstaltung der Firma <em>ANSYS</em><sup id="fnref:fnWikiAnsys"><a class="footnote-ref" href="#fn:fnWikiAnsys" rel="footnote">1</a></sup> mit Schwerpunkt <em>ANSYS</em> <em>Maxwell</em><sup id="fnref:fnMaxwell"><a class="footnote-ref" href="#fn:fnMaxwell" rel="footnote">2</a></sup> sowie <em>ANSYS</em> <em>Simplorer</em><sup id="fnref:fnSimplorer"><a class="footnote-ref" href="#fn:fnSimplorer" rel="footnote">3</a></sup> im Rahmen meiner Formula-Student Mitgliedschaft, weckte das Interesse an einem Projekt im Bereich &ldquo;Multiphysik und Systemsimulation&rdquo;. Der nachfolgende Abschnitt &ldquo;Projektziel&rdquo; wurde der ursprünglichen Projektanfrage entnommen. Weitere Details sowie erste Simulationsergebnisse (Maxwell FEM-Modell + Simplorer Regelkreis), können in der ursprünglichen Projektanfrage<sup id="fnref:fnAnfrageBrunner"><a class="footnote-ref" href="#fn:fnAnfrageBrunner" rel="footnote">7</a></sup> eingesehen werden. </p>
<blockquote>
<p><a name="refProjectDesc"/> Ziel des Projektes ist </a> der Aufbau eines funktionsfähigen XY-Galvanometer-Scanners mit selbstentworfenen Galvanometer-Motoren + Leistungstreiber und eines in C implementierten Software-Reglers (&hellip;). Als Galvanometer-Motor-Typ ist ein &ldquo;Moving magnet motor&rdquo; geplant. Um die Motorkonstruktion einfach zu halten, ist ein Stator Design mit nur einem Polpaar angedacht.<br />
<a name="refExplainFEMSol"/> </a><br />
Unter Zuhilfenahme der FEM-Simulationsumgebung &ldquo;Maxwell&rdquo; + &ldquo;Simplorer&rdquo;, sollen Reglerparameter anhand eines nichtlinearen Modells des Galvanometer-Motors optimiert werden. Die Sollwert-Vorgaben für die XY-Winkelpositionen werden vorerst als einfache Lookup-Tabellen direkt auf dem Mikrocontroller erzeugt, welcher auch die diskreten Reglerfunktionen übernehmen soll. </p>
<p>Sollte das geplante System soweit funktionieren, dass mit dem Scanner einfache geometrische Figuren erzeugt werden können (Kreise, Quadrate, Achter, &hellip;), könnte eine PC-Software zur Erzeugung von Pixelkoordinaten inkl. Dunkeltastung des Lasers als Erweiterung angedacht werden.</p>
</blockquote>
<p><img alt="GalvosXY" src="pics/galvanometerMaxwell.png" title="Anordnung der Galvanometer-Motoren in XY-Scanner Konfiguration" /></p>
<p>Statische sowie dynamische Eigenschaften der in ANSYS Maxwell konstruierten Motoren werden auf Basis finiter Elemente modelliert und in einem Multi-Domain-Modell<sup id="fnref:fnMultiDomain"><a class="footnote-ref" href="#fn:fnMultiDomain" rel="footnote">8</a></sup> abgebildet. </p>
<h2 id="fertigungsproblematik"><a name="user-content-fertigungsproblematik" href="#fertigungsproblematik" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Fertigungsproblematik</h2>
<p>Die Motorkonstruktion konnte nie vollständig an einem funktionsfähigen Prototypen getestet werden. Hierzu werden folgende Begründungen genannt:</p>
<ol>
<li>Unzureichende dynamische Eigenschaften (Rotormasse, Stabmagnet)</li>
<li>Kostenintensive / nicht vor Ort durchführbare mechanische Fertigungsschritte</li>
<li>Bearbeitung des Neodym Materials (Rotormagnet) nicht umsetzbar </li>
<li>Bearbeitung des aus Ferrit Pulver gepressten Statorkerns schwer umsetzbar </li>
<li>Verfügbarkeit ungenutzter, professioneller Galvanometer-Motoren</li>
</ol>
<p>Das &ldquo;unzureichend&rdquo; bezieht sich auf das in Abschnitt Error: Reference source not found (Zitat, letzter Abschnitt) formulierte Projektziel. Um die dynamischen Eigenschaften zu verbessern, wäre die mechanische Bearbeitung von Zukaufteilen notwendig gewesen. Nach einigen gemeinsamen Recherchen mit den Werkzeug-Spezialisten des ansässigen Instituts für Materialien und Prozesse (IMP), wurde von einer maschinellen Bearbeitung abgeraten.<sup id="fnref:fnArnoldMagn"><a class="footnote-ref" href="#fn:fnArnoldMagn" rel="footnote">4</a></sup></p>
<h2 id="industriell-gefertigte-motoren"><a name="user-content-industriell-gefertigte-motoren" href="#industriell-gefertigte-motoren" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Industriell gefertigte Motoren</h2>
<p>Für die weitere Umsetzung des Projekts kamen gebrauchte Spiegel-Galvanometer der Firma &ldquo;Cambridge Technology Inc.&rdquo; zum Einsatz. Da keine herstellerspezifischen Informationen über den mechanischen Aufbau der Cambridge Galvanometer zur Verfügung standen, konnte die in Abschnitt <a href="#ursprungliche-motivation">Ursprünglich Motivation</a> sowie die in [brun1] beschriebene Multi-Domain-Softwarelösung im weiteren Projektverlauf nicht mehr eingesetzt werden.<br />
Eine zerstörungsfreie Demontage der vorhanden Galvanometer konnte nicht gewährleistet werden. Außerdem ließe der innere mechanische Aufbau keine Rückschlüsse auf die wichtigen Materialeigenschaften des Rotors bzw. Statorkerns zu.   </p>
<p>Durch eine sorgfältige Strukturierung des Projektablaufs hätte u. U. Zeit gespart werden können. Die erarbeiteten Kenntnisse im Bereich &ldquo;Multiphysik und Systemsimulation&rdquo; sind keines falls umsonst gewesen. Hinsichtlich der produktiven Bearbeitung von Projekten, lässt der bisherige Ablauf jedoch viel Kritik zu. Fertigungsprozesse unterliegen grundsätzlich irgend welchen Einschränkungen. Bereits während der Recherche zum Thema Permanentmagnet, wäre eine Anfrage über die Bearbeitbarkeit notwendig gewesen!</p>
<h1 id="projektziel-und-anforderungskatalog"><a name="user-content-projektziel-und-anforderungskatalog" href="#projektziel-und-anforderungskatalog" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Projektziel und Anforderungskatalog</h1>
<h4 class="sphd"><span>Stand der Technik</span></h4>

<p>Diskret implementierte Regler sind in vielen Anwendungsbereichen zu finden. Durch leistungsfähigere Mikrocontroller und Signalprozessoren ist es einfacher geworden, <em>quasi-kontinuierliche</em> Systeme zu entwerfen. Aufgrund ihrer Flexibilität und einfachen Erweiterbarkeit, werden digitale Regler zunehmend einer analogen Ausführungen vorgezogen.</p>
<h4 class="sphd"><span>Systemzweck</span></h4>

<p>Als übergeordnetes Projektziel soll ein optisches Ablenksystem (2-Achsen → XY-Koordinaten) für eine Laserquelle (Laserpointer, sichtbares Spektrum) auf Basis industriell gefertigter Spiegelgalvanometer geplant, simuliert, entworfen, aufgebaut und verifiziert werden. Die <strong>Modellbildung</strong> und <strong>Simulation</strong> des Gesamtsystems soll als <strong>Schwerpunktthema</strong> betrachtet und entsprechend ausgearbeitet werden.</p>
<h4 class="sphd"><span>Systemfunktion im Detail</span></h4>

<p>Die detaillierte Beschreibung der Systemfunktionen wird untergliedert. Der Prototyp-Aufbau wird als <strong>physisches System</strong> bezeichnet während im Abschnitt <strong>Simulationsumgebung</strong> das Computermopdell des Gesamtsystems (MATLAB, Simulink, LTspice) näher beschrieben wird.</p>
<h4 class="sp"><span>Physisches System</span></h4>

<figure class="floatr topal" style="width:185px"><img src="pics/camb_6860_large_mirrors_sml_dim.png" title="Cambridge Technologies Galvanometer Modell 6860"><figcaption>Cambridge Technologies Galvanometer Modell 6860</figcaption></figure>

<p>Die beiden <lkey><a href="#klassifizierung">Moving-magnet Galvanometer</a></lkey> der Firma <a href="http://www.cambridgetechnology.com">Cambridge Technologies</a>, bilden das Herzstück des Laserscanner-Aufbaus. Durch die zeitlich versetzte Positionierung eines Laserstrahls entsprechend zweier Koordinaten-Punkte einer Ebene, entsteht eine sichtbare Linie, wenn das Anfahren der Punkte schnell genug erfolgt. <lkey>Ortsvektoren</lkey> im $\mathbb{R}^2$ eignen sich hervorragend zur Lokalisierung von Punkten in einer Ebene. Soll anhand zweier Koordinatenpaare eine Gerade $\,g\,$ durch die Punkten $\,A\,$ und $\,B\,$ abgeleitet und in Vektornotation $\vec{v}$ dargestellt werden, so gilt </p>
<p><lmjx>$ \eqlbl{ g:\;\;\;\vec{v}=\overrightarrow{A B} = \begin{pmatrix}B_x\\B_y\end{pmatrix} - \begin{pmatrix}A_x\\A_y\end{pmatrix} = \begin{pmatrix}B_x-A_x\\B_y-A_y\end{pmatrix} }{eqDirVect3} $</lmjx></p>
<p>Um einen Vektor $\vec s$ der Länge $\left| \vec s\right|$ anhand zweier Koordinatenpaare $P_0=(x_0\,|\,y_0)$ und $P_1=(x_1\,|\,y_1)$ an einer bestimmten Stelle zu beschreiben, bietet sich eine alternative Beschreibungsform für Geraden aus dem Teilgebiet der analytischen Geometrie an. In der Parameter- oder Punktrichtungsform wird ein Vektor $\vec s$ entlang einer Geraden $\,g\,$ beschrieben durch:</p>
<p>$$ g:\;\;\;\vec{s}=\vec p + \lambda\cdot\vec v\; $$</p>
<p>Durch die Linearkombination zweier XY-Tupel, dem Ortsvektor (resp. Stützvektor, Aufpunkt) $\;\vec p\;$ und dem Richtungsvektor $\;\vec v\;$, wird die Gerade $\,g\,$ eindeutig bezüglich eines Koordinaten&shy;ursprungs $\,0\,$ abgebildet. Aufgrund dieser Information lässt sich bereits eine Berechnungs&shy;vorschrift für die Implementierung auf dem Mikro&shy;controller formulieren. Um den Aufwand zur Erzeugung der notwendigen <a href="#quelldaten-generieren">Quelldaten</a> gering zu halten, muss das System in der Lage sein, einfache <lkey>Vektorgrafiken</lkey> zu verarbeiten. </p>
<div style="display: inline;">
Die später eingesetzte <lkey>Laserquelle</lkey> soll für Dauerbetrieb ausgelegt sein. Die Halbleiter-Diode eines batteriebetriebenen Standard-Laserpointers, eignet sich meist nur für den Impulsbetrieb.<a href="pics/galvoMirrorsXY_1.svg" target="_blank"><figure class="floatr" style="height: 185px;"><img style="display: inline-block;" src="pics/galvoMirrorsXY_1.svg" title="Funktionsprinzip XY-Scanner" align="bottom" class="noborder"><figcaption>Funktionsprinzip XY-Scanner</figcaption></figure></a> Thermisch bedingt geht die wahrgenommene Intensität des Laserlichts bereits nach einigen Sekunden zurück. Selbst Handlaserpointer mit geregelter Ausgangsleistung, driften aufgrund der thermisch instabilen Monitordiode, sobald die Betriebstemperatur des Laserchips über die Auslegungsgrenze hinaus, ansteigt. Durch den Betrieb eines semiprofessionellen Lasermoduls (<a href="#jumptoSafety">Laserklasse 3B</a>, 532 nm (Grün), <a href="#jumptoSafety">max. 50mW</a>, 25€) bei ca. 10% Ausgangsleistung, soll eine Laserquelle mit 100% Einschaltdauer bereit gestellt werden.
</div>

<h4 class="sp"><span>Simulationsumgebung</span></h4>

<p>Bereits bei niedrigen Systemordnungen ist es von Vorteil, wenn Reglerparameter mittels Computermodell optimiert werden können. Um quantitative Aussagen bezüglich Stabilität und Robustheit nachweisen zu können, sind entsprechende Simulationen immer dann unerlässlich, wenn es sich um Systeme handelt die durch instabile Betriebszustände beschädigt oder zerstört werden können. <br />
Der grundlegende Modellbildungs<u style="font-weight: bold">prozess</u> eines Gesamtsystems mit zeit-diskreter Regelung, unterscheidet sich nicht signifikant vom Modellbildungsprozess bei kontinuierlicher, sprich analoger Regelung. In der klassischen Regelungstechnik werden die Teilsysteme eines Regelkreises in lineare, <strong>zeitinvariante</strong> Systeme überführt welche dann als LTI-Blöcke dargestellt werden können. </p>
<p><boxed>Die Forderung nach Zeitinvarianz impliziert immer auch <strong>Rückwirkungsfreiheit</strong> zwischen den Teilsystemen.</boxed> </p>
<p>Infolge dessen ist es gleichgültig, ob einer oder gar mehrere Blöcke in zeit-diskreter Form Formuliert werden - solange alle notwendigen LTI-Bedingungen erfüllt sind.</p>
<p>Aus dem Modellzweck oder Kontext wird die notwendige <a href="#modell"><em>Modellgranularität</em></a> abgeleitet. Nach Nyquist ist, im Falle einer zeitdiskreten Regelung, ein Antialiasing Filter in den Signalpfad vor den ADC zu platzieren. Um aus den digital weiterverarbeiteten, gewichteten Impulsfolgen nach der DAC-Wandlung wieder ein analoges (d.h. zeit- und werte-kontinuierliches) Stellsignal zu erzeugen, werden <em>Rekonstruktionsfilter</em> zur Entzerrung des Quantisierungsfehlers eingesetzt. Bei Simulationen bezüglich Systemdynamik oder zur Stabilitätsberechnung dürfen die zusätzlichen Filterpole nicht einfach ignoriert werden. Somit sind z. B. die Teilsysteme &ldquo;Antialiasing-&rdquo; und &ldquo;Rekonstruktionsfilter&rdquo; in das Computermodell des Gesamtsystems zu integrieren.<br />
Entsprechendes gilt auch für die Modellierung weiterer Teilsysteme wie z. B. Stellglied sowie Messumformer + Tiefpassfilterung. </p>
<h4 class="sphd"><span>Design</span></h4>

<h4 class="sphd"><span>Systemeinsatz</span></h4>

<h4 class="sphd"><span>Systemanforderungen</span></h4>

<div class="spaced">
<ol>
<li>Bei den Regelstrecken handelt es sich um Spiegelgalvanometer der Firma Cambridge Technologies (Modell 6860). Diese sind im Sinne der <em>Baugruppen-Wahl</em>  als gegeben zu betrachten (vergl. <em>Bestandsbaugruppe</em>).</li>
<li>Die Positionsregelung der Spiegelachsen soll diskret realisiert und nach erfolgreicher Simulation auf einem Mikrocontroller <a href="#citeSTM32F429i" title="High-performance advanced line, 180 MHz/225 DMIPS CPU, ARM Cortex-M4 core with DSP and FPU, 512 Kbytes Flash"><em>STM32F429i</em></a> implementiert werden.</li>
<li>Die Sollwerte der Aufpunkt-Koordinaten werden als dreiwertige Tupel [X-Pos, Y-Pos, Laser-Blanking] im Speicher des Mikrocontrollers abgelegt und müssen über eine PC-Schnittstelle aktualisiert werden können.</li>
<li>Die Positionierung des Laserpunktes soll hinreichend &ldquo;schnell&rdquo; und &ldquo;präzise&rdquo; erfolgen so dass sich zumindest einfache geometrische Figuren auf einen weißen Hintergrund projizieren lassen.</li>
<li>Das System soll auf ein Computermodell abgebildet werden so dass unterschiedliche Regelalgorithmen evaluiert werden können. Außerdem sollen Hardware-Anpassungen der Signalkonditionierung (primär Antialiasing-/Rekonstruktionsfilter) mit minimalem Aufwand in die Simulation des Gesamtsystems einzupflegen sein.</li>
<li>Die Prototyp-Hardware soll bereits alle notwendigen Komponenten umfassen, die zur Messung weiterer Zustandsgrößen der Regelstrecke notwendig sind. Somit kann der Aufbau als Grundlage für spätere Tests einer Zustandsraum-Regelung (state space model) genutzt werden.</li>
<li>Die Anforderung an den Fertigungsprozess der Prototyp-Hardware sollte entsprechend den Möglichkeiten vor Ort (HsKA: PCB-Fräse, manuelle Durchkontaktierung bei doppelseitigen Layouts) angepasst werden.</li>
</ol>
</div>
<h4 class="sphd"><span>Allgemeine Anforderungen</span></h4>

<p><a name="jumptoSafety"></a><h4 class="sp"><span>Sicherheit</span></h4><lkey>Personenschutz: </lkey>Ist beim Betrieb von Laser-Lichtquellen die Möglichkeit einer willkürlichen Positionierung des Laserstrahls gegeben, besteht grundsätzlich die Gefahr, irreversible Netzhaut-Schäden zu verursachen oder zu erleiden. Zertifizierte <strong>Laserschutzbrillen</strong> sind kostenintensiv, unpraktisch und die Schutzwirkung beschränkt sich natürlich nur auf den/die Träger. Im Sinne einer konsequenten Arbeitsschutzmaßnahme, wäre eine räumliche Abschottung im Testbetrieb erforderlich.<br />
Kann die Positionierung des Laserstrahls jedoch durch entsprechende Schutzmaßnahmen auch bei instabilem Regler-Verhalten <strong>und</strong> bei Soft- sowie Hardware-Fehlern auf einen festgelegten Bereich beschränkt werden, ist der aktive Personenschutz nicht mehr zwingend erforderlich.</p>
<ul>
<li>zu keinem Zeitpunkt die Gefahr ist!<ul>
<li>Description of the &ldquo;safe state guard&rdquo; system</li>
<li>exceptions and forced bias</li>
</ul>
</li>
<li>Hardware-Komponenten vor Überlast geschützt sind! </li>
</ul>
<h4 class="sp"><span>Qualität</span></h4>

<p>Um die &ldquo;Qualität&rdquo; der erzeugten Abbildungen effektiv messen zu können, soll auf eine Testmöglichkeit für das <a href="http://www.laserfx.com/Backstage.LaserFX.com/Systems/Scanning3.html">ILDA-Testpattern</a> implementiert werden. </p>
<p></par></p>
<p>Zu Beginn des Kapitels <a href="#modellbildungsprozess">Modellbildungsprozess</a> folgt eine erste Aufteilung des Projekts.</p>
<!-- wird $\vec v$ als  Richtungsvektor von $\vec{g}$.
Zur mathematischen Beschreibung dieser (abschnittsweise definierten) Geraden, kann aus zwei aufeinander folgenden XY-Tupel eine Geradengleichung abgeleitet werden. Um

Aus der Koordinatenform einer Geradengleichung mit den Parametern  ${a}, {b}$ und ${c}$ ist ein Normalenvektor der Gerade direkt als $\vec n=(a,b)^{T}$ ablesbar und damit ein Richtungsvektor der Geraden analog zur Normalenform über   

$$ {\vec {u}}={\begin{pmatrix}-b\\\a\end{pmatrix}} $$ ermitteln. Einen Stützvektor der Geraden erhält man, je nachdem ob $a$ oder $b$ ungleich null ist, durch Wahl von
<center>$ {\vec {p}}={\begin{pmatrix}c/a\\\0\end{pmatrix}}\;\;\; $ oder $ \;\;\;{\vec {p}}={\begin{pmatrix}0\\\c/b\end{pmatrix}} $.</center> -->

<h1 id="terminologie"><a name="user-content-terminologie" href="#terminologie" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Terminologie</h1>
<p>Auf häufig wiederkehrende Begriffe wie z. B. Modell, Modellbildung oder System, soll hier kurz eingegangen werden da sie als Überbegriffe sehr universell definiert sein können. </p>
<h2 id="galvanometer"><a name="user-content-galvanometer" href="#galvanometer" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Galvanometer</h2>
<blockquote>
<p>Ein Galvanometer-Scanner ist ein hochdynamisches elektro-optisches Bauteil, bei dem <a style="color: #ddd ">ein</a> drehbare Spiegel von geringer Trägheit verwendet werden, um einen Laserstrahl mit hoher Genauigkeit und Wiederholbarkeit zu positionieren. Der Name Galvanometer bezieht sich auf den Motor-Typ.<sup id="fnref:fnGalvoScanlab"><a class="footnote-ref" href="#fn:fnGalvoScanlab" rel="footnote">20</a></sup></p>
</blockquote>
<h2 id="system"><a name="user-content-system" href="#system" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>System</h2>
<p>Es gibt sehr abstrakte Definitionen des System-Begriffs. Auch in der soziologischen Systemtheorie werden System-Begriffe formuliert so dass z.B. durch menschliche Handlungen ein abstraktes Modell eines sozialen Systems angeregt bzw. dessen Systemantwort beschrieben werden kann. Eine sehr universelle Definition lautet z. B.:</p>
<blockquote>
<p>&ldquo;<strong>System:</strong> a set of physical entities that interact and are observable, where the entities can be a specified quantity of matter or a volume in space.&rdquo; <sup id="fnref:fnChRoy"><a class="footnote-ref" href="#fn:fnChRoy" rel="footnote">5</a></sup><br />
<p style="color: #707070 "> Eine Menge von physikalischen Einheiten die interagieren und beobachtbar sind, wobei sie eine definierte Menge Materie (bzw. eine bestimmte Anzahl an Teilchen) oder ein physischer Körper im Raum sein können. </p></p>
</blockquote>
<p>Systeme und Signale sind die beiden wichtigsten Konzepte der Systemtheorie. In der Praxis werden Gebilde oder Konstrukte als System bezeichnet, die bei Anregung mit einem Eingangssignal <em>x(t)</em> mit einem Ausgangssignal <em>y(t)</em> reagieren.<sup id="fnref:fnRUnb"><a class="footnote-ref" href="#fn:fnRUnb" rel="footnote">6</a></sup> </p>
<p>Ein Gesamtsystem fügt sich aus Teilsystemen zusammen. Je nach Komplexität der übergeordneten Aufgabe (Wie &ldquo;dick&rdquo; sind Pflichten- und Lasten- Heft?) entstehen zahlreiche Abstraktionsebenen die es zu <em>dokumentieren</em> und meist auch zu warten gilt. Hinsichtlich eines <em>Software-Systems</em> wird der Begriff <em>System</em> in der <a href="https://de.wikipedia.org/wiki/IEEE_1471" title="IEEE Recommended Practice for Architectural Description of Software-Intensive Systems">IEEE 1471</a> wie folgt definiert:</p>
<blockquote>
<p>Ein System ist ein aus Teilen zusammengesetztes und strukturiertes Ganzes. Es hat eine Funktion, erfüllt einen Zweck und verfügt über eine Architektur. <a href="#citeMDA" title="V. Gruhn, D. Pieper, C. Röttgers; MDA® Effektives Software-Engineering mit UML 2® und Eclipse TM. Springer-Verlag Berlin Heidelberg; 2006;">[MDA:2006, p.57]</a></p>
</blockquote>
<p>Im folgenden beschränkt sich der System-Begriff auf die Systemtheorie als elementare Disziplin der Ingenieurswissenschaften. Der Begriff <em>System</em> ist hier und im Folgenden als Abkürzung für <em>Teilsystem</em> zu verstehen.</p>
<h2 id="modell"><a name="user-content-modell" href="#modell" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Modell</h2>
<p>Um ein Modell beschreiben zu können, muss zuvor das System <em>gewählt</em> werden, dessen tatsächliche Eigenschaften über den <em><strong>Prozess</strong> der Modellbildung</em> abstrahiert werden soll. Auch für den Begriff <em>Modell</em> finden sich zahlreiche Definitionen in der Literatur. Einige eignen sich sehr gut zur Definition im Sinne technischer Zusammenhänge und Computersimulationen. </p>
<p>Die Grundlagen der Modellierung schuf Herbert Stachowiak 1973 mit der Veröffentlichung der &ldquo;Allgemeinen Modelltheorie&rdquo;. Demnach ist ein Modell durch <strong>Abbildung</strong>, <strong>Verkürzung</strong> und <strong>Pragmatismus</strong> gekennzeichnet.<sup id="fnref:fnStachowiak"><a class="footnote-ref" href="#fn:fnStachowiak" rel="footnote">16</a></sup></p>
<blockquote>
<p><strong><em>Abbildung</em></strong><br />
Ein Modell ist stets ein Modell von etwas – nämlich Abbildung oder Repräsentation eines natürlichen oder eines künstlichen Originals, wobei dieses Original selbst auch wiederum ein Modell sein kann.</p>
<p><strong><em>Verkürzung</em></strong><br />
Ein Modell erfasst im Allgemeinen nicht alle Attribute des Originals, sondern nur diejenigen, die dem Modellschaffer bzw. Modellnutzer relevant erscheinen.</p>
<p><strong><em>Pragmatismus</em></strong><br />
Modelle sind ihren Originalen nicht eindeutig zugeordnet. Sie erfüllen ihre Ersetzungsfunktion für</p>
<ol>
<li>bestimmte Subjekte (für wen?)</li>
<li>innerhalb bestimmter Zeitintervalle (wann?)</li>
<li>unter Einschränkung auf bestimmte gedankliche oder tätliche Operationen (wozu?).</li>
</ol>
</blockquote>
<p>Eine kompaktere Definition wurde einem Lehrbuch <em>&ldquo;Grund- und Leistungskurs Informatik&rdquo;</em> von <em>Karl-Hermann Rollke</em> und <em>Klaus Sennholz</em> entnommen: </p>
<blockquote>
<p>Ein <em>Modell</em> ist ein durch Abstraktion (<strong>Reduzierung</strong> und Verallgemeinerung) gewonnenes <strong>Abbild</strong> eines bestimmten Ausschnitts der Realität. Das Modell wird zu dem Zweck entworfen, den für die Lösung eines <em>bestimmten</em> Problems relevanten Teil der Wirklichkeit für den Menschen oder eine Maschine (Computer) überschaubar und <em>operationalisierbar</em> zu machen.<sup id="fnref:fnRoSe"><a class="footnote-ref" href="#fn:fnRoSe" rel="footnote">14</a></sup></p>
</blockquote>
<p><a style="background-color: yellow;"> &hellip;ist es wichtig, den Systemgrad minimal zu halten.<br />
Die folgende Beispielaufgabe soll diesen Zusammenhang etwas greifbarer darstellen: </a></p>
<h3 id="beispiel"><a name="user-content-beispiel" href="#beispiel" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Beispiel</h3>
<p>Für eine analoge Filterschaltung wird ein mathematisches Modell gefordert. Die Schaltung soll zur Tiefpassfilterung in einer <strong>Highend-HiFi</strong> Stereoanlage eingesetzt werden. Für den Übergang vom Durchlass- in den Sperrbereich ist eine Dämpfung von 20dB/Dekade vorgegeben. Anhand des Modells soll das Dämpfungsverhalten mittels einiger harmonischer Testsignale untersucht werden können. </p>
<p><strong>Möglichkeit 1</strong><br />
<img src="pics/elko_ersatz_hf_reload.svg" title="Realitätsgetreues Ersatzschaltbild eines RC-Tiefpassfilters" align="top" height="190px" style="float:right; margin: .4em 0em 0em 1em;"/>Man leitet aus den Anforderungen ab, dass ein Standard Filter mit Tiefpasscharakter 1. Ordnung gefordert ist. Da es sich beim Endprodukt um eine Highend-Anlage handelt, sollte ein möglichst präzises Modell formuliert werden. Unter Berücksichtigung aller tatsächlich parasitärer Größen von passiven Bauelementen<sup id="fnref:fnElektrBauelem"><a class="footnote-ref" href="#fn:fnElektrBauelem" rel="footnote">18</a></sup> wie Serien&shy;induktivität (ESL) und Serien&shy;widerstände (ESR) der Anschluss&shy;drähte/Anordnung der Elektroden, der Isolations&shy;widerstände und der dielektrischen Absorption (Nachladeeffekt, Rda, Cda), ergibt sich für einen einfachen RC-Tiefpass mit einer Dämpfungsflanke von 20dB/Dekade, das nebenstehende Schaltbild. Da die Ordnung eines Systems direkt aus der Anzahl seiner unabhängigen Energiespeicher abgeleitet werden kann, muss dem geforderten mathematischen Modell eine <strong>Differentialgleichung 5. Ordnung</strong>!!! zugrunde gelegt werden. </p>
<p><strong>Möglichkeit 2</strong><br />
Man leitet aus den Anforderungen ab, dass ein Standard Filter mit Tiefpasscharakter 1. Ordnung gefordert ist. Da es sich beim Endprodukt um ein Audiogerät handelt, können eventuell störende Einflüsse im Frequenzbereiche jenseits von $100\si{kHz}$ als irrelevant betrachtet werden da die <em>auditive Wahrnehmung</em> des menschlichen Gehörs für Frequenzen über $20\si{kHz}$ schlicht nicht mehr sensibel genug ist. Tatsächlich liegt die <em>Musikwahrnehmbarkeit</em> noch deutlich unterhalb der $10\si{kHz}$ Grenze. Für das menschliche Gehör ist es also egal, ob ein TP-Filter im Bereich $900\si{kHz}\dots 1,4\si{MHz}$ eine Resonanzüberhöhung aufweist oder nicht.</p>
<p>Ein formuliertes Modell unterliegt also der Anforderung, möglichst alle <strong><em>relevanten</em></strong> Charakteristika eines Systems abzubilden wobei der <em>Systemgrad</em> minimal gehalten werden soll. So gelingt es, komplexe Zusammenhänge aufzuspalten und eine Problemstellung zu partitionieren.</p>
<h2 id="modellbildung"><a name="user-content-modellbildung" href="#modellbildung" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Modellbildung</h2>
<p><a style="background-color: yellow;"> Top-Down- und Bottom-Up-Design<br />
In der Informatik bezeichnet man einen Entwicklungsprozess für Software als Top-down, wenn der Entwurf mit abstrahierten Objekten beginnt, die dann konkretisiert werden; der Prozess ist Bottom-up, wenn von einzelnen Detail-Aufgaben ausgegangen wird, die zur Erledigung übergeordneter Prozesse benötigt werden. Zudem wird im Zusammenhang mit Compilerbau von Top-down- und Bottom-up-Parsern gesprochen (genauere Informationen unter Top-Down- und Bottom-Up-Design). </a></p>
<p>Die enormen Anforderungen, die aus Anwendersicht an Hard- und Softwarekomponenten gestellt werden, in Verbindung mit dem Aspekt der Wirtschaftlichkeit, machen sich bereits in der Projektierungsphase eines Auftrags bemerkbar. <em>&ldquo;Reusability&rdquo;</em> ist ein Begriff aus der Softwarearchitektur und charakterisiert Software (Quellcode, Dokumentation, Testumgebungen, &hellip;) bezüglich ihrer <em>Wiederverwertbarkeit</em> in Folgeprojekten oder Folgeschritten des selben Projektes.<sup id="fnref:fnReuseCode"><a class="footnote-ref" href="#fn:fnReuseCode" rel="footnote">13</a></sup> Um einen Schritt weiter in Richtung <em>modellgetriebene Architektur</em> (<em>engl. Model Driven Architecture</em>, <strong><em>MDA</em></strong>) zu gehen, soll an dieser Stelle ein Unterpunkt aus <a href="#citeMDA" title="V. Gruhn, D. Pieper, C. Röttgers; MDA® Effektives Software-Engineering mit UML 2® und Eclipse TM. Springer-Verlag Berlin Heidelberg; 2006;">[MDA:2006, p.17]</a>, Kapitel <em>&ldquo;Akute Probleme bei der Software-Erstellung&rdquo;</em>, zitiert werden:</p>
<blockquote>
<p><strong>Äußere und innere Gleichförmigkeit von Projekten</strong> <br />
Zwar impliziert ein Projekt immer einen neuartigen und einmaligen Charakter, oftmals werden aber mehrere Projekte in der gleichen Fach- und/oder Technikdomäne durchgeführt. Genau so oft ähneln oder gleichen sich daher die (architekturellen) Konzepte der realisierten Anwendungen. Diese Gleichförmigkeit wird häufig übersehen oder schlicht ignoriert und anstatt diese domänen-spezifischen Konzepte wiederverwendbar zu machen, wird die gleiche Arbeit unnötigerweise mehrfach verrichtet.</p>
</blockquote>
<p>Natürlich ist der Begriff der <em>Wiederverwertbarkeit</em> nicht nur auf Komponenten einer Softwarearchitektur beschränkt. Auch im Hardwarebereich kann ein Unternehmen durch frühzeitig eingeleitete Abstraktionsprozesse, u. U. eine <em>Gleichförmigkeit</em> zu geplanten Folgeprojekten erkennen und das Teilsystem <em>&ldquo;von Heute&rdquo;</em> bereits zugunsten eines Teilsystems <em>&ldquo;von Morgen&rdquo;</em> optimieren.</p>
<h1 id="formelzeichen-und-einheiten"><a name="user-content-formelzeichen-und-einheiten" href="#formelzeichen-und-einheiten" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Formelzeichen und Einheiten</h1>
<p>Aufgrund der hohen Anzahl an Abkürzung, vor allem aber der nicht immer intuitiv ableitbaren mechanischen und mechatronischen Kenngrößen, wurde an dieser Stelle ein eigenes Kapitel als zentrales Nachschlagewerk eingeführt.   </p>
<h2 id="zeitabhangige-groen"><a name="user-content-zeitabhangige-groen" href="#zeitabhangige-groen" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Zeitabhängige Größen</h2>
<table>
<thead>
<tr>
<th>Bezeichnung</th>
<th align="center">Symbol</th>
<th align="center">Einheit</th>
<th><span style="color: #bbb">engl. Bezeichnung</span></th>
</tr>
</thead>
<tbody>
<tr>
<td>Spulenstrom</td>
<td align="center">$i_L$</td>
<td align="center">$\si A$</td>
<td><span style="color: #bbb"> Coil current              </span></td>
</tr>
<tr>
<td>Elektr. Drehmoment</td>
<td align="center">$M_{EL}$</td>
<td align="center">$\si{N.m}$</td>
<td><span style="color: #bbb"> Electrical torque         </span></td>
</tr>
<tr>
<td>Reibungsmoment</td>
<td align="center">$M_{FR}$</td>
<td align="center">$\si{N.m}$</td>
<td><span style="color: #bbb"> Rotor dynamic friction torque </span></td>
</tr>
<tr>
<td>Torsionsfedermoment</td>
<td align="center">$M_{TB}$</td>
<td align="center">$\si{N.m}$</td>
<td><span style="color: #bbb"> Torsion bar torque        </span></td>
</tr>
<tr>
<td>Drehimpuls</td>
<td align="center">$L_\omega$</td>
<td align="center">$\si{N.m.s}$</td>
<td><span style="color: #bbb"> Angular momentum          </span></td>
</tr>
<tr>
<td>Winkelposition</td>
<td align="center">$\varphi_{rad}$</td>
<td align="center">$\si{rad}$</td>
<td><span style="color: #bbb"> Angular position          </span></td>
</tr>
<tr>
<td></td>
<td align="center">$\varphi_{deg}$</td>
<td align="center">$\si{°}$</td>
<td><span style="color: #bbb">                           </span></td>
</tr>
<tr>
<td>Winkelgeschwindigkeit</td>
<td align="center">$\omega$</td>
<td align="center">$\Si{rad\per s}$</td>
<td><span style="color: #bbb"> Angular velocity          </span></td>
</tr>
<tr>
<td>Stromregler Eingang</td>
<td align="center">$U_{ccI}$</td>
<td align="center">$\si V$</td>
<td><span style="color: #bbb"> Current controller input  </span></td>
</tr>
<tr>
<td>Stromregler Ausgang</td>
<td align="center">$U_{ccO}$</td>
<td align="center">$\si V$</td>
<td><span style="color: #bbb"> Current controller output </span></td>
</tr>
<tr>
<td>Spannung Messshunt</td>
<td align="center">$U_{sh}$</td>
<td align="center">$\si V$</td>
<td><span style="color: #bbb"> Shunt voltage             </span></td>
</tr>
</tbody>
</table>
<h2 id="konstanten"><a name="user-content-konstanten" href="#konstanten" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Konstanten</h2>
<p>Alle Galvanometer-bezogenen Konstanten wurden in der letzten Spalte mit einem <em>A</em> gekennzeichnet und entspringen der <a href="#refTableElectric">Herstellerspezifikation</a>. </p>
<table>
<thead>
<tr>
<th>Bezeichnung</th>
<th align="center">Symbol</th>
<th align="center">Einheit</th>
<th><span style="color: #bbb">engl. Bezeichnung</span></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Wicklungsinduktivität</td>
<td align="center">$L$</td>
<td align="center">$\si H$</td>
<td><span style="color: #bbb">Coil inductance</span></td>
<td>A</td>
</tr>
<tr>
<td>Wicklungswiderstand</td>
<td align="center">$R_L$</td>
<td align="center">$\si{\Omega}$</td>
<td><span style="color: #bbb">Coil resistance</span></td>
<td>A</td>
</tr>
<tr>
<td>Messwiderstand</td>
<td align="center">$R_{SH}$</td>
<td align="center">$\si{\Omega}$</td>
<td><span style="color: #bbb">Current shunt resistance</span></td>
<td></td>
</tr>
<tr>
<td>Massenträgheit d. Rotors</td>
<td align="center">$J_R$</td>
<td align="center">$\si{kg.m^2}$</td>
<td><span style="color: #bbb">Rotor inertia</span></td>
<td>A</td>
</tr>
<tr>
<td>EMF-Konstante</td>
<td align="center">$K_{EMF}$</td>
<td align="center">$\Si{V.s\per rad}$</td>
<td><span style="color: #bbb">Back EMF const.</span></td>
<td>A</td>
</tr>
<tr>
<td>Torsionsfederkonstante</td>
<td align="center">$K_{TB}$</td>
<td align="center">$\Si{N.m\per rad}$</td>
<td><span style="color: #bbb">Torsion bar torque const.</span></td>
<td></td>
</tr>
<tr>
<td>Reibungskonstante</td>
<td align="center">$K_{FR}$</td>
<td align="center">$\Si{N.m.s\per rad}$</td>
<td><span style="color: #bbb">Friction torque const.</span></td>
<td></td>
</tr>
<tr>
<td>El. Drehmomentkonstante</td>
<td align="center">$K_{EL}$</td>
<td align="center">$\Si{N.m\per A}$</td>
<td><span style="color: #bbb">El. magnetic torque const.</span></td>
<td>A</td>
</tr>
<tr>
<td></td>
<td align="center"></td>
<td align="center"></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h1 id="projektplan-und-v-modell"><a name="user-content-projektplan-und-v-modell" href="#projektplan-und-v-modell" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Projektplan und V-Modell</h1>
<p>Bei der industriellen Projektplanung im Bereich Systementwicklungen, stützt man sich, in der Regel, auf das bewährte V-Modell. Spätestens seit Einführung des wesentlich flexibleren <em>V-Modell XT</em> (eXtreme Tailoring, Anfang 2005 <sup id="fnref:fnV-Modell-XT-Bund"><a class="footnote-ref" href="#fn:fnV-Modell-XT-Bund" rel="footnote">26</a></sup>) gibt es kaum noch Gründe, von einer Projektplanung <em>auf Basis</em> des V-Modells abzusehen. <br />
(&hellip;)</p>
<h1 id="regelungstechnik"><a name="user-content-regelungstechnik" href="#regelungstechnik" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>!Regelungstechnik</h1>
<p><yelBg>(&hellip;)</yelBg></p>
<h2 id="diskretisierungsverfahren"><a name="user-content-diskretisierungsverfahren" href="#diskretisierungsverfahren" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>!Diskretisierungsverfahren</h2>
<p><yelBg>(&hellip;)</yelBg></p>
<h2 id="regelungsnormalform"><a name="user-content-regelungsnormalform" href="#regelungsnormalform" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Regelungsnormalform</h2>
<blockquote>
<p>Systeme, die über eine lineare Differentialgleichung N-ter Ordnung beschrieben werden, sind linear und zeitinvariant. <sup id="fnref:fnMesystoDglSys"><a class="footnote-ref" href="#fn:fnMesystoDglSys" rel="footnote">24</a></sup></p>
</blockquote>
<p>Eine universelle Methode zur Ableitung grafischer Blockdiagramm aus mathematischen Vorschriften, führt über die <strong>Zustandsraumbeschreibung</strong> von LTIs. Jedes Zustandsraummodell kann <em>direkt</em> auf einen als <strong>Regeleungsnormalform</strong> bekannten Signalflussplan abgebildet werden! Die Regelungsnormalform stützt sich dabei auf der <em>Transformierbarkeit</em> von linearen Differentialgleichungssystemen N-ter Ordnung in N lineare Differentialgleichungen 1. Ordnung. Nachfolgende Abbildung zeigt ein Blockdiagramm der Regelungsnormalform für alle LTI DGL-Systeme der Ordnung 3. </p>
<p><center><img alt="Regelungsnormalform" src="pics/regelNormalform.svg" title="Signalflussplan der Regelungsnormalform für Systeme 3. Ordnung" /></center></p>
<h1 id="modellbildung_1"><a name="user-content-modellbildung_1" href="#modellbildung_1" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Modellbildung</h1>
<blockquote>
<p>&ldquo;It&rsquo;s a bunch of shapes connected by lines.&rdquo; Dilbert <br />
<a href="#citeMDA" title="V. Gruhn, D. Pieper, C. Röttgers; MDA® Effektives Software-Engineering mit UML 2® und Eclipse TM. Springer-Verlag Berlin Heidelberg; 2006;">[MDA:2006, p.73]</a></p>
</blockquote>
<p>Dieser Aussage entsprechend soll hier aus dem formellen <a href="#projektziel-und-anforderungskatalog">Anforderungskatalog</a> (vergl. Pflichtenheft) ein erstes abstraktes Modell abgeleitet werden. </p>
<ul>
<li>Regelstrecke </li>
<li>Sensor</li>
<li>Leistungselektronik, Aktor</li>
<li>Steuer- und Reglerelektronik<ul>
<li>Mikrocontrollerplatine </li>
<li>Signalkonditionierung<ul>
<li>Pegelwandlung </li>
<li>Antialiasing (ADC)</li>
<li>Rekonstruktionsfilter (DAC)</li>
</ul>
</li>
</ul>
</li>
<li>Software, Tools und Simulation<ul>
<li>Zielsystem: Eingebettete Hardware<ul>
<li>Implementierung der Regleralgorithmen (Reglerelektronik)</li>
<li>Sicherheitssystem (Überstromschutz, &ldquo;Error-Safe-State&rdquo;)</li>
</ul>
</li>
<li>Entwicklungs-PC<ul>
<li>MATLAB/Simlunik, Systemmodellierung/Simulation</li>
<li>LTspice, Subsystemmodellierung/Simulation</li>
<li>Eagle CAD, Hardwareentwurf  </li>
</ul>
</li>
<li>Schnittstellenprogramm zur Echtzeitkommunikation</li>
</ul>
</li>
</ul>
<p><img class="noborder" src="pics/abstractSystemC.svg" title="Abstraktes Modell des Regelkreises"/></p>
<p><yelBg>&hellip;So what???</yelBg></p>
<h2 id="generische-modelle"><a name="user-content-generische-modelle" href="#generische-modelle" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Generische Modelle</h2>
<p>In der Informatik sind <em>generische Typen</em> Datentypen mit der Möglichkeit zur Angabe von Typparametern. Man spricht auch von <em>parametrischer Polymorphie</em>.<sup id="fnref:fnwikiGenericTypes"><a class="footnote-ref" href="#fn:fnwikiGenericTypes" rel="footnote">19</a></sup> Überträgt man den Begriff <em>generisch</em> auf den hier genutzten Modelltyp, so muss ein Modell formuliert werden, das in der Lage ist, eine ganze Menge von vergleichbaren Strecken (Drehmoment-Motoren) zu beschreiben. Übergibt man dem generischen Typ <em>&ldquo;Drehmoment-Motoren&rdquo;</em> respektive <em>&ldquo;Galvanometer&rdquo;</em> die für den zu erzeugenden Modelltyp spezifischen Parameter wie Drehmomentkonstante, Wicklungsinduktivität oder das Massenträgheitsmoment der Rotorwelle, soll eine entsprechend typisierte Modellvariante erzeugt werden. Dieses Modell wird als <em>Subsystem</em> <strong><em>Drehmoment-Motoren</em></strong> auf einer höheren Abstraktionsebene in ein weiteres Modell eingebunden und anschließend simuliert. </p>
<p>Die Analogie zu <em>generic types</em> in objektorientierten Programmiersprachen ist nur teilweise zulässig. Vergleicht man diese Methode jedoch mit der in <a href="#vorarbeit">Vorarbeit</a> aufgezeigten, nämlich einem Motor-Computermodell, abhängig von Geometrie und Materialparametern, so finden sich doch einige Eigenschaften, die analog verwendet werden können.</p>
<h2 id="mathematische-zusammenhange"><a name="user-content-mathematische-zusammenhange" href="#mathematische-zusammenhange" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Mathematische Zusammenhänge</h2>
<p>Die Grundlage eines generischen Modells ist seine Mathematik. Die Gesetze der Physik müssen bei der mathematischen Modellierung eingehalten werden. Der Verlauf der Geschwindigkeit $v(t)$ eines Körpers lässt sich bekanntlich durch Differentiation seiner Streckenfunktion $s(t)$ oder durch Integration seiner Beschleunigung $a(t)$ über der Zeit formulieren. Diese Gesetzmäßigkeiten gelten gleichermaßen für translatorische sowie rotatorische Bewegung. Daraus folgt unter anderem, dass die Integralbildung der Winkelgeschwindigkeit $\omega(t)$ eines rotierenden Körpers, unmittelbar auf seine Winkelposition $\varphi(t)$ führt. Diese grundlegenden Gesetze müssen später anhand des Modells verifiziert werden können. </p>
<h3 id="translation-und-rotation"><a name="user-content-translation-und-rotation" href="#translation-und-rotation" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Translation und Rotation</h3>
<p>Die <em>Grundgleichungen für Translation und Rotation</em>  sollen einerseits zur einheitlichen Notation im Rahmen dieser Arbeit beitragen, zum anderen dient die Tabelle (vergl. <a href="#citeIserm" title="Rolf Isermann; Mechatronische Systeme - Grundlagen; 2008;">[Iser:2008, 123]</a>) der Überprüfung von <span style="background-color: yellow; color: red">physikalischen Einheiten </span>.</p>
<p><center></p>
<table>
<thead>
<tr>
<th align="left">Translation</th>
<th align="center">in eine Richtung</th>
<th align="left">Rotation</th>
<th align="center">um eine Achse</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">$s$</td>
<td align="center">Weg</td>
<td align="left">$\varphi$</td>
<td align="center">Winkel</td>
</tr>
<tr>
<td align="left">$v=\dot s$</td>
<td align="center">Geschwindigkeit</td>
<td align="left">$\omega = \dot\varphi$</td>
<td align="center">Winkelgeschwindigkeit</td>
</tr>
<tr>
<td align="left">$a=\dot v = \ddot s$</td>
<td align="center">Beschleunigung</td>
<td align="left">$\dot\omega = \ddot\varphi$</td>
<td align="center">Winkelbeschleunigung</td>
</tr>
<tr>
<td align="left">$m$</td>
<td align="center">Masse</td>
<td align="left">$J, \theta$</td>
<td align="center">Trägheitsmoment</td>
</tr>
<tr>
<td align="left">$\vec F$</td>
<td align="center">Kraft in Wegrichtung</td>
<td align="left">$\vec M$</td>
<td align="center">Moment um Drehachse</td>
</tr>
<tr>
<td align="left">$\vec I = m \cdot \vec v$</td>
<td align="center">Impuls</td>
<td align="left">$\vec L = J \cdot \vec\omega$</td>
<td align="center">Drehimpuls</td>
</tr>
<tr>
<td align="left">$\vec F = m \cdot \vec a$</td>
<td align="center">Kraeftesatz</td>
<td align="left">$\vec M = J \cdot \dot\omega$</td>
<td align="center">Momentensatz</td>
</tr>
<tr>
<td align="left">$E_k = \frac 1 2\; m \cdot v^2$</td>
<td align="center">kinetische Energie</td>
<td align="left">$E_k = \frac 1 2\; J \cdot \omega^2$</td>
<td align="center">kinetische Energie</td>
</tr>
<tr>
<td align="left">$W = \int F ds$</td>
<td align="center">Arbeit</td>
<td align="left">$W = \int M d\varphi$</td>
<td align="center">Arbeit</td>
</tr>
<tr>
<td align="left">$P = F \cdot v$</td>
<td align="center">Leistung</td>
<td align="left">$P = M \cdot \omega$</td>
<td align="center">Leistung</td>
</tr>
</tbody>
</table>
<p></center></p>
<p>Das Aufstellen von <em>Bilanzgleichungen</em> ist ein essenzieller Bestandteil bei der Modellbildung von technischen System und Prozessen. Zum Beispiel gilt für jedes energetisch abgeschlossene System (Bsp.: idealer Feder-Masse-Schwingkreis, idealer LC-Schwingkreis) stets, dass die Momentanenergie zu jedem Zeitpunkt $t \ge 0$ identisch mit der Energie zum Zeitpunkt $t=0$ übereinstimmt. </p>
<h3 id="energiebilanz-in-allgemeiner-form"><a name="user-content-energiebilanz-in-allgemeiner-form" href="#energiebilanz-in-allgemeiner-form" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Energiebilanz in allgemeiner Form</h3>
<p><img src="pics/energiebilanzConst.svg" title="Energiebilanz eines beliebigen, abgeschlossenen Gebildes" align="left" height="154px" style="float:left; margin: .4em .8em 0em 0em;"/> Verläuft über die Grenzen eines geschlossenen Gebildes (System, Prozess, &hellip;) kein Energiestrom, so unterliegt das Gebilde dem <em>Energieerhaltungssatz</em> wobei innerhalb der Grenenzen $N$ <em>verschiedene Energiearten</em> $E_i$ vorhanden sein <em>können</em> (siehe Abbildung links). Es ist z.B. unproblematisch, Analogie-Beziehungen zwischen translatorischer und rotatorischer Bewegung anhand des Energieerhaltungssatzes nachzuweisen. Die theoretische <em>Umformung der mechanischen Größen</em> $m, \vec{v}, \vec{J}$ und $\vec{\omega}$ entspricht hier dem Gebilde im Sinne eines energetisch abgeschlossenen Prozesses.</p>
<p>$$ \frac{1}{2} \cdot m \cdot v^2 = E_{kin}<br />
\;\;\;\widehat{=}\;\;\;<br />
E_{rot} = \frac{1}{2} \cdot J_x \cdot \omega^2 $$</p>
<p>Aus dem Energieerhaltungssatz kann das <em>Kräftegleichgewicht</em> abgeleitet werden. Wegen den analogen Gesetzmäßigkeiten zwischen translatorischer und rotatorischer Bewegung, kann vom Kräftegleichgewicht eines bewegten Körpers auf ein Drehmomentgleichgewicht geschlossen werden.</p>
<h3 id="impulsbilanzgleichung"><a name="user-content-impulsbilanzgleichung" href="#impulsbilanzgleichung" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Impulsbilanzgleichung</h3>
<p>Wirkt auf einen Körper der Masse $m$ und dem Impuls $\vec I = m \cdot \vec v$ eine äußere Kraft $\vec F$, so gilt bei translatorischer Bewegung und $m=const$ entsprechend dem <a href="#citeImpulserhaltung" title="Der Impulserhaltungssatz (manchmal auch kurz Impulssatz genannt) ist einer der wichtigsten Erhaltungssätze der Physik und besagt, dass der Gesamtimpuls in einem abgeschlossenen System konstant ist. „Abgeschlossenes System“ bedeutet, dass das System keine Wechselwirkungen mit seiner Umgebung hat.">Impulserhaltungssatz</a><sup id="fnref:fnImpulserhaltung"><a class="footnote-ref" href="#fn:fnImpulserhaltung" rel="footnote">23</a></sup> folgende Bilanzgleichung: </p>
<p>\begin{equation}<br />
\frac{\partial}{\partial\,t}\,\vec I = m \cdot \frac{\partial}{\partial\,t}\,\vec v(t) = \vec F(t) \label{eqImpulsbil}\end{equation}</p>
<p>Die Beziehung in \eqref{eqImpulsbil} wird als Impulsbilanzgleichung bezeichnet. Analog wird die Impulsbilanz für rotiernde Körper mit der als skalar betrachteten Massenträgheit $J$ und bestehendem Drehimpuls $\vec L_s = J \cdot \vec \omega$ aufgestellt. Gleichung \eqref{eqDrehimpulsbil} wird folgerichtig als <strong>Drehimpulsbilanzgleichung</strong> bezeichnet.</p>
<p>\begin{equation}{\frac{\partial}{\partial\,t}\,\vec L_s = J \cdot \frac{\partial}{\partial\,t}\,\vec \omega(t) = \vec M(t)} \label{eqDrehimpulsbil}\end{equation}</p>
<h1 id="modellbildungsprozess"><a name="user-content-modellbildungsprozess" href="#modellbildungsprozess" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Modellbildungsprozess</h1>
<h2 id="regelstrecke"><a name="user-content-regelstrecke" href="#regelstrecke" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Regelstrecke</h2>
<p>Wie bereits in Abschnitt <a href="#industriell-gefertigte-motoren">Industriell gefertigte Motoren</a> erwähnt, wurden Galvoscanner als elektromechanische Signalwandler eingesetzt. Um die physikalischen Zusammenhänge eines Drehmoment-Motors nach dem Galvanometer-Prinzip in ein Computermodell überführen zu können, gibt es mehrere Ansätze. Die Möglichkeit, ein Multiphysik-Modell zu erstellen und einzusetzen, wurde im Abschnitt <a href="#vorarbeit">Vorarbeit</a> angesprochen. Ein anderer, hier genutzter Ansatz, wird im Abschnitt <a href="#generisches-modell">generisches Modell</a> beschrieben. </p>
<h3 id="klassifizierung"><a name="user-content-klassifizierung" href="#klassifizierung" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Klassifizierung</h3>
<p>Galvanometer-Motoren lassen sich nicht so ohne weiteres in eine Unterklasse der Elektromotoren einordnen. Als Messinstrument in Drehspulmesswerken erzeugt das Galvanometer eine mechanische Drehbewegung proportional zum gemessenen Strom. DC-Motoren hingegen sind elektromechanische Baugruppen die eine elektrische Gleichleistung in eine mechanische Leistung umsetzen können. Im dynamischen Betrieb verhält sich ein Spiegelgalvanometer ähnlich einem DC-Motor. Das Momentanmoment, multipliziert mit der Drehzahl ergibt eine mechanische Leistung in $\si{N.m/s}$. Im Galvanometer Betrieb (Messinstrument) gleicht der Galvomotor einem elektrischen Drehmagneten welcher ein mechanisches Drehmoment erzeugt. </p>
<p>Bei der Modellierung von DC-Motoren wird der <em>Zusammenhang zwischen Motorstrom und Drehmoment</em> oft soweit linearisiert, dass zur Beschreibung ein konstanter Faktor, die <em>Drehmomentkonstante</em>, ausreichend ist. Zulässig wird diese Annäherung, wenn man die magnetische Flussdichte des Erreger-Magnetfeldes als konstant betrachten kann (<a href="http://ctms.engin.umich.edu/CTMS/index.php?example=MotorPosition&amp;section=SystemModeling" title="http://ctms.engin.umich.edu/CTMS/index.php?example=MotorPosition&amp;section=SystemModeling">siehe Abbildung</a>).<img src="pics/motorBconst.png" title="DC-Motor mit konstantem Erregerfeld" align="top" height="250px" style="float:right; margin: 1em 0em 0em 1em;"/> Da das elektromechanische Wirkprinzip der hier verwendeten <em><strong>&ldquo;Moving-magnet&rdquo;</strong> Galvanometer auf einem permanent erregten Magnetfeld basiert, ist die Annahme </em>B=const_ gerechtfertigt. Wenn die Intensität des Erregerfeldes für beide Betriebsarten (Motor, Drehmagnet) gleich und als konstant angenommen wird, entsteht durch die variable Position des Rotormagnetfelds gegenüber dem des Statorfeldes ein Fehler. Tabelle <a href="#refTableMechanic"><em>Mechanical Specifications</em></a> kann eine maximale Auslenkung der Rotorwelle von $\pm 20\si{°}$ entnommen werden. Das Momentanmoment ändert sich in diesem Bereich entsprechend dem Kosinus des Rotorwinkels was im schlimmsten Fall zu einem Fehlerfaktor von $cos(20° \pi/180°) \approx 0.94$ führt. Obwohl es sich bei Galvanometer-Motoren also nicht um DC-Motoren im klassischen Sinn handelt, kann eine Drehmomentkonstante zur approximation angegeben werden. Wie in Abschnitt <a href="#industriell-gefertigte-motoren">Industriell gefertigte Motoren</a> erwähnt, muss das Modell anhand von Herstellerspezifikationen konkretisiert werden können. In Tabelle <a href="#refTableMechanic" title="Goto Table Mechanical Specifications"><em>Mechanical Specifications</em></a> ist die entsprechende Drehmomentkonstante unter <em>Torque Constant</em> angegeben.</p>
<p>Der Vollständigkeit halber sollen an dieser Stelle einige Parallelen zur Unterklasse der <em>elektronisch kommutierten</em> Elektromotoren gezogen werden. Das Rotormaterial der unter dem Begriff <em>&ldquo;Brushless <a style="color: #aaa ">DC-</a>Motor&rdquo;</em> bekannten Antriebe besteht i.d.R. ebenfalls aus permanent magnetisierten Werkstoffen. Durch eine elektronische Ansteuerung wird über mehrere Statorwicklungen ein Drehfeld erzeugt.</p>
<h3 id="herstellerspezifikation"><a name="user-content-herstellerspezifikation" href="#herstellerspezifikation" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Herstellerspezifikation</h3>
<p>Bei den hier eingesetzten, industriell gefertigten Motoren der Firma <a href="www.cambridgetechnology.com" title="www.cambridgetechnology.com"><em>Cambridge Technology</em></a> handelt es sich um optische Scannereinheiten (Serie 6860) vom Typ <em>&ldquo;Moving Magnet&rdquo;</em> mit integriertem Positionssensor, welcher auf Basis variabler Kapazitäten arbeitet. Die vom Hersteller liebevoll unter <a href="https://www.google.de/#q=cambridge%20technology%206860" title="Veteran Galvo Motors"><strong>Veteran Galvo Motors</strong></a> kategorisierten Motoren gehören zwar nicht mehr zu den aktuellen Produkten von <em>Cambridge Technology</em>, sind jedoch hervorragend geeignet für das hier dokumentierte Projektvorhaben. </p>
<p>Nachfolgend werden die <a href="https://www.google.de/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=10&amp;cad=rja&amp;uact=8&amp;ved=0ahUKEwjZ5bLLuLXQAhWBuRQKHfd3Bc4QIAhgMAk&amp;url=http%3A%2F%2Fwebcache.googleusercontent.com%2Fsearch%3Fq%3Dcache%3A1O6mSJqn6noJ%3Acambridgetechnology.net%2Findex.php%253Foption%253Dcom_docman%2526task%253Ddoc_download%2526gid%253D322%2B%26cd%3D10%26hl%3Dde%26ct%3Dclnk%26gl%3Dde&amp;usg=AFQjCNFCsAo8tjp7P4odi0Yv0yQupg3JAw&amp;sig2=KDaq0vZeNkkPfkigxltuPg" title="google cache, letzter Aufruf: 19.11.2016">Herstellerspezifikationen</a> der <strong>6860</strong> Serie aufgelistet.<br><br />
<a name="refTableElectric"> </a><br />
<center></p>
<table>
<thead>
<tr>
<th>Electrical Specifications</th>
<th>Symbol</th>
<th>Value</th>
<th align="center"></th>
<th align="center"></th>
</tr>
</thead>
<tbody>
<tr>
<td>Coil Inductance</td>
<td>$L$</td>
<td>$\SI{160}{\micro\henry}$</td>
<td align="center"></td>
<td align="center">$\pm\SI{10}{\%}$</td>
</tr>
<tr>
<td>Coil Resistance</td>
<td>$R_L$</td>
<td>$\SI{1.5}{\ohm}$</td>
<td align="center"></td>
<td align="center">$\pm\SI{10}{\%}$</td>
</tr>
<tr>
<td>Back-EMF const.</td>
<td>$K_{EMF}$</td>
<td>$\SI{0.17}{mV s /\degree}$</td>
<td align="center">$\SI{9.74}{mV s /\radian}$</td>
<td align="center">$\pm\SI{10}{\%}$</td>
</tr>
<tr>
<td>RMS Current</td>
<td>$I_{L-RMS}$</td>
<td>$\SI{4.6}{A}$</td>
<td align="center">at $\ T_{case}=\SI{50}{°C}$</td>
<td align="center">Max.</td>
</tr>
<tr>
<td>Peak Current</td>
<td>$I_{L-PEAK}$</td>
<td>$\SI{25}{A}$</td>
<td align="center"></td>
<td align="center">Max.</td>
</tr>
<tr>
<td>Step Response Time</td>
<td>Small Angle</td>
<td>$\SI{0.5}{ms}$</td>
<td align="center">inertia matched load</td>
<td align="center"></td>
</tr>
</tbody>
</table>
<p><a name="refTableMechanic"> </a></p>
<table>
<thead>
<tr>
<th>Mechanical Specifications</th>
<th>Symbol</th>
<th>Value</th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Angular Excursion</td>
<td>$\Delta\varphi_{Max}$</td>
<td>$\SI{40}{\degree}$</td>
<td>$\SI{0.698}{\radian/s}$</td>
<td></td>
</tr>
<tr>
<td>Rotor Inertia</td>
<td>$J_R$</td>
<td>$\SI{0.6}{gm.cm^2}$</td>
<td>$\SI{6e-8}{kg.m^2}$</td>
<td>$\pm\SI{10}{\%}$</td>
</tr>
<tr>
<td>Torque Constant</td>
<td>$K_{EL}$</td>
<td>$\SI{9.3*10^4}{dyne.cm/A}$</td>
<td>$\SI{9.3e-3}{N.m/A}$</td>
<td>$\pm\SI{10}{\%}$</td>
</tr>
<tr>
<td>Max. Coil Temperature</td>
<td></td>
<td>$\SI{110}{°C}$</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Thermal Resistance<br>(Coil - Case)</td>
<td></td>
<td>$\SI{1.5}{°C/\watt}, Max$</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p><a name="refTablePositionDetect"> </a></p>
<table>
<thead>
<tr>
<th>Position Detector</th>
<th>Value</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Linearity</td>
<td>99.9%, Minimum, over 40 degrees</td>
<td></td>
</tr>
<tr>
<td>Scale Drift</td>
<td>50PPM/°C, Maximum</td>
<td></td>
</tr>
<tr>
<td>Zero Drift</td>
<td>15 microradians/°C, Maximum</td>
<td></td>
</tr>
<tr>
<td>Repeatability, Short Term</td>
<td>8 microradians</td>
<td></td>
</tr>
<tr>
<td>Output Signal, Common Mode</td>
<td>585µA @ AGC voltage=10VDC</td>
<td>$\pm\SI{20}{\%}$</td>
</tr>
<tr>
<td>Output Signal, Differential Mode</td>
<td>14.5µA/° @ common mode current of 585µA</td>
<td>$\pm\SI{20}{\%}$</td>
</tr>
</tbody>
</table>
<p></center><br />
<span style="font-size: 80%">$\;\;\;1\;dyne.cm \;\;\;\Leftrightarrow\;\;\; 1\times 10^{-7} Nm$<br />
$\;\;\;1\;gm.cm^2 \;\;\;\Leftrightarrow\;\;\; 1\times 10^{-7} kg.m^2$</span><br />
<br></p>
<h3 id="elektrische-komponenten"><a name="user-content-elektrische-komponenten" href="#elektrische-komponenten" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Elektrische Komponenten</h3>
<p>Das fertige Modell des Galvomotors setzt sich aus elektrischen und mechanischen Teilsystemen zusammen. Beim ersten Modellansatz wurde die <strong>Eingangsspannung</strong> der Statorinduktivität als Stellgröße für die Regelstrecke angenommen.</p>
<h4 id="elektrisches-teilsystem"><a name="user-content-elektrisches-teilsystem" href="#elektrisches-teilsystem" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Elektrisches Teilsystem</h4>
<p>In differentieller Form ist die Zweipolbeziehung einer idealen Induktivität gegeben durch:<br />
$$ u(t)=L \cdot \frac{\partial~i_L}{\partial~t} $$<br />
Bezeichnet $u_M(t)$ die Eingangsspannung der Statorwicklung und $R_L$ den reellen Wicklungswiderstand, so gilt für eine reale Motorinduktivität <br />
$$ u_M(t)=L \cdot \frac{\partial~i_L}{\partial~t} + R_L \cdot i_L(t) <br />
\;\;\;\Leftrightarrow\;\;\;<br />
\frac{u_M(t)}{L} = \frac{\partial~i_L}{\partial~t} + \frac{R_L}{L} \cdot i_L(t) $$ <br />
Wird diese Differentialgleichung Laplace-transformiert, ergibt sich im Bildbereich die Funktionsgleichung:<br />
$$\mathscr{L}\Bigg(\frac{u_M(t)}{L}\Bigg) = \frac{U_M(s)}{L} = s \cdot I_L(s) - i_{L0} + \frac{R_L}{L} \cdot I_L(s)$$ <br />
Bei verschwindenden Anfangsbedingungen $i_{L0}=0$ gilt für die Übertragungsfunktion (transfer function, TF) zwischen Motorspannung und Motorstrom: <br />
$$ \begin{equation}<br />
G_{EL^*}(s) = \frac{I_L(s)}{U_M(s)} = \frac{1}{L} \cdot \frac{1}{s+\frac{R_L}{L}} \label{eqGsAusg} \end{equation} $$<br />
Die Zeitkonstante des ersten Energiespeichers im System kann durch Umformung des Nennerpolynoms von \eqref{eqGsAusg} bestimmt werden und beträgt $\; {\large\tau} = \frac{L}{R_L} = \frac{160\,\mu H}{1.5\,\Omega}\approx 107\,\mu s$. </p>
<p>Mit dem Ziel, das System als Blockschaltbild darzustellen, wird die Übertragungsfunktion nach der Regel für PT1-Glieder umgeformt. Es gilt darauf zu achten dass bei der Umformung keine freien $s$-Faktoren entstehen da Systeme mit Nullstellenüberschuss keine Bandbegrenzung besitzen. Ein ideales Differenzierglied mit $G(s)=s$ ist aus Kausalitätsgründen technisch nicht realisierbar. \begin{equation} \mathrm{Übertragungsfunktion = \frac{Vorwärtspfad}{1 + Vorwärtspfad \times Rückwärtspfad}} \label{eqForwardPath} \\ \phantom{.} \\ G_{EL}(s) = \frac{I_L(s)}{U_M(s)} \cdot \frac{1/s}{1/s} = \frac{1}{s} \frac{1}{L} \cdot \frac{1}{1 + \frac{1}{s} \frac{R_L}{L}} \end{equation} <center><img alt="realInductor" src="pics/simulExport/realInductor.svg" title="Motorinduktivität" /></center> </p>
<h4 id="back-emf"><a name="user-content-back-emf" href="#back-emf" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Back-EMF</h4>
<p>Die Änderung der magnetischen Flussdichte innerhalb einer Leiterschleife erzeugt nach Faraday und Maxwell ein elektrisches Feld zwischen den Leiteranschlüssen. Die <em>elektromagnetische Induktion</em> führt bei Elektromotoren zu einer elektrischen Spannung, die der Quellenspannung des Motorantriebs entgegen wirkt. Aus diesem Grund wird diese elektromotorische Kraft (EMK, engl. &ldquo;Electromotive Force&rdquo;, EMF) auch als Back-EMF oder Counter-EMF bezeichnet. Die Intensität der Back-EMF steigt proportional mit der Geschwindigkeit der bewegten Leiterschleife bzw. des bewegten Magnetfeldes, was im Modell durch die Produktbildung von Winkelgeschwindigkeit und einem konstanten Faktor $K_{EMF}$ berücksichtigt werden muss. Wenn die mechanischen Reibungsverluste eines elektrischen Antriebs zu 0 gesetzt werden, sind Drehmomentkonstante $K_{EL}$ und $K_{EMF}$ identisch</p>
<p>In den Herstellerspezifikationen (<a href="#refTableElectric">Electrical Specifications</a>) ist der EMF-Faktor mit $0.17\si{mV/degree/sec}\;\;±10\%$ angegeben. In si-Einheiten umgerechnet ergibt sich daraus </p>
<p>$$\begin{aligned} <br />
\SI{0.17}{\milli V\per\degree\per\second} \\<br />
0.17,mV/degree/sec &amp;= 9.74\times 10^{-3} V/rad/s \nonumber \\<br />
&amp;= 9.74\times 10^{-3} Nm/A \nonumber<br />
\end{aligned}$$</p>
<p>was, bis auf die Reibungsverluste, ziemlich genau der Drehmomentkonstante entspricht. Für die elektromotorische Kraft des bewegten Magnetfeldes gilt somit <br />
\begin{equation} u_{EMF}(t) = K_{EMF} \cdot \omega(t) \label{eqVemf} \end{equation} <br />
Die Spannung $u_{EMF}(t)$ wird mit negativem Vorzeichen in den Signalpfad vor $G_{EL^*}(s)$ Rückgekoppelt um ihren Einfluss auf die Dynamik der Regelstrecke korregt zu modellieren.<br />
\begin{equation} <br />
G_{EL}(s) = \frac{I_L(s)}{U_M(s)-U_{EMF}(s)} = \frac{1}{L} \frac{1}{s} \cdot \frac{1}{1 + \frac{1}{s} \frac{R_L}{L}} \label{eqGel} \end{equation} <center><img alt="mechSubA" src="pics/simulExport/mechSubA.svg" title="Mechanisches Subsystem" /></center></p>
<h4 id="elektrisch-generiertes-drehmoment"><a name="user-content-elektrisch-generiertes-drehmoment" href="#elektrisch-generiertes-drehmoment" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Elektrisch generiertes Drehmoment</h4>
<p>Das elektrische Drehmoment $M_{EL}$ zum Zeitpunkt $t=t0$ entspricht dem Produkt aus Spulenstrom $i_L(t0)$ und Drehmomentkonstante $K_{EL}$, somit gilt $M_{EL}(t) = i_L(t) \cdot K_{EL}$ was einfach durch einen weiteren <em>Gain-Block</em> im Blockschaltbild berücksichtigt wird. </p>
<h4 id="positionssensor"><a name="user-content-positionssensor" href="#positionssensor" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Positionssensor</h4>
<p>Die verwendeten Galvoscanner sind mit einem integrierten Positionsdetektor ausgestattet. Die Winkelposition der Rotorwelle wird anhand variabler Kapazitäten gemessen (<a href="#modellbildungsprozess">siehe Abb. in <em>Modellbildungsprozess</em></a>). Die Größenordnung der Kapazitätsdifferenz liegt bei nur wenigen Picofarad. Um auch kleine Positionsänderungen präzise messen zu können, sind entsprechend hohe Anforderungen an die Mess- und Auswerteelektronik zu stellen. Die vom Hersteller bereitgestellte Winkelposition ist einer Trägerschwingung von $f_0 = 1.6~MHz$ aufmodulliert und steht als Differenzstromsignal zur Verfügung. Mit einer entsprechend präzise ausgelegten Operationsverstärkerschaltung wurde das Differenzstromsignal zu einer proportionalen Gleichtaktspannung demoduliert. Der Proportionalitätsfaktor wird im Folgenden als $K_{PD}$ bezeichnet und besitzt die Einheit $V/rad$.<br />
Um den eingebauten Positionssensor der <em>6860</em> Galvoscanner zu modellieren, wird die Winkelgeschwindigkeit $\omega(t)$ durch einen einfachen Integrationsblock in die Winkelposition $\varphi(t)$ überführt (siehe <a href="#mathematische-zusammenhänge">Mathematische Zusammenhänge</a>). </p>
<h3 id="mechanische-komponenten"><a name="user-content-mechanische-komponenten" href="#mechanische-komponenten" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Mechanische Komponenten</h3>
<p>Eine <em>bewegte</em> Masse speichert die <em>kinetische Energie</em> $E_{kin}$. Neben dem Linearfaktor <em>m</em> steigt $E_{kin}$ dabei quadratisch zur Geschwindigkeit, mit der sich die Masse bewegt. Rotiert ein Körper um eine feste Achse, so spricht man von <em>Rotationsenergie</em> $E_{rot}$. Sie steigt in Abhängigkeit des <a href="#citeInertialmoment" title="Das Trägheitsmoment, auch Massenträgheitsmoment oder Inertialmoment, gibt den Widerstand eines starren Körpers gegenüber einer Änderung seiner Rotationsbewegung um eine gegebene Achse an (Drehmoment geteilt durch Winkelbeschleunigung). Damit spielt es die gleiche Rolle wie im Verhältnis von Kraft und Beschleunigung die Masse;">Trägheitsmoments</a><sup id="fnref:fnInertialmoment"><a class="footnote-ref" href="#fn:fnInertialmoment" rel="footnote">21</a></sup> $J_R$ des Körpers und dem Quadrat seiner Winkelgeschwindigkeit $\omega(t)$.</p>
<p>Das mechanische Teilsystem kann also ebenfalls durch ein entsprechend dimensioniertes PT1-Glied beschrieben werden (Ein einzelner, linear unabhängiger Energiespeicher). Um den systemtheoretischen Zusammenhang der einzelnen mechanischen Größen mathematisch abbilden zu können, wurde folgende Liste erstellt. Sie beinhaltet zusätzlich Näherungen und Annahmen die bisher getroffen wurden</p>
<ul>
<li>elektrisches Drehmoment $\,\bf{M_{EL}}$<ul>
<li>Erregerfeld gilt als konstant bezüglich Intensität ($\vec{B}, \vec{H}$) und Winkelpos. (siehe <a href="#klassifizierung">Klassifizierung</a>, 2. Absatz) </li>
<li>$M_{EL}$ ist im Bereich $\,\pm \frac{1}{2}\cdot \Delta\varphi_{Max} = \pm 20°$ proportional zum Spulenstrom $\,i_L(t)$</li>
<li>Herstellerangaben zum Proportionalitätsfaktor $\,K_{EL}$ vorhanden </li>
</ul>
</li>
<li>Trägheitsmoment $\,\bf{J_R}$ (alt. Inertialmoment) des rotierenden Körpers setzt sich zusammen aus <ul>
<li>Rotorwelle, Rotormagnet, Sensorscheibe und Spiegel</li>
<li>Die Drehachse wird als fest und die Rotormasse als homogen verteilt, angenommen <ul>
<li>Trägheitstensor darf in die skalare Größe des Trägheitsmoments überführt werden</li>
</ul>
</li>
<li>Herstellerangabe zum skalaren Trägheitsmoment $\,J_R$ vorhanden </li>
</ul>
</li>
<li>mechanische Reibung $\,\bf{M_{FR}}$, verursacht durch Reibungsverluste in<ul>
<li>Kugellager, Positionssensor, keine Herstellerangaben</li>
</ul>
</li>
<li>äußeres Lastmoment / Rückstellmoment $\,\bf{M_{TB}}$  <ul>
<li>siehe <a href="#lastmoment">Lastmoment</a></li>
<li>keine Herstellerangaben</li>
</ul>
</li>
</ul>
<h4 id="lastmoment"><a name="user-content-lastmoment" href="#lastmoment" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Lastmoment</h4>
<p>Für den konkreten mechanischen Aufbau des Scannermodells <em>6860</em> konnten keine zuverlässigen Quellen gefunden werden. Die Vermutung, dass die Rotorwelle einem statischen Lastmoment ausgesetzt ist, soll im folgenden kurz begründet werden:</p>
<ol>
<li>selbständiges Rückstellen der Rotorwelle bis auf ±4° um die Mittelstellung wenn Spannungsfrei geschaltet<ul>
<li>Die Rotorwelle wird automatisch in Mittelstellung zurück gedreht wenn das elektrische Moment zu 0 wird.</li>
<li>Dieser Effekt könnte, abhängig von Aufbau und Geometrie des magnetischen Statorkreises, auch darauf zurück zu führen sein, dass sich bei Mittelstellung der geringste magnetische Widerstand einstellt. Anders formuliert: Die Rückstellbewegung könnte auch auf die <a href="https://de.wikipedia.org/wiki/Reluktanzkraft" title="https://de.wikipedia.org/wiki/Reluktanzkraft">Reluktanzkraft</a> zurückzuführen sein.  </li>
</ul>
</li>
<li>Kräftegleichgewicht bei sehr geringen Statorströmen (wenige mA)<ul>
<li>Wird ein minimaler Gleichstrom in die Motorwicklung eingeprägt, so stellt sich im Bereich $\,\Delta\varphi_{Max}$ ein Gleichgewichtszustand des Drehwinkels ein. </li>
</ul>
</li>
<li>Quelle: Mechanisches Funktionsprinzip von Effektlasern auf <a href="http://www.laserfx.com/Works/Works3S.html" title="How Laser Shows Work - Scanning System"><a href="http://www.laserfx.com"><a href="http://www.laserfx.com">www.laserfx.com</a></a></a></li>
<li>Elektrische &ldquo;Erdung&rdquo; des Rotorkörpers um elektrostatischen Effekten vorzubeugen</li>
</ol>
<p>In der Produktspezifikation des Herstellers sind keinerlei Angaben bezüglich statischer Lastmomente zu finden. Da diese jedoch experimentell nachweisbar sind und sich der Einfluss nur schwer abschätzen lässt, wurde bei der Modellbildung ein entsprechendes Lastmoment in Form einer Torsionsfederkonstante (lineares Verhalten) mit einbezogen.</p>
<h4 id="mechanisches-teilsystem"><a name="user-content-mechanisches-teilsystem" href="#mechanisches-teilsystem" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Mechanisches Teilsystem</h4>
<p>Entsprechend des Abschnitts <a href="#mathematische-zusammenhänge">Mathematische Zusammenhänge</a> dient die Drehimpulsbilanzgleichung \eqref{eqDrehimpulsbil} als Ausgangspunkt für die konkrete Formulierung des mechanischen Teilsystems. Um das dynamische Verhalten der Galvanometer-Motoren weitestgehend korrekt abzubilden, müssen die zeitabhängigen Drehmomente $M_{EL},\,M_{FR},\,M_{TB}$ und das Massenträgheitsmoment $J_R$, bei der Bilanzbildung mit entsprechendem Vorzeichen berücksichtigt werden.<br />
\begin{equation} <br />
J_R\,\frac{\partial}{\partial\,t} \, \omega(t) = M_{EL}(t) - \big[M_{FR}(t) + M_{TB}(t) \big] \label{eqDrehimpulsbilBase}\end{equation}<br />
Das mechanische Reibmoment $\vec M_{FR}(t)$ und das Lastmoment $\vec M_{TB}(t)$ der Torsionsfeder wirken dem elektrisch generierten Drehmoment $\vec M_{EL}(t)$ entgegen. <br />
\begin{equation}  <br />
J_R \; \dot\omega = M_{EL} - M_{Mech} \label{eqDrehimpulsbilKon} \end{equation} Werden die i.A. gerichteten Größen auf skalare reduziert, ergeben sich folgende, einfache Beziehungen <br />
\begin{equation}  <br />
M_{TB} \;\propto\; \varphi \;\;\;\Leftrightarrow\;\;\; M_{TB} = K_{TB}\cdot\boldsymbol{\varphi} \label{eqLinearTorsin}  <br />
\end{equation} Das Torsionsmoment (statisches Lastmoment) steigt an, je weiter der Rotor aus seiner Ruhelage heraus bewegt wird. Die Gleit-Reibung ist hingegen nur von der Geschwindigkeitsdifferenz zweier Körper abhängig, geht man von einem konstanten Gleitreibungskoeffizienten im Bereich $\pm 1/2\cdot\Delta\varphi_{Max}$ aus. Bei entsprechend &ldquo;schwer&rdquo; anlaufenden Antrieben sollte die Haftreibung (oft durch verzögerte Signum-Funktion modelliert) nicht außer Acht gelassen werden. Glücklicherweise kann hier auf diese Klasse hochgradig nicht-linearer Übertragungsfunktionen verzichtet werden. Für die Gleitreibung gillt jedoch: <br />
$$ \begin{align}<br />
M_{FR} \;\propto\; \omega &amp;\;\;\;\Leftrightarrow\;\;\; M_{FR} = K_{FR} \cdot\boldsymbol{\dot\varphi} \label{eqLinearFriction} \\<br />
M_{EL} \;\propto\; i_L &amp;\;\;\;\Leftrightarrow\;\;\; M_{EL} = K_{EL}\cdot i_L \label{eqLinearElTorque}<br />
\end{align} $$ Der lineare Zusammenhang zwischen Ankerstrom und Drehmoment wurde bereits erwähnt. Nach einsetzen von \eqref{eqLinearTorsin}, \eqref{eqLinearFriction} und \eqref{eqLinearElTorque} in die Drehimpulsbilanzgleichung aus \eqref{eqDrehimpulsbilKon} erhät man dann eine lineare DGL 2. Ordnung mit konstanten Koeffizienten:</p>
<p>\begin{equation}<br />
J_R~\ddot\varphi + K_{FR}~\dot\varphi + K_{TB}~\varphi = K_{EL}\cdot i_L(t) \label{eqDglSecond} \\ \phantom{.} \\<br />
\small{\left[kg\,s^2\right]\left[\frac{rad}{s^2}\right] + \left[\frac{Nm\,s}{rad}\right]\left[\frac{rad}{s}\right] + \left[\frac{Nm}{rad}\right]\left[rad\right] = \left[\frac{Nm}{A}\right]\left[A\right]} \\ \phantom{.} \end{equation}</p>
<p>Es gibt nun <em>mehrere Ansätze</em> wie die DGL in den Bildbereich transformiert werden kann. Mit Gleichung \eqref{eqDglSecond} als Ausgangspunkt, wäre eine direkte Transformation problemlos umsetzbar. Durch Anwendung des Differentiationstzes der Laplace-Theorie, lässt sich die Bildfunktion schnell aufstellen. Der 1. Ansatz lautet deshalb:<br />
\begin{equation} <br />
\mathscr{ L }\bigg\lbrace\frac{\mathrm{d}^n x}{\mathrm{d} t^n}\bigg\rbrace = s^n \cdot X\left(s\right)-s^{n-1} \cdot x(0_{\small-})- \,\dots\left.\frac{\mathrm{d}^{n-1}x}{\mathrm{d}t^{n-1}} \right\bracevert_{t=0_{\small-}} \;\;\;\;\;\;\;\;\;{\small{und\ mit}\;\;} \mathscr{L}\lbrace\varphi(t)\rbrace = {\large\Phi}(s) \nonumber<br />
\\ \phantom{.} \\ \Downarrow \\ \phantom{.} \\<br />
\frac{K_{EL}}{J_R} \cdot\mathscr{ L }\,\Big\lbrace\ i_L(t) {\Big\rbrace} = s^2 \,{\large\Phi}(s) - s\,\varphi(0)-\dot\varphi(0) + \frac{K_{FR}}{J_R}\cdot s \,{\large\Phi}(s) - \frac{K_{FR}}{J_R}\, \varphi(0) + \frac{K_{EL}}{J_R} \cdot {\large\Phi}(s) \nonumber<br />
\end{equation}<br />
Setzt man die Anfangsbedingungen in beiden Ableitungen wieder zu null, entseht zwar ein übersichtlicher Ausdruck, jedoch lässt sich von diesem nicht so ohne weiters auf die Struktur der Blockschaltung schließen. <br />
Andere wichtige Systemeigenschaften wie z.B. die stationäre Verstärkung oder die Zeitkonstanten des Streckenteils $\Phi{\small(s)/}I_L{\small(s)}$, können der Übertragungsfunktion ${\mathrm G_{{\small \mathrm M_1}}}$ jedoch entnommen werden.</p>
<p>\begin{equation}<br />
\frac{K_{EL}}{J_R} \cdot I_L(s) = s^2 \,{\large\Phi}(s) + \frac{K_{FR}}{J_R}\cdot s \,{\large\Phi}(s) + \frac{K_{EL}}{J_R} \cdot {\large\Phi}(s) \nonumber \\ \phantom{.} \\ \Updownarrow \\ \phantom{.} \\<br />
{\mathrm G_{{\small \mathrm M_1}}}(s)=\frac{{\large\Phi}(s)}{I_L(s)} = \frac{K_{EL}}{J_R} \cdot \frac{1}{s^2+s\cdot\frac{K_{FR}}{J_R}+ \frac{K_{TB}}{J_R}} \label{equDglWI}<br />
\end{equation}</p>
<p><span style="background-color: yellow"> Mit dem Übergang in den Bildbereich wurden die physikalischen Zusammenhänge beim ersten Ansatz untransparent. Aufgrund der Forderung nach einer , die Laplace Transformation auf eine DGL 1. Ordnung anwenden zu können, muss einer der kinetischen Energiespeicher aus \eqref{eqLinearFriction} &ldquo;wegfallen&rdquo;. Wieder ausgehend von der Drehimpulsbilanzgleichung \eqref{eqDrehimpulsbilBase}, wird dieses mal nach dem &ldquo;nächsten Verwandten&rdquo; von $J_R\cdot\omega$ innerhalb der Inhomogenität der DGL gesucht:</span></p>
<p>Werden in der Ausgangsgleichung nur Terme eingesetzt, die höchstens eine Integration über $\boldsymbol{\dot\omega}$ liegen, bleibt auch die Ordnung der resultierenden DGL erhalten. In \eqref{eqDrehimpulsbilBase} wird also nur das Reibmoment $M_{FR}$ durch $K_{FR} \cdot{\dot\varphi}=K_{FR} \cdot{\omega}\,$ und das elektrische Moment $M_{EL}$ entsprechend substituiert. Anschließend folgt wieder die Laplace-Transformation wobei $\Omega(s)$ als $\mathscr{ L } \big\lbrace\,\omega(t)\big\rbrace$ zu verstehen ist.<br />
\begin{align} <br />
J_R\,\frac{\partial}{\partial\,t} \, \omega(t) &amp;= \boldsymbol{K_{EL}\cdot i_L(t)} - \boldsymbol{K_{FR} \cdot \omega (t)} - M_{TB}(t) \;\;&amp;&amp;\Leftrightarrow \nonumber \\<br />
J_R\,\dot\omega + K_{FR} \cdot \omega  &amp;= K_{EL}\cdot i_L - M_{TB}  &amp;&amp;\Big|\;\mathscr{ L } \lbrace\,\dots\rbrace \nonumber \\<br />
\Omega(s)\cdot \big(s\cdot J_R+K_{FR}\big) &amp;= K_{EL}\cdot I_L(s) - M_{TB}(s) &amp;&amp;wenn\ \omega(0)=0 \label{eqBeforeLapMech} <br />
\end{align} <br />
Um an die Übertragungsfunktion des elektrischen Teilsystems $G_{EL}(s)$ aus \eqref{eqGel} anknüpfen zu können, muss Gleichung \eqref{eqBeforeLapMech} in eine Form gebracht werden, in der $I_L(s)$ im Nenner auftaucht:<br />
\begin{align} <br />
\frac{ \Omega(s) }{K_{EL}\cdot I_L(s) - M_{TB}(s)}  &amp;= \frac 1 {s\cdot J_R+K_{FR}} \nonumber \\<br />
&amp;= \color{red}{\frac{1}{s} \frac{1}{J_R}} \cdot \frac{1}{1 + \color{red}{\frac{1}{s} \frac{\color{blue}{K_{FR}}}{J_R}}} \nonumber<br />
\end{align}<br />
Diese Übertragungsfunktion lässt sich nach einer Umformung entsprechend Regel \eqref{eqForwardPath} wieder direkt in einem Blockdiagramm darstellen:<br />
<center><img alt="mechSubInklTb" src="pics/simulExport/mechSubInklTb.svg" title="Mechanisches Subsystem inkl. Torsionsmoment" /></center></p>
<h4 id="verbindung-der-teilsysteme"><a name="user-content-verbindung-der-teilsysteme" href="#verbindung-der-teilsysteme" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Verbindung der Teilsysteme</h4>
<p>Nachfolgende Abbildung zeigt das zusammengesetzte Modell. Der in Abschnitt <a href="#positionssensor">Positionssensor</a> erwähnte Proportionalitätsfaktor $K_{PD}$ muss erst in der Rückführung von $\varphi(t)$ auf den ADC des diskreten Reglers beachtet werden.<br />
<center><img alt="systemSubCmpl" src="pics/simulExport/systemSubCmpl.svg" title="Zusammengesetztes Teilsysteme" /></center><br />
Die in den Teilsystem-Blockschaltbildern noch offenen Signaleingänge $M_{TB}$ sowie $V_{EMF}$, müssen entsprechend den linearisierten Beziehungen aus \eqref{eqVemf} bzw. \eqref{eqLinearTorsin} erzeugt werden. Das resultierende, <strong>lineare</strong> Modell ist in folgender Abbildung gegeben:<br />
<center><img alt="systemLinCmpl" src="pics/simulExport/systemLinCmpl.svg" title="Lineares Streckenmodell" /></center></p>
<p>$$ G(s)=\frac{K_{EL}} { \color{green}{J_R~L}\cdot s^3 + (\color{blue}{ K_{FR}~L+J_R~R_L+J_R~R_{sh} }) \cdot s^2 + (\color{red}{K_{EMF}~K_{EL}+K_{FR}~R_L+K_{FR}~R_{sh}}) \cdot s } $$</p>
<h3 id="gesamtmodell-regelstrecke"><a name="user-content-gesamtmodell-regelstrecke" href="#gesamtmodell-regelstrecke" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Gesamtmodell Regelstrecke</h3>
<p>Das Gesamtmodell der Galvomotor entspricht im Wesentlichen dem aus Abschnitt <a href="#verbindung-der-teilsysteme">Verbindung der Teilsysteme</a>. Die Winkelposition wird im Bereich $|\,\varphi\,| &gt; 1/2\cdot\Delta\varphi_{Max}$ nichtlinear da der Aussteuerbereich des Rotors durch mechanische Endanschläge blockiert wird. Weiterhin wird auch der vom Hersteller angegebene Wicklungsspitzenstrom als Grenzwert für den linearen Bereich des Ankerstromkreises interpretiert sodass die Übertragungsfunktion des elektrischen Teilsystems für $|\,i_L\,| &gt; 25\,A$ ungültig wird. Beide Bereiche werden im Simulink Modell durch entsprechend parametrierte Sättigungsblöcke modelliert.   </p>
<p><yelBg>Simulink Modelle</yelBg></p>
<p>Im Idealfall wäre die Modellverifikation der logische Folgeschritt innerhalb des Modellbildungsprozesses. Auch die Grundstruktur des <strong>V</strong>-Modells beschreibt durch Querverbindungen eine ständige Validierung vorangegeangener Arbeitsschritte. </p>
<p>Ansätze zur Modellverifikation<br />
 - numerische Plausibilitätsprüfung<br />
     + Herstellerwerte in das generische Modell einsetzen<br />
     + Übertragungsfunktion analysieren</p>
<h2 id="stellglied-leistungsteil"><a name="user-content-stellglied-leistungsteil" href="#stellglied-leistungsteil" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>!Stellglied / Leistungsteil</h2>
<p><yelBg>(&hellip;)</yelBg></p>
<h2 id="signalkonditionierung"><a name="user-content-signalkonditionierung" href="#signalkonditionierung" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>!Signalkonditionierung</h2>
<p><yelBg>(&hellip;)</yelBg></p>
<h2 id="angaben-zur-systemdynamik"><a name="user-content-angaben-zur-systemdynamik" href="#angaben-zur-systemdynamik" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>!Angaben zur Systemdynamik</h2>
<p><yelBg>(&hellip;)</yelBg></p>
<h2 id="spezifikationen-des-gesamtsystems"><a name="user-content-spezifikationen-des-gesamtsystems" href="#spezifikationen-des-gesamtsystems" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Spezifikationen des Gesamtsystems</h2>
<p><yelBg>(&hellip;)</yelBg></p>
<h1 id="modellverifikation"><a name="user-content-modellverifikation" href="#modellverifikation" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>!Modellverifikation</h1>
<p><yelBg>(&hellip;)</yelBg></p>
<h2 id="testsignale"><a name="user-content-testsignale" href="#testsignale" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>!Testsignale</h2>
<p><yelBg>(&hellip;)</yelBg></p>
<h3 id="problematik-der-sattigung"><a name="user-content-problematik-der-sattigung" href="#problematik-der-sattigung" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>!Problematik der Sättigung</h3>
<p><yelBg>(&hellip;)</yelBg></p>
<h2 id="modellparameter-vergleichbaren"><a name="user-content-modellparameter-vergleichbaren" href="#modellparameter-vergleichbaren" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>!Modellparameter vergleichbaren</h2>
<p><yelBg>(&hellip;)</yelBg></p>
<h2 id="step-by-step"><a name="user-content-step-by-step" href="#step-by-step" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>!Step-by-Step</h2>
<p><yelBg>(&hellip;)</yelBg></p>
<h2 id="regelalgorithmen-testen"><a name="user-content-regelalgorithmen-testen" href="#regelalgorithmen-testen" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>!Regelalgorithmen testen:</h2>
<p><yelBg>(&hellip;)</yelBg></p>
<h3 id="rc-glied-direkt-an-gepufferten-dac"><a name="user-content-rc-glied-direkt-an-gepufferten-dac" href="#rc-glied-direkt-an-gepufferten-dac" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>!RC-Glied direkt an gepufferten DAC</h3>
<p><yelBg>(&hellip;)</yelBg></p>
<h3 id="testsignale-im-uc-erzeugen"><a name="user-content-testsignale-im-uc-erzeugen" href="#testsignale-im-uc-erzeugen" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>!Testsignale im uC erzeugen</h3>
<p><yelBg>(&hellip;)</yelBg></p>
<h3 id="oszibilder-mit-matlab-simulation-vergl"><a name="user-content-oszibilder-mit-matlab-simulation-vergl" href="#oszibilder-mit-matlab-simulation-vergl" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>!Oszibilder mit MATLAB-Simulation vergl.</h3>
<p><yelBg>(&hellip;)</yelBg></p>
<h1 id="architekturbeschreibung"><a name="user-content-architekturbeschreibung" href="#architekturbeschreibung" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Architekturbeschreibung</h1>
<h2 id="gesamtsystem-modell"><a name="user-content-gesamtsystem-modell" href="#gesamtsystem-modell" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Gesamtsystem-Modell</h2>
<p><figure> <img src="pics/lti_object_generator.svg" title="Automatisierte MATLAB/Simulink LTI-Objekt-Generierung mittels Frequenzgang-Näherungsverfahren" class="noborder"><figcaption>Automatisierte MATLAB/Simulink LTI-Objekt-Generierung mittels Frequenzgang-Näherungsverfahren</figcaption> </figure></p>
<h2 id="softwarearchitektur"><a name="user-content-softwarearchitektur" href="#softwarearchitektur" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Softwarearchitektur</h2>
<blockquote>
<p>Architektur ist die Kombination von utilitas, firmitas und venustas.<sup id="fnref:fnSwArchitekturIst"><a class="footnote-ref" href="#fn:fnSwArchitekturIst" rel="footnote">34</a></sup></p>
</blockquote>
<p><center></p>
<table class="noalter" style="width: 100%">
    <tbody style="text-align: left">
        <tr style="font-weight: bold">
            <td colspan="2" style="width: 50%;"><center>Nach Vitruvius sinngemäß<br>(Römischer Architekt 90-20 v. Chr.)</center></td>
            <td rowspan="1" style="width: 50%;"><center>Softwarearchitektur hat zum Ziel,<br> dass das An&shy;wen&shy;dungs&shy;system ...</center></td>
        </tr>
        <tr>
            <td>utilitas</td>
            <td>Das Gebäude erfüllt seine Funktion</td>
            <td rowspan="3">
                <ul>
                    <li>den Anforderungen entspricht (<b>utilitas</b>)</li>
                    <li>robust ist (<b>firmitas</b>) und </li>
                    <li>eine gewisse Schönheit besitzt (<b>venustas</b>)</li>
                </ul>
            </td>
        </tr>
        <tr>
            <td>firmitas</td>
            <td>Das Gebäude ist stabil</td>
        </tr>
        <tr>
            <td>venustas</td>
            <td>Das Gebäude ist ästhetisch gestaltet</td>
        </tr>
    </tbody>
</table>

<p></center></p>
<p>Mit dieser klaren Aussage vor Augen, befasst sich das nachfolgende Kapitel mit dem weitreichenden, in Abhängigkeit von Literatur und Quellen oft sehr &ldquo;unscharf&rdquo; definierten Begriff der <lkey>Softwarearchitektur</lkey>. Die hier verwendeten Formulierungen und Aussagen bezüglich <em>Architektur</em>, <em>Struktur</em> sowie <em>Muster</em> oder <em>Vorgehen</em>, sollen hauptsächlich Projektbezogen verstanden und nicht auf das Übergeordnete Wissensgebiet der Softwarearchitektur im Sinne verteilter Systeme oder Großprojekte angewandt werden. </p>
<p>Zudem soll an dieser Stelle nochmals auf das in Kapitel <a href="#projektziel-und-anforderungskatalog">Projektziel und Anforderungskatalog</a> (Abschnitt <em>Systemzweck</em>) formulierte Schwerpunktthema &ldquo;<em>Modellbildung und Simulation</em>&rdquo; Bezug genommen werden.  </p>
<h2 id="was-ist-softwarearchitektur"><a name="user-content-was-ist-softwarearchitektur" href="#was-ist-softwarearchitektur" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Was ist Softwarearchitektur?</h2>
<p>Die Softwarearchitektur beschreibt die <em>grundlegenden</em> <strong>Komponenten</strong> und deren <strong>Zusammenspiel</strong> innerhalb eines Softwaresystems auf unterschiedlichen Abstraktionsebenen. Dadurch ist der Softwarearchitekt in der Laage, umfangreiche und komplexe Aufgabenstellungen frühzeitig zu partitionieren sodass ein Gesamtsystem in überschaubare Teilsysteme zerlegt werden kann. </p>
<p>Ein strukturierter Architekturentwurf ist in der Regel auf ganzer Linie gewinnbringend. Die Tatsache, dass ein gut durchdachter Architekturentwurf in den Anfängen eines neuen Projektes zusätzliche Arbeitsleistung = Zeit = Kosten einfordert, relativiert sich spätestens bei langfristiger Betrachtung eines Produkts. Besonders bei großen sowie langlebigen Softwaresystemen zahlt es sich aus, wenn man beispielsweise neuen Mitarbeitern neben der Softwaredokumentation (Implementierungsdetails. z. B. <em>Doxygen</em>) ein  Architekturmodell vorlegen kann. Des weiteren soll mit der in aller Regel höheren Produktqualität, mit einer einfacheren/besseren Projektplanung/Projektierung (bezüglich Zeitmanagement sowie &ldquo;Man-Power&rdquo;), besserer Erweiterbarkeit, Zertifizierungskriterien sowie mit dem Aspekt des Code-Reusing argumentiert werden. </p>
<p>In gewisser Weise besitzt jedes Softwaresystem eine Architektur, unabhängig davon, wie unstrukturiert und von <em>Ad-hoc-decisions</em> geplagt, der Entwicklungsprozess abgelaufen ist (<lkey>Reverse engeneering</lkey>). Dennoch hartnäckigen Modell-Verfechtern und Architekturentwurfsgegnern darf dann, als letzte gut gemeinte Überzeugungshilfe, eine Umschulung zum <strong>Softwarearchäologen</strong> nahegelegt werden.</p>
<h2 id="model-driven-architecture-mda"><a name="user-content-model-driven-architecture-mda" href="#model-driven-architecture-mda" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Model-Driven Architecture (MDA)</h2>
<p>Nachdem in einem <em>Bottom-Up</em>-Prozess eventuell vorhandene Schnittstellen zu Altsystemen bestimmt wurden, erfolgt die eigentliche Entwicklung eines Softwaresystems in der Regel nach dem <em>Top-Down</em>-Prinzip. Wird nun die funktionale Archi&shy;tektur&shy;beschreibung dieses Softwaresystems auf Basis einer <strong>universellen</strong>, d.h. platt&shy;form&shy;unab&shy;hängigen (<strong>!</strong>) Model&shy;lierungs&shy;sprache konzipiert und realisiert, so liegt dem erarbeiteten Produkt eine modell&shy;getriebene Softwareentwicklung zu Grunde (Model-driven software development, MDSD). Die Aufgabe der MDA ist es nun, eine Infrastruktur oder eben Architektur zur Verfügung zu stellen, um Softwareentwicklung auf Modellbasis und nicht mehr auf Code-Basis zu fördern bzw. erst zu ermöglichen.      </p>
<h3 id="unified-modeling-language-uml"><a name="user-content-unified-modeling-language-uml" href="#unified-modeling-language-uml" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Unified Modeling Language (UML)</h3>
<p>Beim Versuch, eine geeignete Sprache für die noch sehr junge Disziplin (erst in den 1990er Jahren als unabhängiges Teilgebiet der Softwaretechnik anerkannt) der Architekturbeschreibung bzw. der MDA zu definieren, wurden über die Jahre unterschiedliche Ansätze und Methoden erarbeitet. Die von der <em>Object Management Group</em> <strong>(OMG)</strong> entwickelte und sowohl von dieser, wie auch von der ISO/IEC 19505 standardisierte <em>Unified Modeling Language</em> <strong>(UML2)</strong>, ist heute die dominierende Sprache für die Softwaresystem-Modellierung. Die UML ist eine Modellierungssprache zur Spezifikation, Konstruktion und Dokumentation von (Software-) Systemen. Sie ist überwiegend auf das Beschreiben von objektorientierten Architekturen optimiert, konzeptbedingt ist der Einsatz für nicht-objektorientierte Systeme jedoch nicht ausgeschlossen. </p>
<h3 id="uml2-industriestandard"><a name="user-content-uml2-industriestandard" href="#uml2-industriestandard" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>UML2 - Industriestandard</h3>
<p>Aus einer Vielzahl von Eigenschaften und Argumenten, die für einen Architekturentwurf in UML sprechen, sollen an dieser Stelle einige wichtige Merkmale herausgegriffen werden.</p>
<table>
<thead>
<tr>
<th>Merkmal</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Diagrammunterstützung</td>
<td>Modelle können in Form von UML-&shy;Diagrammen dargestellt und auch als solche bearbeitet werden. Die graphische Notation ist in der UML-&shy;Spezi&shy;fika&shy;tion stan&shy;dar&shy;di&shy;sie&shy;rt</td>
</tr>
<tr>
<td>Codegenerierung</td>
<td>Entsprechende UML-&shy;Werk&shy;zeuge können aus einem zuvor formu&shy;lierten Modell, einen Teil oder sogar die voll&shy;ständige Architektur&shy;-Imple&shy;mentierung in Form eines Quellcodes ableiten.</td>
</tr>
<tr>
<td>Reverse Engineering</td>
<td>Das UML-Werkzeug leitet aus einem vorhandenen Quellcode das entsprech&shy;ende Model ab und gene&shy;riert daraus Dia&shy;gramme in UML-&shy;konfor&shy;mer Notation.</td>
</tr>
<tr>
<td>Modelltransformation</td>
<td>Die Fähigkeit zur Modell&shy;transfor&shy;mation steckt bereits in den zuvor aufge&shy;zählten Merkmalen (Graphisch erzeugtes Modell wird in sein entsprech&shy;endes Quell&shy;code&shy;modell trans&shy;formiert oder anders herum)</td>
</tr>
</tbody>
</table>
<h3 id="diagramme-als-sicht"><a name="user-content-diagramme-als-sicht" href="#diagramme-als-sicht" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Diagramme als Sicht</h3>
<p>Ein Modell ist oftmals so kompliziert, dass es nur durch die Unterteilung (Dekomposition) in verschiedene <em>Sichten</em> handhabbar wird. Die UML nutzt insgesamt 14 unterschiedliche Diagramm-Arten um verschiedene Aspekte einer Architektur grafisch darzustellen. Eine <em>Sicht</em> repräsentiert einen Aspekt des Modells und wird visuell durch i. A. mehrere Diagramm-Arten dargestellt. Nachfolgend sind alle 14 in der UML2 spezifizierten Diagramm-Typen in einer Hierarchie dargestellt.  </p>
<p><a href="pics/UML-Diagrammhierarchie_Mdb.svg"><figure><img class="noborder" src="pics/UML-Diagrammhierarchie_Mdb.png" title="UML2 Diagrammhierarchie"/><figcaption>UML2 Diagrammhierarchie</figcaption></figure></a></p>
<h2 id="architekturkomponenten"><a name="user-content-architekturkomponenten" href="#architekturkomponenten" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Architekturkomponenten</h2>
<ul>
<li>reverse Engeneering</li>
</ul>
<p><center><img src="pics/diagrams/merged-diag_0.png" class="" title=""  style=""/></center></p>
<hr />
<p><center><img src="pics/diagrams/merged-diag_1.png" class="" title=""  style=""/></center></p>
<hr />
<p><center><img src="pics/diagrams/merged-diag_2.png" class="" title=""  style=""/></center></p>
<hr />
<p><img src="pics/diagrams/merged-diag_3.png" class="" title=""  style=""/><br />
Komponentendigramm</p>
<ul>
<li>zeigt eine bestimmte Sicht auf die Struktur des modellierten Systems</li>
<li>die Darstellung umfasst meist Komponenten inklusive deren Schnittstellen oder Ports</li>
<li>Abhängigkeitsbeziehungen zwischen Komponenten untereinander können dargestellt werden</li>
<li>zeigt oft Notationselemente, die das Innere einer Komponente wiederspiegeln </li>
<li>wird überwiegend zur Modellierung von komponentenbasierten Softwaresystemen eingesetzt</li>
</ul>
<p>Die formelle Beschreibung einer Softwarearchitektur <br />
<a href="http://www.berner-mattner.com/cms/upload/1_PDF/1_Ueber_uns/Publikationen/BernerMattner_Publikationen_WhitePaper_SWArchitektur.pdf">Architektur und Architekturmuster</a> <br />
Die Entwicklung eines Softwaresystems erfolgt üblicherweise top-down (nachdem eventuelle Schnittstellen zu Altsystemen bottom-up bestimmt wurden). Die dabei erfolgende allgemeine Auslegung der Software wird als Softwarearchitektur bezeichnet. Hier soll die Definition von Softwarearchitektur erweitert werden, so dass sie (angelehnt an [SE-Radio]) allgemein festgelegte Designaspekte eines Softwaresystems miteinbezieht. Die Festlegung einer groben Strukturierung der Software in Komponenten ist damit Teil der Softwarearchitektur und beeinflusst somit stark die Qualität und Performanz des zu entwickelnden Systems.</p>
<ul>
<li>ist ein <strong>Prozess</strong>, in Form einer Folge von absichtlichen strategischen Designentscheidungen, die aus Spezifikation und Geschäftszielen das Architektur-Design ableiten.</li>
<li>ist ein <strong>Gegenstand</strong>, in Form eines Satzes von Ansichten, die verschiedene Interessengruppen adressieren und als Ergebnisse des Architekturprozesses entstehen. </li>
</ul>
<p><a href="https://www.heise.de/developer/artikel/Was-heisst-hier-Softwarearchitektur-2808249.html">Was-heißt-hier-Softwarearchitektur? - <em>Dr. Michael Stahl, Siemens AG</em></a></p>
<h1 id="plattform"><a name="user-content-plattform" href="#plattform" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Plattform</h1>
<p>Im Kapitel <a href="#projektziel-und-anforderungskatalog">Projektziel und Anforderungskatalog</a> wurde bereits kommentarlos erwähnt, dass als Mikrocontroller ein <a href="#citeSTM32F429i" title="High-performance advanced line, 180 MHz/225 DMIPS CPU, ARM Cortex-M4 core with DSP and FPU, 512 Kbytes Flash"><em>STM32F429i</em></a> der Firma <em>STMicroelectronics</em> eingesetzt wurde. Die Entscheidung, dass als Hardware-Plattform ein Controller mit ARM-Kern zum Einsatz kommen sollte, viel tatsächlich bereits im Voraus. </p>
<p>Zahlreiche [DIY-Projekte][diyList] steigerten kontinuierlich das Interesse in vielen Bereichen der Hard- und Softwareentwicklung. Meist wurden 8-Bit RISC Controller ATmega/ATXmega der Firma Atmel für diverse Projekte eingesetzt. Mit der Anschaffung des Evaluierungsboards STK-600 inklusive AVR JTAGICE mkII Debugger, stand zwar eine hochflexible Hardware-Plattform (nahezu alle 8-Bit AT(X)mega + AVR32 Controller) zur Verfügung, in Sachen Software-Entwicklungsumgebung war man allerdings (ist noch immer?) an Microsoft .NET und somit an Windows gebunden. Als überzeugter UNIX Anwender blieb somit nur der Betrieb einer virtuellen Windows-Maschine (inkl. aller Windows Treiber-Probleme), wenn man alle Funktionen des JTAG-Emulators nutzen wollte.</p>
<p>Während der aktiven Teilnahme am Formula Student Projekt (HsKA, 2011-2013), konnte jede Menge &ldquo;realitätsnahe&rdquo; Praxis in Sachen Automotive Vernetzung auf Basis von Infineons XC87x Derivaten (8-Bit, XC800 Familie mit High-Performance 8051-Architektur, Multi-CAN, 16-Bit CORDIC Coprozessor), aber auch im Bereich <em>Verantwortung</em> und vor allem Ausfallsicherheit, erarbeitet werden. Außerdem konnten und mussten Methoden getestet und Angewandt werden, um einen gewissen Grad an Plattformunabhängigkeit zu erlangen. Das Sponsoring der KEIL uVison4 Lizenzen musste in jeder Saison erneuert werden und konnte nie als gegeben betrachtet werden. Die vollständigen, GCC-kompatiblen HSK-Bibliotheken (M.Sc. D. Fandrey), sind auf <a href="https://sourceforge.net/projects/hsk/files/stats/timeline?dates=2010-02-02+to+2017-02-08">sourceforge.net</a> veröffentlicht.      </p>
<p><boxed>Das oberste Gebot bei der Wahl der Hardware-Plattform, war also die Unabhängigkeit ihrer Software-Plattform.</boxed></p>
<h3 id="warum-arm"><a name="user-content-warum-arm" href="#warum-arm" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Warum ARM?</h3>
<p>Durch die entsprechende Routing-Karte konnte auf der vorhandenen Evaluierungshardware von Atmel auch Controller mit AVR32-Architektur betrieben werden. Das schwerwiegende Kontra-Argument, nämlich die proprietäre, Microsoft-abhängige, <em>.NET + Visual Studio Shell</em>-verseuchte Entwicklungsumgebung <strong>Atmel-Studio</strong>, soll hier als Grund genannt werden der zum Ausschluss von AVR32 führte.</p>
<p>Ebenso maßgebend war die Kosten-Nutzen-Rechnung bezüglich Einarbeitungszeit und Zielarchitektur. Dass es sinnvoller ist, die Einarbeitungszeit in die <em>Advanced RISC Machine</em> der Firma <em>ARM Limited</em> zu investieren, lässt sich allein durch den beispiellos hohen Marktanteil ARM-basierter Chips bestätigen. Der Lizenzgeber konkretisiert die Summe aller weltweit produzierten Single-Chips mit ARM-Architektur mittlerweile auf mehr als <yelBg><strong>86</strong> Milliarden</yelBg> (im Jahr 2013 erreichte ARM® die 50 Milliarden Marke).</p>
<blockquote>
<p>Today ARM® technology is in use in 95% of smart phones, 80% of digital cameras, and 35% of all electronic devices. (&hellip;) Over 1100 licenses signed with over 300 companies.<sup id="fnref:fnBillionARM"><a class="footnote-ref" href="#fn:fnBillionARM" rel="footnote">27</a></sup></p>
</blockquote>
<h3 id="warum-cortex-m4"><a name="user-content-warum-cortex-m4" href="#warum-cortex-m4" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Warum Cortex-M4?</h3>
<p>Eine umfangreiche Liste (aller) unter ARM® Holdings lizenzierten Mikroarchitekturen kann u.A. auf <a href="https://en.wikipedia.org/wiki/List_of_ARM_microarchitectures#Designed_by_ARM" title="Umfangreiche Liste von ARM-Mikroarchitekturen">wikipedia</a> eingesehen werden. Es folgt eine unvollständige grafische Aufbereitung um die grundlegende Unterteilung der ARM-Familien in die Makro-Bereiche <em>(Classic, Embedded, Application)</em> sowie die Klassifizierung der Cortex-Familie in die Architektur-Profile <em>(Microcontroller, Real-time, Application)</em><sup id="fnref:fnArmProfiles"><a class="footnote-ref" href="#fn:fnArmProfiles" rel="footnote">29</a></sup> aufzuzeigen: </p>
<p><a href="pics/ArmRoadMap3.svg" target="_blank"><center><img alt="ssss" class="scale75 noborder" src="pics/ArmRoadMap3.png" title="ARM - Devices Roadmap" /></center></a></p>
<p>Zahlreiche Entwicklungsboards und Plattformen für i.d.R. <em>Embedded Linux</em> Anwendungen, erfreuen sich teils großer Beliebtheit (z.B, RaspberryPi Serie). <br />
<center></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Chip-Bezeichnung</th>
<th>Prozessor</th>
<th>Architektur</th>
<th>Profil</th>
<th>Familie</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>RaspberryPi I</td>
<td>BCM2835</td>
<td>ARM1176JZF</td>
<td>ARMv6</td>
<td></td>
<td>ARM11</td>
<td>32-Bit</td>
</tr>
<tr>
<td>RaspberryPi II</td>
<td>BCM2836</td>
<td>Cortex A7</td>
<td>ARMv7-A</td>
<td>Application</td>
<td>Cortex A</td>
<td>32-Bit</td>
</tr>
<tr>
<td>BeagleBoard</td>
<td>OMAP3530</td>
<td>Corttex A8</td>
<td>ARMv7-A</td>
<td>Application</td>
<td>Cortex A</td>
<td>32-Bit</td>
</tr>
<tr>
<td>Grasshopper</td>
<td>AT32AP7000</td>
<td></td>
<td>AVR32 RISC</td>
<td>Application</td>
<td>AVR32 RISC</td>
<td>32-Bit</td>
</tr>
<tr>
<td>(&hellip;)</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p></center>Durch entsprechend implementierte Patches für das Linux Kernel (Realtime Preemption patch, &ndash;PREEMPT_RT)<sup id="fnref:fnLinuxRtPatch"><a class="footnote-ref" href="#fn:fnLinuxRtPatch" rel="footnote">30</a></sup> besteht die Möglichkeit, Embedded Linux Betriebssysteme einzusetzen die den Anforderungen an <em>&ldquo;harte Echtzeit-Fähigkeit&rdquo;</em> genügen. Erforderliche Anpassungen Kernel-interner Verriegelungsmechanismen sowie das Einbinden eines generischen Clock-Event-Layers (höher aufgelöstes Takt-System für den Task-Sheduler), wird vor dem compilieren des Kernels durch den entsprechenden <em>Realtime Preemption patch</em> vorgenommen. <br />
Aber auch bei absolut determiniertem Interrupt-Handling würde die absolute Reaktionszeit (Interrupt latency) für die regelungstechnischen Aufgaben vermutlich nicht ausreichen. Auf jeden Fall geht der Hardware-Bezug, im Sinne hardwarenaher Programmierung, beim Einsatz von RT-Linux-artigen Betriebssystemen weitestgehend verloren. Die Entwicklung eines eigenen Betriebssystems im Bereich <em>Application-Processor</em> ist u.A. wegen der Speicherverwaltung zu komplex und Zeitaufwendig. Alle <strong>Cortex-A</strong> werden an einer Speicherverwaltungshardware (MMU) betrieben.</p>
<p><center></p>
<table class="caption">
    <tr>
        <td align="center">Prozessor mit MMU</td>
        <td align="center">$\Rightarrow$</td>
        <td align="center">Embedded OS notwendig</td>
    </tr>
    <tr>
        <td align="center">Embedded OS gefordert</td>
        <td align="center">$\Rightarrow$</td>
        <td align="center">Prozessor mit MMU notwendig</td>
    </tr>
</table>

<p><em>Zusammenhang zwischen MMU und der Notwendigkeit eines OS.</em> <yelBg class="scale"><strong>NACHWEIS</strong> ???</yelBg><br />
</center></p>
<h4 id="architektur-profil-m-oder-r"><a name="user-content-architektur-profil-m-oder-r" href="#architektur-profil-m-oder-r" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Architektur-Profil M oder R</h4>
<p>Ob als Hardware-Basis das Architektur-Profile <em>Microcontroller (<strong>Cortex-M</strong> Familie)</em> oder <em>Real-time (<strong>Cortex-R</strong> Familie)</em> gewählt werden soll, schien im ersten Moment klar zu sein. Die <strong>Cortex-R</strong>-Familie ist mit modernen Signalprozessoren (DSP) und Fließkomma-Hardware (FPU) ausgestattet und wurde speziell (trotzdem in Milliarden-Stückzahlen produziert) für kritische Echtzeit-Anwendungen entworfen.</p>
<blockquote>
<p>Fast response - optimized for high performance, hard real-time applications<br />
The <strong>ARM® Cortex®-R</strong> real-time processors offer high-performance computing solutions for embedded systems where reliability, high availability, fault tolerance and/or deterministic real-time responses are needed. (&hellip;) The <strong>Cortex-R</strong> series processors provide fast time-to-market through proven technology shipped in billions of products, supported by the vast ARM® ecosystem.<sup id="fnref:fnCortexR"><a class="footnote-ref" href="#fn:fnCortexR" rel="footnote">31</a></sup></p>
</blockquote>
<p>Bedenkt man jedoch, was für Aufgaben sonst noch von derartigen Controllern erledigt werden, (Nano-Positionierung in der Festplattentechnik, kritische Bereiche der Medizintechnik, autonome Quadrocopter, &hellip;), scheint die Notwendigkeit eines <strong>Cortex-R</strong> zur Realisierung des geplanten Projekts nicht mehr unbedingt gegeben zu sein.</p>
<p>Nachfolgend werden hingegen einige wichtige <strong>Pro-Argumente</strong> für den Einsatz eines <strong>Cortex-M</strong> aufgezeigt:</p>
<hr />
<p><strong>Cortex-M ist</strong> ein Industriestandard (siehe Zitat oder <a href="#citeBorm" title="WHZ - ELT130 Digitale Signalprozessoren I - Vorlesung Version 6.0.pdf">[Borm:2016, 1-24]</a> resp. <a href="http://www.embedded-world.eu/fileadmin/pictures/Events_2012/ARM_2012/CfP/CfP_ARM_Entwicklerkonferenz_2012.pdf">ARM_Entwicklerkonferenz_2012.pdf</a>)</p>
<blockquote>
<p>It is safe to say that the <strong>Cortex-M</strong> has become for the 32-bit world what the 8051<br />
is for the 8-bit – <strong>an industry-standard core</strong> supplied by many vendors, each of which dip the core in their own special sauce to provide differentiation in the market.<sup id="fnref:fnWhichCortex"><a class="footnote-ref" href="#fn:fnWhichCortex" rel="footnote">28</a></sup> </p>
</blockquote>
<p>Der von ARM® unter der <em>Apache 2.0 Lizenz</em> (kompatibel zur <em>GNU General Public License 3</em>, jedoch kein <em>Copyleft</em>) veröffentlichte Cortex-Mikrocontroller-Software Schnittstellen-Standard <strong>(CMSIS - Cortex Microcontroller Software Interface Standard)</strong> umfasst bisher nur die <strong>Cortex-M</strong> Familie.</p>
<blockquote>
<p>The <strong>C</strong>ortex <strong>M</strong>icrocontroller Software Interface Standard (CMSIS) is a vendor-independent hardware abstraction layer for the <strong>Cortex®-M</strong> family.<sup id="fnref:fnCMSISARM"><a class="footnote-ref" href="#fn:fnCMSISARM" rel="footnote">32</a></sup></p>
</blockquote>
<p>Mit dem <strong>Cortex-M</strong><a style="color: red; font-weight: bold;">4</a> bekommt die ARMv7-M CPU (neben optionaler FPU) Unterstützung von einem DSP. Dadurch werden wichtige Zusatzfunktionen wie  </p>
<ul>
<li>der <strong>SIMD</strong> (Single-Instruction-Multiple-Access) Befehlssatz (primär für Bild-/Audioverarbeitung) sowie</li>
<li>eine <strong>MAC</strong> (Multiply-Accumulate) Einheit</li>
</ul>
<p>zur Verfügung gestellt. </p>
<h3 id="cmsis-der-cortex-software-schnittstellen-standard"><a name="user-content-cmsis-der-cortex-software-schnittstellen-standard" href="#cmsis-der-cortex-software-schnittstellen-standard" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>CMSIS - Der Cortex-Software Schnittstellen-Standard</h3>
<p>Der ARM® Cortex® Microcontroller Software Interface Standard (CMSIS) ist ein frei verfügbares Software-Paket zur Beschleunigung und Standardisierung des Softwareentwicklungsprozesses auf ARM® Cortex Prozessoren. Ausgehend vom herstellerunabhängigen Hardware-Abstraktionslayer für die Cortex-M-Prozessorserie (<em>CMSIS-CORE</em>), stellt der CMSIS eine generische Treiberschnittstelle (<em>CMSIS-Driver</em>) zur Verfügung. Die &ldquo;Silicon Vendor&rdquo;-spezifischen HAL (<em>Device-HAL</em>) werden vom jeweiligen Lizenznehmer in den Schnittstellen-Standard von ARM eingebettet. Somit ermöglicht der CMSIS, zusammen mit zertifizierten <em>Device-HALs</em>, konsistente und einfache Software-Schnittstellen für herstellerspezifische peripheriegeräte zu entwickeln.</p>
<h3 id="multiply-accumulate-sum-of-products"><a name="user-content-multiply-accumulate-sum-of-products" href="#multiply-accumulate-sum-of-products" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Multiply-Accumulate / Sum-Of-Products</h3>
<p>Die Rechenoperation $y \leftarrow y + \left(a \cdot b\right)$ ist in der digitalen Signalverarbeitung von zentraler Bedeutung. Sie fungiert als Schlüsselkomponente <a href="#citeBorm" title="WHZ - ELT130 Digitale Signalprozessoren I - Vorlesung Version 6.0.pdf">[Borm2:2016, 1-18]</a> für grundlegende Impulsfilter-Algorithmen wie <em>FIR</em> bzw. <em>IIR</em> und wird bei der <em>diskreten Fourier Transformation</em> sowie zur numerischen Berechnung von <em>Faltungsintegralen</em> eingesetzt.</p>
<table>
<thead>
<tr>
<th>Algorithmus</th>
<th>Berechnungsvorschrift</th>
</tr>
</thead>
<tbody>
<tr>
<td>Finite Impulse Response</td>
<td>$$y[n] = \sum_{k=0}^M{a_k \cdot x(n-k)}$$</td>
</tr>
<tr>
<td>Infinite Impulse Response</td>
<td>$$y[n] = \sum_{k=0}^M{a_k \cdot x(n-k)}+\sum_{k=1}^N{b_k \cdot y(n-k)}$$</td>
</tr>
<tr>
<td>Diskrete Faltung</td>
<td>$$y[n] = \sum_{k=0}^M{x(k) \cdot h(n-k)}$$</td>
</tr>
<tr>
<td>Diskrete Fourier Transf.</td>
<td>$$X[k] = \sum_{n=0}^{N-1} { x(n) \cdot \exp^{-i \,\left( 2 \pi/N \right) \, n \cdot k}}$$</td>
</tr>
</tbody>
</table>
<h3 id="texas-instruments-c2000-und-der-cla"><a name="user-content-texas-instruments-c2000-und-der-cla" href="#texas-instruments-c2000-und-der-cla" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Texas Instruments C2000 und der CLA</h3>
<p>(Nachtrag 11/2016)</p>
<p>Die C2000 Familie von TI konzentriert sich u.A. auf eine optimale Unterstützung von Regelalgorithmen und unterstützt Methoden zur effektiven Signalverarbeitung. Der <em>Kern</em> ist in Form eines nativen Signalprozessors eingebettet (CPU = DSP). Somit handelt es sich bei der C2000 Familie nicht um moderne Mikrocontroller (<strong><em>µC</em></strong>) mit DSP als Coprozessor wie z.B. bei den Cortex-M4 basierten STM32F429i, sondern vielmehr um eine neue <a href="#citeSoC" title="Ein System-on-Chip (SoC) ist ein komplettes System auf einem Chip, das verschiedenste Schaltungsteile integriert hat. Ein System-on-Chip ist die Integration von Zentraleinheiten, weiteren Prozessoren, Controllern, Speicherbausteinen, Random Access Memories (RAM) und Read Only Memories (ROM), Power-Management und anderen Komponenten auf einem einzelnen Die-Chip. Die einzelnen Komponenten eines System-on-Chip werden über den internen Bus oder in Punkt-zu-Punkt-Verbindung miteinander verbunden, wobei Bus-Architekturen nur eine gewisse Anzahl an Kommunikationspartnern effizient miteinander verbinden können."><strong>SoC</strong></a>-Klasse welche zutreffend als Klasse der <strong>digitalen Signal Controller</strong> (<strong><em>DSC</em></strong>) bezeichnet wird. Der erweiterte Befehlssatz zielt auf die Abarbeitungsgeschwindigkeit mathematischer Prozessketten und verbessert den <em>&ldquo;Durchsatz&rdquo;</em> in Trigonometrie-Berechnungen sowie bei der Behandlung komplexer Zahlen. Die bereits erwähnte Optimierung hinsichtlich diskreter Regelalgorithmen fällt jedoch primär auf TI&rsquo;s Task-basierten Coprozessor, dem <em>Control Law Accelerator</em> (<strong><em>CLA</em></strong>), zurück. Der CLA führt zuvor initialisierte (Regler-) Algorithmen unabhängig von der Host-CPU aus und unterstützt<br />
Die ADCs und PWMs unterstützen auch viele Timing-Optionen. Die Leistung variiert von Midrange (Piccolo) zu High-End (Dual-Core Delfino). Die großen Anwendungen sind hier Stromrichter, Netzkommunikation, Industrieantriebe und Motorsteuerung</p>
<p>C2000&rsquo;s focus is on supporting control algorithms. The C28x &ldquo;CPU&rdquo; is really a DSP, and its instruction set has been extended to handle things like trigonometry and complex numbers. There&rsquo;s also a separate task-based processor called the Control Law Accelerator (CLA) that can run control algorithms independently of the CPU. The ADCs and PWMs support a lot of timing options, too. Performance varies from midrange (Piccolo) to high-end (dual-core Delfino). The big applications here are power converters, power line communication, industrial drives, and motor control</p>
<!-- http://www.emcu.it/CortexFamily/ArmRoadMap.png -->

<h2 id="software"><a name="user-content-software" href="#software" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Software</h2>
<hr />
<p><a name="diyList"></a> <br />
DIY-Projekt Beispiele:</p>
<ul>
<li>Telefonkarte auslesen/emulieren</li>
<li>programmierbare IR-Fernbedienung</li>
<li>(Vektor-) Grafikbibliotheken für monochrome Pixel-Displays</li>
<li>später <a style="background-color: yellow;">für SD11xx basierte</a> 8-Bit RGB TFTs</li>
<li>später SPI-DMA + Memory-Mapped GLCD-Projekte wie z.B. <ul>
<li>bewegter Bilderrahmen mit FAT SD-Karte (SPI-DMA)</li>
<li>aktive Namensschilder auf Nokia <a style="background-color: yellow;">xxx</a> Farb-Displays</a> </li>
</ul>
</li>
<li>diverse Projekte im Bereich der ISM-Band-Kommunikation wie z.B. <ul>
<li>RFM12(B) @ 433MHz: <ul>
<li>USB Funk-Chat</li>
<li>System: &ldquo;Finde Mutters Autoschlüssel&rdquo;</li>
</ul>
</li>
<li>RFMega128 Wifi link-in </li>
<li>ZigBee</li>
</ul>
</li>
<li>(&hellip;)</li>
</ul>
<hr />
<!-- ## STM32F429 Spezifikationen ##
AN4566
Digital data update rate
The STM32 DAC output data need to be written to the DAC Holding Register (DHR), then
the data is move to the DAC Output Register (DOR) for the conversion.
Generally, the DAC data is saved in a memory (RAM), and the CPU is in charge of the
transferring the data from RAM to DAC.
When using the DMA, the overall performance of the system is increased by freeing up the
core. This is because data is moved from memory to DAC by DMA, without need for any
actions by the CPU. This keeps CPU resources free for other operations.
The trigger of the DAC conversion can be done by the software, external triggers or by the
timers. For the high speed conversion cases, it is recommended to use the timer trigger in
combination with the data transfer done by the DMA.
The transfer speed from memory to the DAC is limited by several factors, among them:
• the clock cycle of the APB (DAC clock);
• the DMA transfer cycle from memory to the DAC (includes the AHB to APB bridge);
• the trigger mechanism itself.
The DAC on STM32F407x microcontrollers is running on the APB1:
• three cycles after the trigger, DHR data is moved to the DOR register;
• at the same time a DMA request is generated from DAC to DMA;
• DMA transfer takes at least one APB clock cycle.
So a total of 4APB clock cycles are needed to update the DAC DOR register data. As APB1
maximum clock is 42 MHz (for ST32F407x), 10.5 Msps is the maximum update rate for the
DAC output register when timer trigger and the DMA are used for the data update.
The minimum transfer clock cycle by DMA to the DAC is not the same for all STM32
microcontrollers, because of the different bus configuration.
The STM32 DAC system AN4566
8/19 DocID026799 Rev 2
Table 2 shows the maximum sampling rate for different STM32 products.
Note: Values reported in Table 2 have been measured on the bench, when bus is not used by any
other system: in real applications it’s necessary to have some margin.
1.5 Summary
By using external high speed OpAmp, it is possible to extend the speed performance of the
STM32 DACs more than 1 Msps.
In Section 2 we will provide an example showing how to use this technique on STM32
products -->

<h1 id="software-und-simulation"><a name="user-content-software-und-simulation" href="#software-und-simulation" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Software und Simulation</h1>
<p>In diesem Abschnitt wird die Umsetzung der einzelnen Software-Komponenten dokumentiert. Außerdem soll die Spice-MATLAB Schnittstelle vorgestellt werden, welche die von LTspice erzeugten, numerischen Simulationsergebnisse der Kleinsignal-Netzwerkanalyse verwendet, um daraus ein lineares, zeitinvariantes System (LTI) zu approximieren. Der Bereich <em>Software und Simulation</em> wird wie folgt untergliedert: </p>
<h2 id="hardwarenahe-programmierung-c"><a name="user-content-hardwarenahe-programmierung-c" href="#hardwarenahe-programmierung-c" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Hardwarenahe Programmierung (<strong>C</strong>)</h2>
<p>In Kapitel <a href="#plattform">Plattform</a> wurde erläutert, <strong><em>warum</em></strong> der Cortex-M4f, speziell der STM32F429i, bei diesem Projekt zum Einsatz kam. Hier soll auf das konkrete <strong><em>wie</em></strong> eingegangen werden. </p>
<h3 id="entwicklungsumgebungen-und-toolchains"><a name="user-content-entwicklungsumgebungen-und-toolchains" href="#entwicklungsumgebungen-und-toolchains" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Entwicklungsumgebungen und Toolchains</h3>
<p>Wie bereits in der Einleitung zu <a href="#plattform">Plattform</a> sowie im Abschnitt <a href="#warum-arm">Warum ARM?</a> angesprochen, wird dem Thema <em>Plattformunabhängigkeit</em> ein hoher Stellenwert zugesprochen. Deshalb soll an dieser Stelle nicht weiter auf die zwar weit verbreitete, hoch integrierte, jedoch für viel Geld (8260 € <a href="https://elmicro.com/de/keilarm.html"><em>MDK-ARM Pro, Stand 02/2017</em></a>) vertriebene Entwicklungsumgebung <em>KEIL µVision MDK</em>, eingegangen werden.</p>
<p>Das von <a href="http://www.ibm.com/developerworks/rational/library/nov05/cernosek/">IBM</a> ins leben gerufene, und mittlerweile von der <em>Eclipse Foundation</em> getragene, quelloffene Software Projekt <strong>Eclipse</strong>, bildet die Grundlage für viele moderne Entwicklungsumgebungen. Ob nun Plugin-basierte Erweiterungen wie z.B. OpenOCD <em>(On-Chip Debugger)</em>, diverse Cross-Compiler <em>(für AVR, ARM, &hellip;)</em> inklusive Board-Support-Packages, oder aber komplette proprietäre IDEs <em>(Vorzeigebeispiel: TI&rsquo;s CodeComposerStudio)</em>: </p>
<p><boxed>Das Eclipse-Basisframework und somit auch der Plugin-Adapter sind für alle Eclipse-basierten IDEs identisch&hellip; Und das, <strong>unabhängig</strong> von der Plattform der Entwicklungsrechner.</boxed> </p>
<p>Die wohl bekanntesten <em>Eclipse-CDT</em> Erweiterungen für ARM-Basierte Controller sind unter der Bezeichnung <a href="http://gnuarmeclipse.github.io/" title="GCC - GNU Compiler Collection - for Eclipse"><em>GNU ARM Eclipse</em></a> bekannt. Die Plugin-Familie kann bequem über das Software-Repositorie nachgerüstet werden. </p>
<h3 id="sw4stm32-toolchainide"><a name="user-content-sw4stm32-toolchainide" href="#sw4stm32-toolchainide" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>SW4STM32 Toolchain/IDE</h3>
<p>Ebenfalls auf Eclipse Basis wurde von ST/AC6 die noch junge, quelloffene Entwicklungsumgebung <strong>SW4STM32</strong> <a href="http://www.st.com/en/ecosystems/stm32-open-development-environment.html" title="System Workbench for STM32">(<em>System workbench for STM32</em>)</a> veröffentlicht welche ST&rsquo;s gesamte 32-Bit Sparte unterstützt. Neben den Standard-Cross-Toolchains integriert SW4STM32, vergleichbar mit dem Konzept von KEIL&rsquo;s MDK Plattform, ein Verwaltungsmodul zur Installation von Board-Support-Packages für ST-Evaluierungsboards. Außerdem wird vom CMSIS-CORE, der CMSIS-DSP Bibliothek und der CMSIS-Driver Schnittstelle Gebrauch gemacht. </p>
<blockquote>
<p>The System Workbench toolchain, called SW4STM32, is a free multi-OS software development environment based on Eclipse, which supports the full range of STM32 microcontrollers and associated boards. (&hellip;) The STM32 Open Development Environment is compatible with a number of IDEs including IAR EWARM, <strong>Keil MDK</strong>, mbed and GCC-based environments.<sup id="fnref:fnStMultiOs"><a class="footnote-ref" href="#fn:fnStMultiOs" rel="footnote">33</a></sup></p>
</blockquote>
<p>Neben den offensichtlichen und teils schon genannten Vorteilen quelloffener Softwareprojekte, soll hier nochmals der Eclipse Plugin-Adapter als wichtigstes Argument für die Wahl der Entwicklungsumgebung genannt werden.  </p>
<h2 id="dokumentation"><a name="user-content-dokumentation" href="#dokumentation" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Dokumentation</h2>
<p>Die Dokumentation zur Anwendungssoftware &ldquo;GalvoScanner v1.4&rdquo; wie auch für die im Projektverlauf entwickelten Bibliotheken <strong>MD_STM32F4_Libraries</strong> wurde mit dem de-facto Standard Dokumentations&shy;werkzeug <em>Doxygen</em> aufbereitet. Das quelloffene, 1997 von <em>Dimitri van Heesch</em> in die &ldquo;Public Domain&rdquo; entlassene Dokumentations&shy;werkzeug zählt m. E. zu den Parade&shy;beispielen im Bereich Open Source und Platt&shy;form&shy;unab&shy;hängigkeit.</p>
<!-- [Link zur index.html der Doxy-Dokumentation](./../embeddedSoftware/20-STM32F4_PRJ_GALVO_v2/doxygen/html/index.html) -->

<p><boxed><a href="embeddedSoftware/doxygen/html/index.html">Link zur  Doxygen Dokumentation</a></boxed></p>
<h2 id="pc-schnittstellenprogramm-c-qt"><a name="user-content-pc-schnittstellenprogramm-c-qt" href="#pc-schnittstellenprogramm-c-qt" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>!PC-Schnittstellenprogramm (<strong>C++ / Qt</strong>)</h2>
<p><yelBg>(&hellip;)</yelBg></p>
<h3 id="live-zustandsuberwachung"><a name="user-content-live-zustandsuberwachung" href="#live-zustandsuberwachung" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>!Live-Zustandsüberwachung</h3>
<p><yelBg>(&hellip;)</yelBg></p>
<h3 id="parameter-manipulation"><a name="user-content-parameter-manipulation" href="#parameter-manipulation" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>!Parameter Manipulation</h3>
<p><yelBg>(&hellip;)</yelBg></p>
<h2 id="schaltungssimulation-und-netzwerkanalyse-ltspice"><a name="user-content-schaltungssimulation-und-netzwerkanalyse-ltspice" href="#schaltungssimulation-und-netzwerkanalyse-ltspice" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>!Schaltungssimulation und Netzwerkanalyse (<strong>LTspice</strong>)</h2>
<p><yelBg>(&hellip;)</yelBg></p>
<h2 id="system-und-reglersimulation-simulink"><a name="user-content-system-und-reglersimulation-simulink" href="#system-und-reglersimulation-simulink" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>!System- und Reglersimulation (<strong>Simulink</strong>)</h2>
<p><yelBg>(&hellip;)</yelBg></p>
<h2 id="schnittstelle-spice-to-simulink-matlab"><a name="user-content-schnittstelle-spice-to-simulink-matlab" href="#schnittstelle-spice-to-simulink-matlab" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>!Schnittstelle Spice-to-Simulink (<strong>MATLAB</strong>)</h2>
<p><yelBg>(&hellip;)</yelBg></p>
<h3 id="ltspice-matlab-freqency-response-estimation"><a name="user-content-ltspice-matlab-freqency-response-estimation" href="#ltspice-matlab-freqency-response-estimation" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>LTspice &lt;-&gt; MATLAB: Freqency response estimation</h3>
<ul>
<li>Antialiasing- und Rekonstruktionsfiltern</li>
<li>dem unterlegten, analogen Stromregler</li>
<li>Endstufe sowie Stellglied</li>
<li>Signalkonditionierung</li>
</ul>
<h2 id="debuggen-in-sw4stm32"><a name="user-content-debuggen-in-sw4stm32" href="#debuggen-in-sw4stm32" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>!Debuggen in sw4stm32</h2>
<p><yelBg>(&hellip;)</yelBg></p>
<!-- # Geschlossene Simulationsumgebung # -->

<!-- ## Umsetzung in MATLAB / Simulink ## -->

<!-- ## "frequency response model estimation" ## -->

<!-- ## copy ltspice conform laplace function of the estimated system  ## -->

<!-- ## Galvo -> Simulink Modelle  ## -->

<!-- ## Endstufe -> LTspice -> MATLAB ## -->

<!-- ## Levelshifter -> LTspice -> MATLAB ## -->

<!-- ## Antialias / Rekonstruktionsfilter -> MATLAB ## -->

<h1 id="quelldaten-generieren"><a name="user-content-quelldaten-generieren" href="#quelldaten-generieren" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Quelldaten generieren</h1>
<p>Die Koordinaten zur Positionierung sowie das Signal zur Dunkel&shy;tastung des Laserstrahls, werden am PC über das SVG-Dateiformat definiert. Im idealfall wird eine &shy; Ausgangsgrafik  und mittels XML-Parser (<a href="#xml-parser"><em>python Skript: svgCoord.py</em></a>) in eine C-Header-Datei exportiert. Der Ablauf zur Erzeugung neuer Quelldaten ist nachfolgend exemplarisch widergegeben:</p>
<table class="noalter" style="width: 100%; border-spacing: 0px; margin: 0; padding: 0px; border: 0px solid white;">
  <tbody> <figure> <figcaption><center><b><em>GNU Kopf</b> als skalierbare Vektorgrafik</em></center></figcaption>
    <tr>
      <td>
        <a href="https://www.gnu.org/graphics/nu-gnu.svg" target="_blank"> <figure style="width: 300px"> <img src="pics/gnu_orig.svg" title="&quot;GNU-Kopf&quot; im SVG Format (www.gnu.org)" class="noborder"/> <figcaption>Grafik im SVG Format (www.gnu.org)</figcaption> </figure> </a>
      </td>
      <td>
        <a href="pics/gnu_bezier.svg" target="_blank"> <figure style="width: 300px"> <img src="pics/gnu_bezier.svg" title="&quot;GNU-Kopf&quot;&#13;Flächen und Gradienten entfernt&#13;Outline besteht aus Bezier-Kurven" class="noborder" /> <figcaption>Flächen und Gradienten entfernt</figcaption> </figure> </a>
      </td>
    </tr>
    <tr>
      <td colspan="2"> <center>
        <a href="pics/gnu_flatten_lowres.svg" target="_blank"><figure style="width: 300px"><img src="pics/gnu_flatten_lowres.svg" title="&quot;GNU-Kopf&quot;&#13;Bezier-Kurven auf lineare Splines reduziert&#13;Inkscape: Extensions => Modify Path => Flatten Bezier..." class="noborder" /><figcaption>Bezier-Kurven auf lineare Splines reduziert</figcaption></a>
      </center> </td>
    </tr>
  </tbody> </figure>
</table>

<table class="noalter noborder" style="display: inline-block;"> 
  <tr> 
    <td colspan="2" style="width: 40%">
      Durch den in Inkscape durch&shy;ge&shy;führten Schritt <em>Bezier-Kurven auf lineare Splines reduzieren</em>, werden alle selektierten Bezier-Kurven durch (mehrere) Geraden interpoliert. Waren z. B. 20 Bezier-Kurven definiert, bleiben im XML-&shy;Baum 20 Pfade mit i. A. unter&shy;schied&shy;lich vielen Pfad&shy;seg&shy;men&shy;ten erhalten.
    </td>
    <td style="width: 20%""> <center><img src="pics/arrowstd_down.svg"/></center> </td>
    <td colspan="2" style="width: 40%"">
      Das python skript svgCoord.py ordnet alle XML-Tags <code>&#60;path ...&#62;</code> entsprechend der Information, ob die Laser&shy;quelle an oder aus sein soll. Pfade mit Farb&shy;attribut <em>Rot</em> werden später mit aktiver Laser&shy;quelle abge&shy;fahren, das Farb&shy;att&shy;ribut <em>Gelb</em> bedeutet ent&shy;sprechend "Laser&shy;quelle deaktivieren"
    </td>
  </tr>
  <tr>
    <td style="width: 20%"> </td>
    <td colspan="3" style="width: 60%"><center><a href="pics/gnu_flatten_lowres_mod.svg" target="_blank"><figure><img src="pics/gnu_flatten_lowres_mod.svg" /><figcaption>GNU Outline, visualisierte Knotenpunkte</figcaption></figure></a></center></td>
    <td style="width: 20%"></td>    
  </tr>
</table>

<p>Gegenüber Rastergrafiken (Pixelgrafik, &ldquo;Punkt-für-Punk&rdquo;) besitzen Vektorgrafiken den großen Vorteil, dass eine Transformation denkbar einfach durchgeführt werden kann. Soll zum Beispiel die letzte Abbildung <em>(Visualisierte Knotenpunkte)</em> skaliert werden, genügt eine triviale Skalarmultiplikation der Abbildungsmatrix mit einem Skalierungsfaktor $\,\lambda\,$. Genau so einfach kann eine Transformation mittels Drehmatrix $\,M_{Rot}\,$ erzeugt werden. </p>
<p>$$ \eqlbl{ M_{Rot}(x)=\begin{pmatrix}cos(x) &amp; -sin(x) \\sin(x) &amp; cos(x) \end{pmatrix}}{eqRotMatrix} $$</p>
<p>Im folgenden C-Listing werden zwei Transformationen der mittels Skript erzeugten Quelldaten (<code>lseg_t gnu[ ]</code>) durchgeführt. Die Ausgangsmatrizen werden jeweils in eine Datei exportiert sodass diese in MATLAB über den <code>load('&lt;pfad&gt;', '-ASCII')</code>-Befehl einfach wieder importiert und Linien-Segmentweise dargestellt werden können.  </p>
<p><details markdown=1><br />
<summary><h4 class="sp"><span class="codehd">gnuTrans.c</span></h4></summary><br />
<div class="codehilite"><pre><span class="cp">#include &lt;stdio.h&gt;</span>
<span class="cp">#include &lt;stdlib.h&gt;</span>
<span class="cp">#include &lt;stdint.h&gt;</span>
<span class="cp">#include &lt;fcntl.h&gt;</span>
<span class="cp">#include &lt;math.h&gt;</span>

<span class="cm">/**</span>
<span class="cm"> * GCC compiler flag</span>
<span class="cm"> */</span>
<span class="cp">#pragma GCC diagnostic ignored &quot;-Wwrite-strings&quot;</span>

<span class="cm">/**</span>
<span class="cm"> * Typedef line segement.</span>
<span class="cm"> * A line segment contains two nodes (x1,y1),(x2,y2) </span>
<span class="cm"> */</span>
<span class="k">typedef</span> <span class="kt">float</span> <span class="kt">lseg_t</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>        

<span class="k">const</span> <span class="kt">lseg_t</span> <span class="n">gnu</span><span class="p">[</span> <span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
    <span class="p">{</span>  <span class="mf">0.1624</span><span class="p">,</span>  <span class="mf">0.0612</span><span class="p">,</span>  <span class="mf">0.1624</span><span class="p">,</span>  <span class="mf">0.0612</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.1624</span><span class="p">,</span>  <span class="mf">0.0612</span><span class="p">,</span>  <span class="mf">0.1689</span><span class="p">,</span>  <span class="mf">0.0649</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.1689</span><span class="p">,</span>  <span class="mf">0.0649</span><span class="p">,</span>  <span class="mf">0.1718</span><span class="p">,</span>  <span class="mf">0.0571</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.1718</span><span class="p">,</span>  <span class="mf">0.0571</span><span class="p">,</span>  <span class="mf">0.1650</span><span class="p">,</span>  <span class="mf">0.0541</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.1650</span><span class="p">,</span>  <span class="mf">0.0541</span><span class="p">,</span>  <span class="mf">0.1624</span><span class="p">,</span>  <span class="mf">0.0612</span> <span class="p">},</span>
    <span class="p">{</span> <span class="o">-</span><span class="mf">0.0150</span><span class="p">,</span>  <span class="mf">0.0578</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0150</span><span class="p">,</span>  <span class="mf">0.0578</span> <span class="p">},</span>
    <span class="p">{</span> <span class="o">-</span><span class="mf">0.0150</span><span class="p">,</span>  <span class="mf">0.0578</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0083</span><span class="p">,</span>  <span class="mf">0.0572</span> <span class="p">},</span>
    <span class="p">{</span> <span class="o">-</span><span class="mf">0.0083</span><span class="p">,</span>  <span class="mf">0.0572</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0100</span><span class="p">,</span>  <span class="mf">0.0498</span> <span class="p">},</span>
    <span class="p">{</span> <span class="o">-</span><span class="mf">0.0100</span><span class="p">,</span>  <span class="mf">0.0498</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0167</span><span class="p">,</span>  <span class="mf">0.0511</span> <span class="p">},</span>
    <span class="p">{</span> <span class="o">-</span><span class="mf">0.0167</span><span class="p">,</span>  <span class="mf">0.0511</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0150</span><span class="p">,</span>  <span class="mf">0.0578</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.0642</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.3263</span><span class="p">,</span>  <span class="mf">0.1553</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.3317</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.1553</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.3317</span><span class="p">,</span>  <span class="mf">0.2345</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.3155</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.0987</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.3861</span><span class="p">,</span>  <span class="mf">0.1005</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.4032</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.0091</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.3907</span><span class="p">,</span>  <span class="mf">0.0077</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.4159</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.1986</span><span class="p">,</span>  <span class="mf">0.0467</span><span class="p">,</span>  <span class="mf">0.1795</span><span class="p">,</span>  <span class="mf">0.0397</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.1795</span><span class="p">,</span>  <span class="mf">0.0397</span><span class="p">,</span>  <span class="mf">0.1570</span><span class="p">,</span>  <span class="mf">0.0418</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.1896</span><span class="p">,</span>  <span class="mf">0.1019</span><span class="p">,</span>  <span class="mf">0.1577</span><span class="p">,</span>  <span class="mf">0.1116</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.1577</span><span class="p">,</span>  <span class="mf">0.1116</span><span class="p">,</span>  <span class="mf">0.1335</span><span class="p">,</span>  <span class="mf">0.1015</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.0184</span><span class="p">,</span>  <span class="mf">0.0952</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0232</span><span class="p">,</span>  <span class="mf">0.1155</span> <span class="p">},</span>
    <span class="p">{</span> <span class="o">-</span><span class="mf">0.0232</span><span class="p">,</span>  <span class="mf">0.1155</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0590</span><span class="p">,</span>  <span class="mf">0.0821</span> <span class="p">},</span>
    <span class="p">{</span> <span class="o">-</span><span class="mf">0.0107</span><span class="p">,</span>  <span class="mf">0.0698</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0107</span><span class="p">,</span>  <span class="mf">0.0698</span> <span class="p">},</span>
    <span class="p">{</span> <span class="o">-</span><span class="mf">0.0107</span><span class="p">,</span>  <span class="mf">0.0698</span><span class="p">,</span>  <span class="mf">0.0086</span><span class="p">,</span>  <span class="mf">0.0573</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.0086</span><span class="p">,</span>  <span class="mf">0.0573</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0084</span><span class="p">,</span>  <span class="mf">0.0380</span> <span class="p">},</span>
    <span class="p">{</span> <span class="o">-</span><span class="mf">0.0084</span><span class="p">,</span>  <span class="mf">0.0380</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0265</span><span class="p">,</span>  <span class="mf">0.0524</span> <span class="p">},</span>
    <span class="p">{</span> <span class="o">-</span><span class="mf">0.0265</span><span class="p">,</span>  <span class="mf">0.0524</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0107</span><span class="p">,</span>  <span class="mf">0.0698</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.0228</span><span class="p">,</span>  <span class="mf">0.0536</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0053</span><span class="p">,</span>  <span class="mf">0.0342</span> <span class="p">},</span>
    <span class="p">{</span> <span class="o">-</span><span class="mf">0.0053</span><span class="p">,</span>  <span class="mf">0.0342</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0542</span><span class="p">,</span>  <span class="mf">0.0478</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.0261</span><span class="p">,</span>  <span class="mf">0.0671</span><span class="p">,</span>  <span class="mf">0.0261</span><span class="p">,</span>  <span class="mf">0.0671</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.0261</span><span class="p">,</span>  <span class="mf">0.0671</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0193</span><span class="p">,</span>  <span class="mf">0.0690</span> <span class="p">},</span>
    <span class="p">{</span> <span class="o">-</span><span class="mf">0.0193</span><span class="p">,</span>  <span class="mf">0.0690</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0653</span><span class="p">,</span>  <span class="mf">0.0487</span> <span class="p">},</span>
    <span class="p">{</span> <span class="o">-</span><span class="mf">0.0653</span><span class="p">,</span>  <span class="mf">0.0487</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0358</span><span class="p">,</span>  <span class="mf">0.0778</span> <span class="p">},</span>
    <span class="p">{</span> <span class="o">-</span><span class="mf">0.0358</span><span class="p">,</span>  <span class="mf">0.0778</span><span class="p">,</span>  <span class="mf">0.0160</span><span class="p">,</span>  <span class="mf">0.0860</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.0160</span><span class="p">,</span>  <span class="mf">0.0860</span><span class="p">,</span>  <span class="mf">0.0261</span><span class="p">,</span>  <span class="mf">0.0671</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.1716</span><span class="p">,</span>  <span class="mf">0.0736</span><span class="p">,</span>  <span class="mf">0.1716</span><span class="p">,</span>  <span class="mf">0.0736</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.1716</span><span class="p">,</span>  <span class="mf">0.0736</span><span class="p">,</span>  <span class="mf">0.1844</span><span class="p">,</span>  <span class="mf">0.0579</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.1844</span><span class="p">,</span>  <span class="mf">0.0579</span><span class="p">,</span>  <span class="mf">0.1678</span><span class="p">,</span>  <span class="mf">0.0433</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.1678</span><span class="p">,</span>  <span class="mf">0.0433</span><span class="p">,</span>  <span class="mf">0.1524</span><span class="p">,</span>  <span class="mf">0.0620</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.1524</span><span class="p">,</span>  <span class="mf">0.0620</span><span class="p">,</span>  <span class="mf">0.1716</span><span class="p">,</span>  <span class="mf">0.0736</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.1408</span><span class="p">,</span>  <span class="mf">0.0763</span><span class="p">,</span>  <span class="mf">0.1408</span><span class="p">,</span>  <span class="mf">0.0763</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.1408</span><span class="p">,</span>  <span class="mf">0.0763</span><span class="p">,</span>  <span class="mf">0.1805</span><span class="p">,</span>  <span class="mf">0.0729</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.1805</span><span class="p">,</span>  <span class="mf">0.0729</span><span class="p">,</span>  <span class="mf">0.2013</span><span class="p">,</span>  <span class="mf">0.0574</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.2013</span><span class="p">,</span>  <span class="mf">0.0574</span><span class="p">,</span>  <span class="mf">0.2066</span><span class="p">,</span>  <span class="mf">0.0700</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.2066</span><span class="p">,</span>  <span class="mf">0.0700</span><span class="p">,</span>  <span class="mf">0.1742</span><span class="p">,</span>  <span class="mf">0.0860</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.1742</span><span class="p">,</span>  <span class="mf">0.0860</span><span class="p">,</span>  <span class="mf">0.1408</span><span class="p">,</span>  <span class="mf">0.0763</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.1969</span><span class="p">,</span>  <span class="mf">0.0942</span><span class="p">,</span>  <span class="mf">0.1969</span><span class="p">,</span>  <span class="mf">0.0797</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.2125</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0169</span><span class="p">,</span>  <span class="mf">0.1969</span><span class="p">,</span>  <span class="mf">0.0274</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.1921</span><span class="p">,</span>  <span class="mf">0.0932</span><span class="p">,</span>  <span class="mf">0.1960</span><span class="p">,</span>  <span class="mf">0.1455</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.1960</span><span class="p">,</span>  <span class="mf">0.1455</span><span class="p">,</span>  <span class="mf">0.1708</span><span class="p">,</span>  <span class="mf">0.1745</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.0610</span><span class="p">,</span>  <span class="mf">0.0826</span><span class="p">,</span>  <span class="mf">0.0257</span><span class="p">,</span>  <span class="mf">0.1532</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.0524</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.4105</span><span class="p">,</span>  <span class="mf">0.0659</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.4554</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.0659</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.4554</span><span class="p">,</span>  <span class="mf">0.1005</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.4030</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.1005</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.4030</span><span class="p">,</span>  <span class="mf">0.1180</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.4504</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.1180</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.4504</span><span class="p">,</span>  <span class="mf">0.1826</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.3773</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.1826</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.3773</span><span class="p">,</span>  <span class="mf">0.2418</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.3053</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.2418</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.3053</span><span class="p">,</span>  <span class="mf">0.2493</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.2417</span> <span class="p">},</span>
    <span class="p">{</span> <span class="o">-</span><span class="mf">0.0411</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1893</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0007</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.2361</span> <span class="p">},</span>
    <span class="p">{</span> <span class="o">-</span><span class="mf">0.0007</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.2361</span><span class="p">,</span>  <span class="mf">0.0503</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.2507</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.0503</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.2507</span><span class="p">,</span>  <span class="mf">0.1389</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.2444</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.1389</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.2444</span><span class="p">,</span>  <span class="mf">0.2211</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.2532</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.2211</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.2532</span><span class="p">,</span>  <span class="mf">0.2443</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.2445</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.2443</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.2445</span><span class="p">,</span>  <span class="mf">0.2617</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.2164</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.2617</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.2164</span><span class="p">,</span>  <span class="mf">0.2595</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1779</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.2595</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1779</span><span class="p">,</span>  <span class="mf">0.2763</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1332</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.2763</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1332</span><span class="p">,</span>  <span class="mf">0.2835</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1003</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.2835</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1003</span><span class="p">,</span>  <span class="mf">0.2714</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0652</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.2714</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0652</span><span class="p">,</span>  <span class="mf">0.2366</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0683</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.2366</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0683</span><span class="p">,</span>  <span class="mf">0.2008</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0335</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.2008</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0335</span><span class="p">,</span>  <span class="mf">0.1321</span><span class="p">,</span>  <span class="mf">0.0860</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.1321</span><span class="p">,</span>  <span class="mf">0.0860</span><span class="p">,</span>  <span class="mf">0.1592</span><span class="p">,</span>  <span class="mf">0.1532</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.0671</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0829</span><span class="p">,</span>  <span class="mf">0.0671</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0829</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.0671</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0829</span><span class="p">,</span>  <span class="mf">0.0671</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1075</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.0671</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1075</span><span class="p">,</span>  <span class="mf">0.0992</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1216</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.0992</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1216</span><span class="p">,</span>  <span class="mf">0.1234</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1336</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.1234</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1336</span><span class="p">,</span>  <span class="mf">0.1095</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0949</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.1095</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0949</span><span class="p">,</span>  <span class="mf">0.0671</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0829</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.0334</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1177</span><span class="p">,</span>  <span class="mf">0.0271</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0816</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.0271</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0816</span><span class="p">,</span>  <span class="mf">0.0383</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0586</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.0383</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0586</span><span class="p">,</span>  <span class="mf">0.0702</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0442</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.0702</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0442</span><span class="p">,</span>  <span class="mf">0.1244</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0597</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.1244</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0597</span><span class="p">,</span>  <span class="mf">0.1562</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1035</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.2120</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0539</span><span class="p">,</span>  <span class="mf">0.2134</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0325</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.2134</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0325</span><span class="p">,</span>  <span class="mf">0.2114</span><span class="p">,</span>  <span class="mf">0.0129</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.2114</span><span class="p">,</span>  <span class="mf">0.0129</span><span class="p">,</span>  <span class="mf">0.2488</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0251</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.2488</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0251</span><span class="p">,</span>  <span class="mf">0.3101</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0456</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.3101</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0456</span><span class="p">,</span>  <span class="mf">0.3576</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0410</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.3576</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0410</span><span class="p">,</span>  <span class="mf">0.3817</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0132</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.3817</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0132</span><span class="p">,</span>  <span class="mf">0.3552</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0100</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.3552</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0100</span><span class="p">,</span>  <span class="mf">0.3367</span><span class="p">,</span>  <span class="mf">0.0103</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.3367</span><span class="p">,</span>  <span class="mf">0.0103</span><span class="p">,</span>  <span class="mf">0.3194</span><span class="p">,</span>  <span class="mf">0.0516</span> <span class="p">},</span>
    <span class="p">{</span> <span class="o">-</span><span class="mf">0.0595</span><span class="p">,</span>  <span class="mf">0.1532</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1117</span><span class="p">,</span>  <span class="mf">0.1319</span> <span class="p">},</span>
    <span class="p">{</span> <span class="o">-</span><span class="mf">0.1117</span><span class="p">,</span>  <span class="mf">0.1319</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1383</span><span class="p">,</span>  <span class="mf">0.0463</span> <span class="p">},</span>
    <span class="p">{</span> <span class="o">-</span><span class="mf">0.1383</span><span class="p">,</span>  <span class="mf">0.0463</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1795</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0538</span> <span class="p">},</span>
    <span class="p">{</span> <span class="o">-</span><span class="mf">0.1795</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0538</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.2925</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1128</span> <span class="p">},</span>
    <span class="p">{</span> <span class="o">-</span><span class="mf">0.2925</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1128</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.3827</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1409</span> <span class="p">},</span>
    <span class="p">{</span> <span class="o">-</span><span class="mf">0.3827</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1409</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.3381</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0809</span> <span class="p">},</span>
    <span class="p">{</span> <span class="o">-</span><span class="mf">0.3381</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0809</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.3055</span><span class="p">,</span>  <span class="mf">0.0051</span> <span class="p">},</span>
    <span class="p">{</span> <span class="o">-</span><span class="mf">0.2460</span><span class="p">,</span>  <span class="mf">0.1262</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.2460</span><span class="p">,</span>  <span class="mf">0.1262</span> <span class="p">},</span>
    <span class="p">{</span> <span class="o">-</span><span class="mf">0.2460</span><span class="p">,</span>  <span class="mf">0.1262</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.2923</span><span class="p">,</span>  <span class="mf">0.0527</span> <span class="p">},</span>
    <span class="p">{</span> <span class="o">-</span><span class="mf">0.2923</span><span class="p">,</span>  <span class="mf">0.0527</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.3052</span><span class="p">,</span>  <span class="mf">0.0062</span> <span class="p">},</span>
    <span class="p">{</span> <span class="o">-</span><span class="mf">0.3052</span><span class="p">,</span>  <span class="mf">0.0062</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.3261</span><span class="p">,</span>  <span class="mf">0.0052</span> <span class="p">},</span>
    <span class="p">{</span> <span class="o">-</span><span class="mf">0.3261</span><span class="p">,</span>  <span class="mf">0.0052</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.4020</span><span class="p">,</span>  <span class="mf">0.0332</span> <span class="p">},</span>
    <span class="p">{</span> <span class="o">-</span><span class="mf">0.4020</span><span class="p">,</span>  <span class="mf">0.0332</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.4473</span><span class="p">,</span>  <span class="mf">0.0732</span> <span class="p">},</span>
    <span class="p">{</span> <span class="o">-</span><span class="mf">0.4473</span><span class="p">,</span>  <span class="mf">0.0732</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.4753</span><span class="p">,</span>  <span class="mf">0.1278</span> <span class="p">},</span>
    <span class="p">{</span> <span class="o">-</span><span class="mf">0.4753</span><span class="p">,</span>  <span class="mf">0.1278</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.4949</span><span class="p">,</span>  <span class="mf">0.2384</span> <span class="p">},</span>
    <span class="p">{</span> <span class="o">-</span><span class="mf">0.4949</span><span class="p">,</span>  <span class="mf">0.2384</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.4402</span><span class="p">,</span>  <span class="mf">0.3583</span> <span class="p">},</span>
    <span class="p">{</span> <span class="o">-</span><span class="mf">0.4402</span><span class="p">,</span>  <span class="mf">0.3583</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.3784</span><span class="p">,</span>  <span class="mf">0.4158</span> <span class="p">},</span>
    <span class="p">{</span> <span class="o">-</span><span class="mf">0.3784</span><span class="p">,</span>  <span class="mf">0.4158</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.3014</span><span class="p">,</span>  <span class="mf">0.4493</span> <span class="p">},</span>
    <span class="p">{</span> <span class="o">-</span><span class="mf">0.3014</span><span class="p">,</span>  <span class="mf">0.4493</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1912</span><span class="p">,</span>  <span class="mf">0.4383</span> <span class="p">},</span>
    <span class="p">{</span> <span class="o">-</span><span class="mf">0.1912</span><span class="p">,</span>  <span class="mf">0.4383</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1287</span><span class="p">,</span>  <span class="mf">0.4095</span> <span class="p">},</span>
    <span class="p">{</span> <span class="o">-</span><span class="mf">0.1287</span><span class="p">,</span>  <span class="mf">0.4095</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0788</span><span class="p">,</span>  <span class="mf">0.4125</span> <span class="p">},</span>
    <span class="p">{</span> <span class="o">-</span><span class="mf">0.0788</span><span class="p">,</span>  <span class="mf">0.4125</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1214</span><span class="p">,</span>  <span class="mf">0.3777</span> <span class="p">},</span>
    <span class="p">{</span> <span class="o">-</span><span class="mf">0.1214</span><span class="p">,</span>  <span class="mf">0.3777</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.2685</span><span class="p">,</span>  <span class="mf">0.3758</span> <span class="p">},</span>
    <span class="p">{</span> <span class="o">-</span><span class="mf">0.2685</span><span class="p">,</span>  <span class="mf">0.3758</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.3203</span><span class="p">,</span>  <span class="mf">0.3546</span> <span class="p">},</span>
    <span class="p">{</span> <span class="o">-</span><span class="mf">0.3203</span><span class="p">,</span>  <span class="mf">0.3546</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.3548</span><span class="p">,</span>  <span class="mf">0.3078</span> <span class="p">},</span>
    <span class="p">{</span> <span class="o">-</span><span class="mf">0.3548</span><span class="p">,</span>  <span class="mf">0.3078</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.3788</span><span class="p">,</span>  <span class="mf">0.2210</span> <span class="p">},</span>
    <span class="p">{</span> <span class="o">-</span><span class="mf">0.3788</span><span class="p">,</span>  <span class="mf">0.2210</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.3654</span><span class="p">,</span>  <span class="mf">0.1748</span> <span class="p">},</span>
    <span class="p">{</span> <span class="o">-</span><span class="mf">0.3654</span><span class="p">,</span>  <span class="mf">0.1748</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.3269</span><span class="p">,</span>  <span class="mf">0.1495</span> <span class="p">},</span>
    <span class="p">{</span> <span class="o">-</span><span class="mf">0.3269</span><span class="p">,</span>  <span class="mf">0.1495</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.2696</span><span class="p">,</span>  <span class="mf">0.1763</span> <span class="p">},</span>
    <span class="p">{</span> <span class="o">-</span><span class="mf">0.2696</span><span class="p">,</span>  <span class="mf">0.1763</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.2114</span><span class="p">,</span>  <span class="mf">0.2344</span> <span class="p">},</span>
    <span class="p">{</span> <span class="o">-</span><span class="mf">0.2114</span><span class="p">,</span>  <span class="mf">0.2344</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1498</span><span class="p">,</span>  <span class="mf">0.2936</span> <span class="p">},</span>
    <span class="p">{</span> <span class="o">-</span><span class="mf">0.1498</span><span class="p">,</span>  <span class="mf">0.2936</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0827</span><span class="p">,</span>  <span class="mf">0.3235</span> <span class="p">},</span>
    <span class="p">{</span> <span class="o">-</span><span class="mf">0.0827</span><span class="p">,</span>  <span class="mf">0.3235</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0219</span><span class="p">,</span>  <span class="mf">0.3016</span> <span class="p">},</span>
    <span class="p">{</span> <span class="o">-</span><span class="mf">0.0219</span><span class="p">,</span>  <span class="mf">0.3016</span><span class="p">,</span>  <span class="mf">0.0306</span><span class="p">,</span>  <span class="mf">0.2798</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.0306</span><span class="p">,</span>  <span class="mf">0.2798</span><span class="p">,</span>  <span class="mf">0.0693</span><span class="p">,</span>  <span class="mf">0.2993</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.0693</span><span class="p">,</span>  <span class="mf">0.2993</span><span class="p">,</span>  <span class="mf">0.1263</span><span class="p">,</span>  <span class="mf">0.3177</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.1263</span><span class="p">,</span>  <span class="mf">0.3177</span><span class="p">,</span>  <span class="mf">0.1859</span><span class="p">,</span>  <span class="mf">0.2973</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.1859</span><span class="p">,</span>  <span class="mf">0.2973</span><span class="p">,</span>  <span class="mf">0.2308</span><span class="p">,</span>  <span class="mf">0.2461</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.2308</span><span class="p">,</span>  <span class="mf">0.2461</span><span class="p">,</span>  <span class="mf">0.2797</span><span class="p">,</span>  <span class="mf">0.1870</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.2797</span><span class="p">,</span>  <span class="mf">0.1870</span><span class="p">,</span>  <span class="mf">0.3372</span><span class="p">,</span>  <span class="mf">0.1610</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.3372</span><span class="p">,</span>  <span class="mf">0.1610</span><span class="p">,</span>  <span class="mf">0.3640</span><span class="p">,</span>  <span class="mf">0.1728</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.3640</span><span class="p">,</span>  <span class="mf">0.1728</span><span class="p">,</span>  <span class="mf">0.3895</span><span class="p">,</span>  <span class="mf">0.2229</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.3895</span><span class="p">,</span>  <span class="mf">0.2229</span><span class="p">,</span>  <span class="mf">0.3781</span><span class="p">,</span>  <span class="mf">0.3027</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.3781</span><span class="p">,</span>  <span class="mf">0.3027</span><span class="p">,</span>  <span class="mf">0.3450</span><span class="p">,</span>  <span class="mf">0.3564</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.3450</span><span class="p">,</span>  <span class="mf">0.3564</span><span class="p">,</span>  <span class="mf">0.2134</span><span class="p">,</span>  <span class="mf">0.3777</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.2134</span><span class="p">,</span>  <span class="mf">0.3777</span><span class="p">,</span>  <span class="mf">0.1904</span><span class="p">,</span>  <span class="mf">0.3980</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.1904</span><span class="p">,</span>  <span class="mf">0.3980</span><span class="p">,</span>  <span class="mf">0.1863</span><span class="p">,</span>  <span class="mf">0.4125</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.1863</span><span class="p">,</span>  <span class="mf">0.4125</span><span class="p">,</span>  <span class="mf">0.2327</span><span class="p">,</span>  <span class="mf">0.4087</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.2327</span><span class="p">,</span>  <span class="mf">0.4087</span><span class="p">,</span>  <span class="mf">0.3488</span><span class="p">,</span>  <span class="mf">0.4474</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.3488</span><span class="p">,</span>  <span class="mf">0.4474</span><span class="p">,</span>  <span class="mf">0.4250</span><span class="p">,</span>  <span class="mf">0.4280</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.4250</span><span class="p">,</span>  <span class="mf">0.4280</span><span class="p">,</span>  <span class="mf">0.4765</span><span class="p">,</span>  <span class="mf">0.3738</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.4765</span><span class="p">,</span>  <span class="mf">0.3738</span><span class="p">,</span>  <span class="mf">0.5000</span><span class="p">,</span>  <span class="mf">0.2964</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.5000</span><span class="p">,</span>  <span class="mf">0.2964</span><span class="p">,</span>  <span class="mf">0.4959</span><span class="p">,</span>  <span class="mf">0.1842</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.4959</span><span class="p">,</span>  <span class="mf">0.1842</span><span class="p">,</span>  <span class="mf">0.4512</span><span class="p">,</span>  <span class="mf">0.0988</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.4512</span><span class="p">,</span>  <span class="mf">0.0988</span><span class="p">,</span>  <span class="mf">0.3926</span><span class="p">,</span>  <span class="mf">0.0601</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.3926</span><span class="p">,</span>  <span class="mf">0.0601</span><span class="p">,</span>  <span class="mf">0.3198</span><span class="p">,</span>  <span class="mf">0.0507</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.3198</span><span class="p">,</span>  <span class="mf">0.0507</span><span class="p">,</span>  <span class="mf">0.2540</span><span class="p">,</span>  <span class="mf">0.1532</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.2540</span><span class="p">,</span>  <span class="mf">0.1532</span><span class="p">,</span>  <span class="mf">0.1880</span><span class="p">,</span>  <span class="mf">0.1963</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.1880</span><span class="p">,</span>  <span class="mf">0.1963</span><span class="p">,</span>  <span class="mf">0.1089</span><span class="p">,</span>  <span class="mf">0.1900</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.1089</span><span class="p">,</span>  <span class="mf">0.1900</span><span class="p">,</span>  <span class="mf">0.0334</span><span class="p">,</span>  <span class="mf">0.2074</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.0334</span><span class="p">,</span>  <span class="mf">0.2074</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0469</span><span class="p">,</span>  <span class="mf">0.1881</span> <span class="p">},</span>
    <span class="p">{</span> <span class="o">-</span><span class="mf">0.0469</span><span class="p">,</span>  <span class="mf">0.1881</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1138</span><span class="p">,</span>  <span class="mf">0.2013</span> <span class="p">},</span>
    <span class="p">{</span> <span class="o">-</span><span class="mf">0.1138</span><span class="p">,</span>  <span class="mf">0.2013</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.2460</span><span class="p">,</span>  <span class="mf">0.1262</span> <span class="p">},</span>
    <span class="p">{</span> <span class="o">-</span><span class="mf">0.1862</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1825</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1190</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.3383</span> <span class="p">},</span>
    <span class="p">{</span> <span class="o">-</span><span class="mf">0.1190</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.3383</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0598</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.4160</span> <span class="p">},</span>
    <span class="p">{</span> <span class="o">-</span><span class="mf">0.0598</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.4160</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0129</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.4497</span> <span class="p">},</span>
    <span class="p">{</span> <span class="o">-</span><span class="mf">0.0129</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.4497</span><span class="p">,</span>  <span class="mf">0.0076</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.4164</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.0076</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.4164</span><span class="p">,</span>  <span class="mf">0.0262</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.4490</span> <span class="p">},</span>
    <span class="p">{</span>  <span class="mf">0.0262</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.4490</span><span class="p">,</span>  <span class="mf">0.0570</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.3895</span> <span class="p">}</span>
<span class="p">};</span>


<span class="k">const</span> <span class="kt">lseg_t</span> <span class="o">*</span><span class="n">pGnu</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">gnu</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="kt">lseg_t</span> <span class="o">*</span><span class="n">pGnuTrans</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * @brief      Export matrix to MATLAB resource, M=load(&#39;gnu.mat&#39;, &#39;-ASCII&#39;)</span>
<span class="cm"> * @param      pI         Pointer to input matrix.</span>
<span class="cm"> * @param[in]  nRows      Row count of input matrix.</span>
<span class="cm"> * @param      filePath   The file path to MATLAB resource.</span>
<span class="cm"> */</span>
<span class="kt">int</span> <span class="nf">matrixExport</span><span class="p">(</span><span class="k">const</span> <span class="kt">lseg_t</span> <span class="o">*</span><span class="n">pI</span><span class="p">,</span> <span class="kt">uint16_t</span> <span class="n">nRows</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">filePath</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">FILE</span> <span class="o">*</span><span class="n">fd</span> <span class="o">=</span> <span class="n">fopen</span><span class="p">(</span><span class="n">filePath</span><span class="p">,</span> <span class="s">&quot;w&quot;</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">fd</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Error opening file!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">for</span> <span class="p">(</span><span class="kt">uint16_t</span> <span class="n">line</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">line</span> <span class="o">&lt;</span> <span class="n">nRows</span><span class="p">;</span> <span class="n">line</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">fprintf</span><span class="p">(</span><span class="n">fd</span><span class="p">,</span> <span class="s">&quot;% 6.4f</span><span class="se">\t</span><span class="s">% 6.4f</span><span class="se">\t</span><span class="s">% 6.4f</span><span class="se">\t</span><span class="s">% 6.4f</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
                <span class="p">(</span><span class="o">*</span><span class="n">pI</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span> <span class="p">(</span><span class="o">*</span><span class="n">pI</span><span class="p">)[</span><span class="mi">1</span><span class="p">],</span> <span class="p">(</span><span class="o">*</span><span class="n">pI</span><span class="p">)[</span><span class="mi">2</span><span class="p">],</span> <span class="p">(</span><span class="o">*</span><span class="n">pI</span><span class="p">)[</span><span class="mi">3</span><span class="p">]);</span>
        <span class="n">pI</span><span class="o">++</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="n">fclose</span><span class="p">(</span><span class="n">fd</span><span class="p">);</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>


<span class="cm">/**</span>
<span class="cm"> * @brief      Rotate a given [N][4] matrix by angle radians.</span>
<span class="cm"> * @param      pI      Pointer to input matrix.</span>
<span class="cm"> * @param      pO      Pointer to rotated matrix</span>
<span class="cm"> * @param[in]  nRows   Row count of input matrix.</span>
<span class="cm"> * @param[in]  angle   Rotation angle [rad].</span>
<span class="cm"> * @param[in]  scale   Optional argument</span>
<span class="cm"> */</span>
<span class="kt">int</span> <span class="nf">matrixTransform</span><span class="p">(</span><span class="k">const</span> <span class="kt">lseg_t</span> <span class="o">*</span><span class="n">pI</span><span class="p">,</span> <span class="kt">lseg_t</span> <span class="o">*</span><span class="n">pO</span><span class="p">,</span> <span class="kt">uint16_t</span> <span class="n">nRows</span><span class="p">,</span> <span class="kt">double</span> <span class="n">angle</span><span class="p">,</span> <span class="kt">double</span> <span class="n">scale</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
    <span class="cm">/**</span>
<span class="cm">     *   </span>
<span class="cm">     *  &gt;&gt; rotM(x)</span>
<span class="cm">     *  [ cos(x), -sin(x)]</span>
<span class="cm">     *  [ sin(x),  cos(x)]</span>
<span class="cm">     * </span>
<span class="cm">     *  &gt;&gt; M</span>
<span class="cm">     *  [ a0, a1, a2, a3]</span>
<span class="cm">     *  [ b0, b1, b2, b3]</span>
<span class="cm">     *  [ c0, c1, c2, c3]</span>
<span class="cm">     * </span>
<span class="cm">     *  &gt;&gt; M(:,1:2)*rotM(x)</span>
<span class="cm">     *  [ a0*cos(x) + a1*sin(x), a1*cos(x) - a0*sin(x)]</span>
<span class="cm">     *  [ b0*cos(x) + b1*sin(x), b1*cos(x) - b0*sin(x)]</span>
<span class="cm">     *  [ c0*cos(x) + c1*sin(x), c1*cos(x) - c0*sin(x)]</span>
<span class="cm">     * </span>
<span class="cm">     *  &gt;&gt; M(:,3:4)*rotM(x)</span>
<span class="cm">     *  [ a2*cos(x) + a3*sin(x), a3*cos(x) - a2*sin(x)]</span>
<span class="cm">     *  [ b2*cos(x) + b3*sin(x), b3*cos(x) - b2*sin(x)]</span>
<span class="cm">     *  [ c2*cos(x) + c3*sin(x), c3*cos(x) - c2*sin(x)]</span>
<span class="cm">     * </span>
<span class="cm">     */</span>

    <span class="k">for</span> <span class="p">(</span><span class="kt">uint16_t</span> <span class="n">line</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">line</span> <span class="o">&lt;</span> <span class="n">nRows</span><span class="p">;</span> <span class="n">line</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">scale</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="cm">/* Scale start node (x_start, y_start) */</span>
            <span class="p">(</span><span class="o">*</span><span class="n">pO</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="o">*</span><span class="n">pI</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">scale</span><span class="p">;</span>
            <span class="p">(</span><span class="o">*</span><span class="n">pO</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="o">*</span><span class="n">pI</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">scale</span><span class="p">;</span>

            <span class="cm">/* Scale end node (x_end, y_end) */</span>
            <span class="p">(</span><span class="o">*</span><span class="n">pO</span><span class="p">)[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="o">*</span><span class="n">pI</span><span class="p">)[</span><span class="mi">2</span><span class="p">]</span><span class="o">*</span><span class="n">scale</span><span class="p">;</span>
            <span class="p">(</span><span class="o">*</span><span class="n">pO</span><span class="p">)[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="o">*</span><span class="n">pI</span><span class="p">)[</span><span class="mi">3</span><span class="p">]</span><span class="o">*</span><span class="n">scale</span><span class="p">;</span>

            <span class="k">if</span> <span class="p">(</span><span class="o">!</span> <span class="n">line</span><span class="p">)</span> <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Scale by %f</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">scale</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span> 
            <span class="cm">/* Transform start node (x_start, y_start) */</span>
            <span class="p">(</span><span class="o">*</span><span class="n">pO</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="o">*</span><span class="n">pI</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">cos</span><span class="p">(</span><span class="n">angle</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="o">*</span><span class="n">pI</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">angle</span><span class="p">);</span>
            <span class="p">(</span><span class="o">*</span><span class="n">pO</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="o">*</span><span class="n">pI</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">cos</span><span class="p">(</span><span class="n">angle</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="o">*</span><span class="n">pI</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">angle</span><span class="p">);</span>

            <span class="cm">/* Transform end node (x_end, y_end) */</span>
            <span class="p">(</span><span class="o">*</span><span class="n">pO</span><span class="p">)[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="o">*</span><span class="n">pI</span><span class="p">)[</span><span class="mi">2</span><span class="p">]</span><span class="o">*</span><span class="n">cos</span><span class="p">(</span><span class="n">angle</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="o">*</span><span class="n">pI</span><span class="p">)[</span><span class="mi">3</span><span class="p">]</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">angle</span><span class="p">);</span>
            <span class="p">(</span><span class="o">*</span><span class="n">pO</span><span class="p">)[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="o">*</span><span class="n">pI</span><span class="p">)[</span><span class="mi">3</span><span class="p">]</span><span class="o">*</span><span class="n">cos</span><span class="p">(</span><span class="n">angle</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="o">*</span><span class="n">pI</span><span class="p">)[</span><span class="mi">2</span><span class="p">]</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">angle</span><span class="p">);</span>

            <span class="k">if</span> <span class="p">(</span><span class="o">!</span> <span class="n">line</span><span class="p">)</span> <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Rotate by %f</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">angle</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="n">pI</span><span class="o">++</span><span class="p">;</span> 
        <span class="n">pO</span><span class="o">++</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="cm">/**</span>
<span class="cm"> * @brief      Main function.</span>
<span class="cm"> */</span>
<span class="kt">int</span> <span class="nf">main</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
    <span class="cm">/* Calculate number of rows, i.e. number of line segments. */</span>
    <span class="kt">int</span> <span class="n">nRows</span> <span class="o">=</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">gnu</span><span class="p">)</span><span class="o">/</span><span class="k">sizeof</span><span class="p">(</span><span class="n">gnu</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>

    <span class="cm">/* maclloc clean memory portion for output matrix. */</span>
    <span class="n">pGnuTrans</span> <span class="o">=</span> <span class="p">(</span><span class="kt">lseg_t</span> <span class="o">*</span><span class="p">)</span> <span class="n">calloc</span><span class="p">(</span><span class="n">nRows</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">lseg_t</span><span class="p">));</span>

    <span class="cm">/* Export unmodified matrix as MATLAB resource */</span>
    <span class="n">matrixExport</span><span class="p">(</span><span class="n">pGnu</span><span class="p">,</span> <span class="n">nRows</span><span class="p">,</span> <span class="s">&quot;gnu.mat&quot;</span><span class="p">);</span>

    <span class="cm">/* Rotate matrix by 45° and export. */</span>
    <span class="n">matrixTransform</span><span class="p">(</span><span class="n">pGnu</span><span class="p">,</span> <span class="n">pGnuTrans</span><span class="p">,</span> <span class="n">nRows</span><span class="p">,</span> <span class="n">M_PI</span><span class="o">/</span><span class="mi">4</span><span class="p">);</span>
    <span class="n">matrixExport</span><span class="p">(</span><span class="n">pGnuTrans</span><span class="p">,</span> <span class="n">nRows</span><span class="p">,</span> <span class="s">&quot;gnuRot.mat&quot;</span><span class="p">);</span>

    <span class="cm">/* Scale matrix to 75% and export. */</span>
    <span class="n">matrixTransform</span><span class="p">(</span><span class="n">pGnu</span><span class="p">,</span> <span class="n">pGnuTrans</span><span class="p">,</span> <span class="n">nRows</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">.75</span><span class="p">);</span>
    <span class="n">matrixExport</span><span class="p">(</span><span class="n">pGnuTrans</span><span class="p">,</span> <span class="n">nRows</span><span class="p">,</span> <span class="s">&quot;gnuScal.mat&quot;</span><span class="p">);</span>

    <span class="n">free</span><span class="p">(</span><span class="n">pGnuTrans</span><span class="p">);</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</p>
<p></details></p>
<p>Folgende MATLAB Befehle sind notwendig um die erzeugten <code>*.mat</code>-Dateien zu importieren und mittels <code>line([x1, x2], [y1, y2])</code> grafisch darzustellen:</p>
<div class="codehilite"><pre><span class="c">%% Import gnu*.mat files and plot all line segments</span>
<span class="n">paths</span><span class="p">={</span><span class="c">...</span>
    <span class="s">&#39;res/gnuNorm.mat&#39;</span><span class="p">,</span><span class="c">...</span>
    <span class="s">&#39;res/gnuScal.mat&#39;</span><span class="p">,</span><span class="c">...</span>
    <span class="s">&#39;res/gnuRot.mat&#39;</span><span class="p">};</span>

<span class="n">delete</span><span class="p">(</span><span class="n">findall</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="s">&#39;type&#39;</span><span class="p">,</span><span class="s">&#39;line&#39;</span><span class="p">));</span> 

<span class="k">for</span> <span class="n">k</span><span class="p">=</span><span class="mi">1</span><span class="p">:</span><span class="nb">length</span><span class="p">(</span><span class="n">paths</span><span class="p">)</span>
    <span class="n">m</span> <span class="p">=</span> <span class="n">load</span><span class="p">(</span><span class="n">paths</span><span class="p">{</span><span class="n">k</span><span class="p">},</span> <span class="s">&#39;-ASCII&#39;</span><span class="p">);</span>
    <span class="n">figure</span><span class="p">(</span><span class="n">k</span><span class="p">);</span>
    <span class="c">% Prototyp line(): </span>
    <span class="c">%   line([x1, x2], [y1, y2],...) NOT: </span>
    <span class="c">%   line([x1, y1], [x2, y2],...)</span>
    <span class="n">line</span><span class="p">(</span><span class="n">m</span><span class="p">(:,[</span><span class="mi">1</span> <span class="mi">3</span><span class="p">])</span><span class="o">&#39;</span><span class="p">,</span><span class="n">m</span><span class="p">(:,</span> <span class="p">[</span><span class="mi">2</span> <span class="mi">4</span><span class="p">])</span><span class="o">&#39;</span><span class="p">,</span><span class="s">&#39;color&#39;</span><span class="p">,</span><span class="s">&#39;green&#39;</span><span class="p">);</span> 

    <span class="n">set</span><span class="p">(</span><span class="n">gca</span><span class="p">,</span><span class="s">&#39;DataAspectRatio&#39;</span><span class="p">,[</span><span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span><span class="p">],</span><span class="c">...</span>
        <span class="s">&#39;XLim&#39;</span><span class="p">,</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span> <span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="p">.</span><span class="mi">6</span><span class="p">,</span> <span class="s">&#39;YLim&#39;</span><span class="p">,</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span> <span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="p">.</span><span class="mi">6</span><span class="p">,</span><span class="c">...</span>
        <span class="s">&#39;GridAlpha&#39;</span><span class="p">,.</span><span class="mi">2</span><span class="p">);</span>

    <span class="n">tmp</span> <span class="p">=</span> <span class="n">strsplit</span><span class="p">(</span><span class="n">paths</span><span class="p">{</span><span class="n">k</span><span class="p">},</span> <span class="s">&#39;/&#39;</span><span class="p">);</span>
    <span class="n">title</span><span class="p">(</span><span class="n">tmp</span><span class="p">{</span><span class="k">end</span><span class="p">})</span>
<span class="k">end</span>
</pre></div>


<p><center><figure><figcaption><em>In <b>MATLAB</b> visualisierte Matritzen</em></figcaption><a href="pics/matPlots/gnuNormw.svg" target="_blank"><figure class="box"><img src="pics/matPlots/gnuNorm.svg" title="Normierte &quot;GNU-Kopf&quot;-Matrix" class="noborder" /><figcaption>Normierte &ldquo;GNU-Kopf&rdquo;-Matrix</figcaption></figure></a><br />
<a href="pics/matPlots/gnuScalw.svg" target="_blank"><figure class="box"><img src="pics/matPlots/gnuScal.svg" title="Auf 75% skalierte &quot;GNU-Kopf&quot;-Matrix" class="noborder" /><figcaption>Auf 75% skalierte &ldquo;GNU-Kopf&rdquo;-Matrix</figcaption></figure></a><br />
<a href="pics/matPlots/gnuRotw.svg" target="_blank"><figure class="box"><img src="pics/matPlots/gnuRot.svg" title="Um Pi/4 rad gedrehte &quot;GNU-Kopf&quot;-Matrix" class="noborder" /><figcaption>Um $\,\pi/4\,$ rad gedrehte &ldquo;GNU-Kopf&rdquo;-Matrix</figcaption></figure></a></figure></center></p>
<h2 id="python-skript"><a name="user-content-python-skript" href="#python-skript" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Python Skript</h2>
<p><details markdown=1><br />
<summary><h4 class="sp"><span class="codehd">svgCoord.py</span></h4></summary><br />
<div class="codehilite"><pre><span class="sb">``</span><span class="err">`</span><span class="n">c</span>
<span class="c1">#!/usr/bin/python</span>
<span class="c1">########################################</span>
<span class="c1"># File: svgCoord.py</span>
<span class="c1">########################################</span>
<span class="c1">#</span>
<span class="c1"># Author:   Manuel Del Basso (mainster)</span>
<span class="c1"># Email:    manuel.delbasso&lt;ta&gt;gmail.com</span>
<span class="c1"># Date: 11/2016</span>
<span class="c1">#</span>
<span class="c1"># This file is a part of project &quot;XY-GalvoScanner&quot; and is used to extract</span>
<span class="c1"># node coordinates from vector graphics xml description.</span>
<span class="c1">#</span>
<span class="c1"># Output formats:</span>
<span class="c1">#       (x0, y0, beam0),    # Node 0 X- Y coordinates, beam interrupter state</span>
<span class="c1">#       (x1, y1, beam1),    # Node 1 X- Y coordinates, beam interrupter state</span>
<span class="c1">#       ....</span>
<span class="c1">#</span>
<span class="c1"># PlaceNodeMarker:</span>
<span class="c1"># ----------------</span>
<span class="c1"># This script also provides simple node manipulation functionality.</span>
<span class="c1"># To visualize the presents of all nodes on multiple paths, a node marker</span>
<span class="c1"># shape (red dot or something) will be placed to coordinates of all nodes.</span>
<span class="c1">#</span>
<span class="c1">########################################</span>
<span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">print_function</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">getopt</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">svg.path</span> <span class="kn">import</span> <span class="n">parse_path</span>
<span class="kn">from</span> <span class="nn">xml.dom</span> <span class="kn">import</span> <span class="n">minidom</span>
<span class="kn">from</span> <span class="nn">lxml</span> <span class="kn">import</span> <span class="n">etree</span>
<span class="kn">from</span> <span class="nn">mdLibs</span> <span class="kn">import</span> <span class="n">mdosd</span> <span class="k">as</span> <span class="n">osd</span>
<span class="kn">from</span> <span class="nn">abc</span> <span class="kn">import</span> <span class="n">abstractmethod</span>
<span class="kn">from</span> <span class="nn">pprint</span> <span class="kn">import</span> <span class="n">pprint</span>

<span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">version_info</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s">&#39;/home/mainster/CODES_local/pythons/swampy-2.1.7/swampy/&#39;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s">&#39;/home/mainster/CODES_local/pythons/swampy-2.1.5/&#39;</span><span class="p">)</span>

<span class="kn">from</span> <span class="nn">Lumpy</span> <span class="kn">import</span> <span class="n">Lumpy</span>
<span class="n">lumpy</span> <span class="o">=</span> <span class="n">Lumpy</span><span class="p">()</span>
<span class="n">lumpy</span><span class="o">.</span><span class="n">make_reference</span><span class="p">()</span>

<span class="c1"># from shutil import copyfile</span>
<span class="c1"># from collections import namedtuple</span>
<span class="c1"># from numpy.lib.recfunctions import append_fields</span>
<span class="c1"># from subprocess import call</span>


<span class="c1"># Aliases</span>
<span class="n">dim</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">shape</span>

<span class="c1"># ---------------------------------------------------------------</span>
<span class="c1"># Template string of circle node marker shape</span>
<span class="c1">#</span>
<span class="n">circleTempStr</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;&lt;circle&#39;</span><span class="p">,</span>
<span class="s">&#39;</span><span class="se">\t</span><span class="s">style=&quot;opacity:&lt;OPACITY&gt;;fill:&lt;FILL_COLOR&gt;;fill-opacity:1;&#39;</span>
<span class="s">&#39;fill-rule:nonzero;stroke:none;stroke-width:1;stroke-linecap:&#39;</span>
<span class="s">&#39;round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dasho&#39;</span>
<span class="s">&#39;ffset:0;stroke-opacity:1&quot;&#39;</span><span class="p">,</span>
<span class="s">&#39;</span><span class="se">\t</span><span class="s">id=&quot;nodeMarker_&lt;UID&gt;&quot;&#39;</span><span class="p">,</span>
<span class="s">&#39;</span><span class="se">\t</span><span class="s">cx=&quot;&lt;CX&gt;&quot;&#39;</span><span class="p">,</span>
<span class="s">&#39;</span><span class="se">\t</span><span class="s">cy=&quot;&lt;CY&gt;&quot;&#39;</span><span class="p">,</span>
<span class="s">&#39;</span><span class="se">\t</span><span class="s">r=&quot;&lt;R&gt;&quot; /&gt;&#39;</span><span class="p">]</span>

<span class="n">R</span> <span class="o">=</span> <span class="s">&#39;{http://www.w3.org/2000/svg}&#39;</span>
<span class="n">MATLAB_PRJ</span> <span class="o">=</span> <span class="s">&#39;/home/mainster/CODES_local/matlab_workspace&#39;</span>

<span class="n">DEBUG</span> <span class="o">=</span> <span class="bp">False</span>


<span class="k">class</span> <span class="nc">dprint</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">,</span> <span class="n">opt</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="k">global</span> <span class="n">DEBUG</span>
        <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">__file__</span><span class="p">),</span> <span class="n">end</span><span class="o">=</span><span class="s">&#39; &#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">opt</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="n">arg</span><span class="p">,</span> <span class="n">opt</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Paths</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">offs</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)):</span>
        <span class="sd">&#39;&#39;&#39; Provides a storage class for path object payloads. &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">valid</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lines</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="c1"># Check for empty path</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">path</span><span class="p">)</span> <span class="ow">is</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">dprint</span><span class="p">(</span><span class="s">&quot;Empty path, id: </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">valid</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">path</span><span class="p">:</span>
                <span class="n">m</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s">&#39;(start|end)\=\((-?[0-9\.]+)([+-][0-9\.]+)j\)&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">n</span><span class="p">),</span> <span class="n">re</span><span class="o">.</span><span class="n">DOTALL</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">((</span>
                    <span class="nb">float</span><span class="p">(</span><span class="n">m</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span> <span class="o">+</span> <span class="n">offs</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">float</span><span class="p">(</span><span class="n">m</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">])</span> <span class="o">+</span> <span class="n">offs</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                    <span class="nb">float</span><span class="p">(</span><span class="n">m</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span> <span class="o">+</span> <span class="n">offs</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">float</span><span class="p">(</span><span class="n">m</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">])</span> <span class="o">+</span> <span class="n">offs</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>

            <span class="c1"># Derive nodes from line objects</span>
            <span class="p">[(</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">line</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">line</span><span class="p">[</span><span class="mi">1</span><span class="p">])),</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">line</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">line</span><span class="p">[</span><span class="mi">3</span><span class="p">])))</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">lines</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">getLines</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">lines</span>

    <span class="k">def</span> <span class="nf">getNodes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span>

    <span class="k">def</span> <span class="nf">isValid</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">valid</span>


<span class="c1"># ------------------------------------------------------------------------------</span>
<span class="c1"># @brief      Class for inkscape svg objects style attributes.</span>
<span class="c1">#</span>
<span class="k">class</span> <span class="nc">Style_t</span><span class="p">:</span>
    <span class="c1"># -----------------------------------------------------------------------------</span>
    <span class="c1"># @brief      Constructs the style attributes object.</span>
    <span class="c1"># @param      self      Instance of style attributes object.</span>
    <span class="c1"># @param      attrStr   Complete &lt;path ... style: attribute string.</span>
    <span class="c1">#</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pathId</span><span class="p">,</span> <span class="n">attrStr</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">ndim</span><span class="p">(</span><span class="n">attrStr</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="s">&quot;np.ndim(attrStr) &gt; 0&quot;</span><span class="p">)</span>
            <span class="nb">exit</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">pathId</span> <span class="o">=</span> <span class="n">pathId</span>
        <span class="n">vps</span><span class="o">=</span><span class="p">[]</span>
        <span class="c1"># Value-pair list comprehension</span>
        <span class="p">[</span> <span class="n">vps</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vp</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;:&#39;</span><span class="p">))</span> <span class="k">for</span> <span class="n">vp</span> <span class="ow">in</span> <span class="n">attrStr</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;;&#39;</span><span class="p">)</span> <span class="p">]</span>
        <span class="c1"># Instantiate style attributes dictionary</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">styAttrs</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">vps</span><span class="p">)</span>

    <span class="c1"># -----------------------------------------------------------------------------</span>
    <span class="c1"># @brief      Sets/changes attributes.</span>
    <span class="c1"># @param      self   Instance of style attributes object.</span>
    <span class="c1"># @param      vp     Value-pair string, e.g. &#39;stroke:#ff0000&#39;</span>
    <span class="c1"># @param      fs     Custom field separator</span>
    <span class="c1">#</span>
    <span class="k">def</span> <span class="nf">setAttr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vp1</span><span class="p">,</span> <span class="n">vp2fs</span><span class="o">=</span><span class="s">&#39;:&#39;</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">vp2fs</span> <span class="o">==</span> <span class="s">&#39;:&#39;</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">vp1</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">vp2fs</span><span class="p">))</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">styAttrs</span><span class="p">[</span><span class="n">vp1</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">vp2fs</span><span class="p">)[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">=</span> <span class="n">vp1</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">vp2fs</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="s">&quot;Not a valid value-pair&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">styAttrs</span><span class="p">[</span><span class="n">vp1</span><span class="p">]</span> <span class="o">=</span> <span class="n">vp2fs</span><span class="p">;</span>


    <span class="c1"># -----------------------------------------------------------------------------</span>
    <span class="c1"># @brief      Gets the value for selected attribute.</span>
    <span class="c1"># @param      self       Instance of style attributes object.</span>
    <span class="c1"># @param      attrName   The attribute name</span>
    <span class="c1"># @param      asVp       Set flag true for sinle string vp return is required</span>
    <span class="c1"># @return     The attribute.</span>
    <span class="c1">#</span>
    <span class="k">def</span> <span class="nf">getAttr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attrName</span><span class="p">,</span> <span class="n">asVp</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">asVp</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">attrName</span> <span class="o">+</span><span class="s">&#39;:&#39;</span><span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">styAttrs</span><span class="p">[</span><span class="n">vp</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">fs</span><span class="p">)[</span><span class="mi">0</span><span class="p">]])</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">styAttrs</span><span class="p">[</span><span class="n">vp</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">fs</span><span class="p">)[</span><span class="mi">0</span><span class="p">]]</span>

    <span class="k">def</span> <span class="nf">getAttrList</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">styAttrs</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">getAttrStr</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">astr</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="p">[</span> <span class="n">astr</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">&#39;</span><span class="si">%s</span><span class="s">:</span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">p</span><span class="p">))</span> <span class="k">for</span> <span class="n">v</span><span class="p">,</span> <span class="n">p</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">styAttrs</span><span class="o">.</span><span class="n">iteritems</span><span class="p">()</span> <span class="p">]</span>
        <span class="k">return</span> <span class="s">&#39;;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">astr</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">dumpObj</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">styAttrs</span><span class="o">.</span><span class="n">keys</span><span class="p">())):</span>
            <span class="k">print</span><span class="p">(</span><span class="s">&quot;(</span><span class="si">%s</span><span class="s"> : </span><span class="si">%s</span><span class="s">)&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">styAttrs</span><span class="o">.</span><span class="n">keys</span><span class="p">()[</span><span class="n">k</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">styAttrs</span><span class="o">.</span><span class="n">values</span><span class="p">()[</span><span class="n">k</span><span class="p">]))</span>

<span class="c1"># ------------------------------------------------------------------------------</span>
<span class="c1"># @brief      Class to provide an output generator (prettyPrint, write log, write header)</span>
<span class="c1">#</span>
<span class="k">class</span> <span class="nc">Output</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mPaths</span><span class="p">,</span> <span class="n">logfile</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">incfile</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logfile</span> <span class="o">=</span> <span class="n">logfile</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">incfile</span> <span class="o">=</span> <span class="n">incfile</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lines</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">linesPretty</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nlines</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="p">[(</span><span class="bp">self</span><span class="o">.</span><span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">path</span><span class="o">.</span><span class="n">getLines</span><span class="p">()),</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">nlines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">path</span><span class="o">.</span><span class="n">getLines</span><span class="p">())))</span> <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="n">mPaths</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nlines</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nlines</span><span class="p">)</span>

        <span class="c1"># Find max 2d vector element</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max</span> <span class="o">=</span> <span class="p">[</span><span class="nb">max</span><span class="p">(</span><span class="n">line</span><span class="p">)</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">lines</span><span class="p">]</span>
        <span class="k">while</span> <span class="n">dim</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">max</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">max</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">max</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&#39;max: </span><span class="si">%i</span><span class="s">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">max</span><span class="p">)</span>

        <span class="c1"># decimal places (2) + dot separator (1) = 3</span>
        <span class="n">formatstr</span> <span class="o">=</span> <span class="s">&#39;</span><span class="si">%%%i</span><span class="s">.</span><span class="si">%i</span><span class="s">f&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getPreceedSpace</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">max</span><span class="p">)</span><span class="o">+</span><span class="mi">2</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

        <span class="c1"># Format/round data buffer</span>
        <span class="c1"># self.linesPretty = [[formatstr % node for node in line] for line in self.lines[0]]</span>
        <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">lines</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">pline</span> <span class="ow">in</span> <span class="n">path</span><span class="p">:</span>
                <span class="n">line</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="p">[</span><span class="n">line</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">formatstr</span> <span class="o">%</span> <span class="n">node</span><span class="p">)</span> <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">pline</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">linesPretty</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>

    <span class="c1"># Ceil to next decade</span>
    <span class="k">def</span> <span class="nf">getPreceedSpace</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="c1"># print(&#39;len: %i  shape:&#39; % len(value), np.shape(value))</span>
        <span class="n">exp</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
        <span class="k">while</span> <span class="n">math</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">max</span><span class="o">/</span><span class="mi">10</span><span class="o">**</span><span class="n">exp</span><span class="p">)</span> <span class="o">!=</span> <span class="mf">1.0</span><span class="p">:</span>
            <span class="n">exp</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">exp</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">out</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">numberLines</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="c1"># self.numberLines = numberLines</span>
        <span class="k">pass</span>

<span class="c1"># ------------------------------------------------------------------------------</span>
<span class="c1"># @brief      Pretty prints the node buffer.</span>
<span class="c1">#</span>
<span class="k">class</span> <span class="nc">PrettyPrint</span><span class="p">(</span><span class="n">Output</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">out</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">numberLines</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">numberLines</span><span class="p">:</span>
            <span class="n">prefix</span> <span class="o">=</span> <span class="s">&#39;</span><span class="si">%%%i</span><span class="s">i:&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">getPreceedSpace</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">linesPretty</span><span class="p">))</span>
            <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">linesPretty</span><span class="p">)):</span>
                <span class="k">print</span><span class="p">(</span><span class="n">prefix</span> <span class="o">%</span> <span class="p">(</span><span class="n">k</span><span class="o">+</span><span class="mi">1</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">linesPretty</span><span class="p">[</span><span class="n">k</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">linesPretty</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>

<span class="c1"># ------------------------------------------------------------------------------</span>
<span class="c1"># @brief      Writes a log file to filesystem</span>
<span class="c1">#</span>
<span class="k">class</span> <span class="nc">CreateLog</span><span class="p">(</span><span class="n">Output</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">out</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">fd</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">logfile</span><span class="p">,</span> <span class="s">&#39;w&#39;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">linesPretty</span><span class="p">:</span>
                <span class="n">fd</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\t</span><span class="s">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">line</span><span class="p">)</span> <span class="o">+</span> <span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

            <span class="n">fd</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
            <span class="n">osd</span><span class="o">.</span><span class="n">ok</span><span class="p">(</span><span class="s">&#39;</span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">logfile</span><span class="p">,</span> <span class="s">&#39;Logfile successfully written&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">send</span><span class="p">()</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="n">osd</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s">&#39;Exception while writing logfile&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">send</span><span class="p">()</span>

<span class="k">class</span> <span class="nc">CreateInclude</span><span class="p">(</span><span class="n">Output</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">out</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">fd</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">incfile</span><span class="p">,</span> <span class="s">&#39;w&#39;</span><span class="p">)</span>

            <span class="n">fd</span><span class="o">.</span><span class="n">write</span><span class="p">(</span>
                <span class="sd">&quot;&quot;&quot;#include &lt;stdio.h&gt;</span>
<span class="sd">#include &lt;stdint.h&gt;</span>

<span class="sd">typedef float node_t[2];      /* A nodes X- and Y- values */</span>
<span class="sd">typedef node_t lseg_t[2];     /* A line segment is defined by 2 nodes (x1,y1),(x2,y2) */</span>
<span class="sd">typedef lseg_t svg_t[2];      /* An array of line segments */</span>


<span class="sd">const lseg_t gnu[ ] = {</span>
<span class="sd">&quot;&quot;&quot;</span><span class="p">)</span>

            <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">linesPretty</span><span class="p">)):</span>
                <span class="n">line</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">linesPretty</span><span class="p">[</span><span class="n">k</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">k</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">linesPretty</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">fd</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\t</span><span class="s">{{ </span><span class="si">%s</span><span class="s">, </span><span class="si">%s</span><span class="s"> }, { </span><span class="si">%s</span><span class="s">, </span><span class="si">%s</span><span class="s"> }},</span><span class="se">\n</span><span class="s">&#39;</span>
                        <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">line</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="nb">str</span><span class="p">(</span><span class="n">line</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="nb">str</span><span class="p">(</span><span class="n">line</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span> <span class="nb">str</span><span class="p">(</span><span class="n">line</span><span class="p">[</span><span class="mi">3</span><span class="p">])))</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">fd</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\t</span><span class="s">{{ </span><span class="si">%s</span><span class="s">, </span><span class="si">%s</span><span class="s"> }, { </span><span class="si">%s</span><span class="s">, </span><span class="si">%s</span><span class="s"> }}</span><span class="se">\n</span><span class="s">};</span><span class="se">\n</span><span class="s">&#39;</span>
                        <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">line</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="nb">str</span><span class="p">(</span><span class="n">line</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="nb">str</span><span class="p">(</span><span class="n">line</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span> <span class="nb">str</span><span class="p">(</span><span class="n">line</span><span class="p">[</span><span class="mi">3</span><span class="p">])))</span>

            <span class="n">fd</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
            <span class="n">osd</span><span class="o">.</span><span class="n">ok</span><span class="p">(</span><span class="s">&#39;</span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">incfile</span><span class="p">,</span> <span class="s">&#39;IncFile successfully written&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">send</span><span class="p">()</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">TypeError</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="s">&#39;Exception while writing incfile:</span><span class="se">\n</span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">e</span><span class="o">.</span><span class="n">message</span><span class="p">)</span>
            <span class="n">osd</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s">&#39;Exception while writing incfile:</span><span class="se">\n</span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">e</span><span class="o">.</span><span class="n">message</span><span class="p">)</span><span class="o">.</span><span class="n">send</span><span class="p">()</span>


<span class="c1"># ------------------------------------------------------------------------------</span>
<span class="c1"># @brief      Returns xml tag of a template bed node marker shape.</span>
<span class="c1"># @param      cx          The nodes x-coordinate.</span>
<span class="c1"># @param      cy          The nodes y-coordinate.</span>
<span class="c1"># @param      uid         An uniq node-marker-identifier, integer.</span>
<span class="c1"># @param      r           Node marker radius.</span>
<span class="c1"># @param      opacity     Node marker opacity.</span>
<span class="c1"># @param      fillColor   Node marker fill color.</span>
<span class="c1"># @return     Node marker xml tag.</span>
<span class="c1">#</span>
<span class="k">def</span> <span class="nf">nodeMarker</span><span class="p">(</span><span class="n">cx</span><span class="p">,</span> <span class="n">cy</span><span class="p">,</span> <span class="n">uid</span><span class="p">,</span> <span class="n">r</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">opacity</span><span class="o">=.</span><span class="mi">8</span><span class="p">,</span> <span class="n">fillColor</span><span class="o">=</span><span class="s">&#39;#ff0000&#39;</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">[</span> <span class="n">p</span>
    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39;&lt;CX&gt;&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">cx</span><span class="p">))</span>
    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39;&lt;CY&gt;&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">cy</span><span class="p">))</span>
    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39;&lt;UID&gt;&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">uid</span><span class="p">))</span>
    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39;&lt;R&gt;&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">r</span><span class="p">))</span>
    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39;&lt;OPACITY&gt;&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">opacity</span><span class="p">))</span>
    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39;&lt;FILL_COLOR&gt;&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">fillColor</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">circleTempStr</span> <span class="p">]</span>

<span class="c1"># ------------------------------------------------------------------------------</span>
<span class="c1"># @brief      Acts as parser core. Creates buffers containing XML tag payload.</span>
<span class="c1"># @param      infile   The svg file whose nodes are to be marked.</span>
<span class="c1"># @return     mPaths:   Holds all node coordinates of a defined svg path. offs:</span>
<span class="c1">#             Returns transformation/translation coordinates if corresponding</span>
<span class="c1">#             tags wherefound, else (0, 0)</span>
<span class="c1">#</span>
<span class="k">def</span> <span class="nf">doParse</span><span class="p">(</span><span class="n">infile</span><span class="p">):</span>
    <span class="n">fd</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">infile</span><span class="p">,</span><span class="s">&#39;r+&#39;</span><span class="p">)</span>
    <span class="n">lbuff</span> <span class="o">=</span> <span class="n">fd</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
    <span class="n">fd</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">svg_dom</span> <span class="o">=</span> <span class="n">minidom</span><span class="o">.</span><span class="n">parseString</span><span class="p">(</span><span class="s">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">lbuff</span><span class="p">))</span>

    <span class="c1"># Request for the perhaps-attribute: &#39;offs&#39; or transform, if therei s a &lt;g&gt; tag present!</span>
    <span class="n">offs</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">svg_dom</span><span class="o">.</span><span class="n">getElementsByTagName</span><span class="p">(</span><span class="s">&#39;g&#39;</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">max</span><span class="p">([</span> <span class="n">g</span><span class="o">.</span><span class="n">hasAttribute</span><span class="p">(</span><span class="s">&quot;transform&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">svg_dom</span><span class="o">.</span><span class="n">getElementsByTagName</span><span class="p">(</span><span class="s">&#39;g&#39;</span><span class="p">)</span> <span class="p">]):</span>
            <span class="n">rawTransform</span> <span class="o">=</span> <span class="p">[</span> <span class="n">g</span><span class="o">.</span><span class="n">hasAttribute</span><span class="p">(</span><span class="s">&quot;transform&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">svg_dom</span><span class="o">.</span><span class="n">getElementsByTagName</span><span class="p">(</span><span class="s">&#39;g&#39;</span><span class="p">)</span> <span class="p">]</span>
            <span class="n">m</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s">&#39;translate\(([-+]?[0-9\.]+)\,([-+]?[0-9\.]+)\)&#39;</span><span class="p">,</span>
                <span class="n">g</span><span class="o">.</span><span class="n">getAttribute</span><span class="p">(</span><span class="s">&#39;transform&#39;</span><span class="p">),</span> <span class="n">re</span><span class="o">.</span><span class="n">DOTALL</span><span class="p">)</span>
            <span class="n">offs</span> <span class="o">=</span> <span class="p">[</span> <span class="nb">float</span><span class="p">(</span><span class="n">m</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">m</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span> <span class="p">]</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;No xml-tag &lt;g&gt; found!&quot;</span><span class="p">)</span>

    <span class="c1"># Get all path attributes and the paths identifier</span>
    <span class="n">rawPathsIds</span> <span class="o">=</span> <span class="p">[</span> <span class="p">(</span><span class="n">path</span><span class="o">.</span><span class="n">getAttribute</span><span class="p">(</span><span class="s">&#39;d&#39;</span><span class="p">),</span>
        <span class="n">path</span><span class="o">.</span><span class="n">getAttribute</span><span class="p">(</span><span class="s">&#39;id&#39;</span><span class="p">))</span> <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="n">svg_dom</span><span class="o">.</span><span class="n">getElementsByTagName</span><span class="p">(</span><span class="s">&#39;path&#39;</span><span class="p">)</span> <span class="p">]</span>
    <span class="c1"># Create Path() class instance</span>
    <span class="n">mPaths</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="p">[</span> <span class="n">mPaths</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="n">Paths</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">parse_path</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="n">offs</span><span class="p">)</span> <span class="p">)</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">rawPathsIds</span> <span class="p">]</span>

    <span class="n">invEl</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="c1"># Check for invalid path elements and remove them</span>
    <span class="c1"># for k in range(len(mPaths)):</span>
    <span class="c1">#   if not mPaths[k].isValid():</span>
    <span class="c1">#       invEl.append(k)</span>

    <span class="p">[</span> <span class="n">invEl</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">mPaths</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="o">.</span><span class="n">isValid</span><span class="p">()</span> <span class="k">else</span> <span class="s">&#39;&#39;</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">mPaths</span><span class="p">))</span> <span class="p">]</span>
    <span class="c1"># print(&quot;lbefore: %i  len(mPaths): %i&quot; % (lbefore, len(mPaths)))</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;invEl: &quot;</span><span class="p">,</span> <span class="n">invEl</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">invEl</span><span class="p">:</span>
        <span class="k">del</span> <span class="n">mPaths</span><span class="p">[</span><span class="n">k</span><span class="p">]</span>

    <span class="k">return</span> <span class="p">(</span><span class="n">mPaths</span><span class="p">,</span> <span class="n">offs</span><span class="p">)</span>

<span class="c1"># ------------------------------------------------------------------------------</span>
<span class="c1"># @brief      Manipulate path attributes in xml source tree.</span>
<span class="c1"># @param      infile    The svg input file.</span>
<span class="c1"># @param      valPair   Value-pair which should be modified</span>
<span class="c1"># @param      suffix    Optional output file suffix</span>
<span class="c1"># @return     Outfile pathe/name.</span>
<span class="c1">#</span>
<span class="k">def</span> <span class="nf">styleManipulate</span><span class="p">(</span><span class="n">infile</span><span class="p">,</span> <span class="n">valPair</span><span class="o">=</span><span class="s">&#39;stroke-opacity:0.5&#39;</span><span class="p">,</span> <span class="n">suffix</span><span class="o">=</span><span class="s">&#39;&#39;</span><span class="p">):</span>
    <span class="n">tree</span> <span class="o">=</span> <span class="n">etree</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">infile</span><span class="p">)</span>
    <span class="n">root</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">getroot</span><span class="p">()</span>
    <span class="n">pStyles</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
    <span class="n">baseElems</span> <span class="o">=</span> <span class="p">[</span><span class="n">root</span><span class="p">]</span>

    <span class="c1"># Check if &lt;g&gt; element encloses all other &lt;path&gt; elements!</span>
    <span class="p">[</span> <span class="n">baseElems</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">g</span><span class="p">)</span> <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">root</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">R</span> <span class="o">+</span> <span class="s">&#39;g&#39;</span><span class="p">)</span> <span class="p">]</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;be elements: &quot;</span><span class="p">,</span> <span class="p">[</span> <span class="n">g</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">R</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">baseElems</span> <span class="p">]</span> <span class="p">)</span>

    <span class="k">for</span> <span class="n">be</span> <span class="ow">in</span> <span class="n">baseElems</span><span class="p">:</span>
        <span class="c1"># Create dict with pathID keys and style object as value</span>
        <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="n">be</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">R</span> <span class="o">+</span> <span class="s">&#39;path&#39;</span><span class="p">):</span>
            <span class="c1"># Create a Style_t instance for each path tag in xml source tree.</span>
            <span class="n">pStyles</span><span class="p">[</span> <span class="n">path</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;id&#39;</span><span class="p">)</span> <span class="p">]</span> <span class="o">=</span> <span class="n">Style_t</span><span class="p">(</span><span class="n">path</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;id&#39;</span><span class="p">),</span> <span class="n">path</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;style&#39;</span><span class="p">))</span>
            <span class="n">pStyles</span><span class="p">[</span> <span class="n">path</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;id&#39;</span><span class="p">)</span> <span class="p">]</span><span class="o">.</span><span class="n">setAttr</span><span class="p">(</span> <span class="n">valPair</span> <span class="p">)</span>

        <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="n">be</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">R</span> <span class="o">+</span> <span class="s">&#39;path&#39;</span><span class="p">):</span>
            <span class="n">ID</span> <span class="o">=</span> <span class="n">path</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;id&#39;</span><span class="p">)</span>
            <span class="n">path</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s">&#39;style&#39;</span><span class="p">,</span> <span class="n">pStyles</span><span class="p">[</span><span class="n">ID</span><span class="p">]</span><span class="o">.</span><span class="n">getAttrStr</span><span class="p">())</span>

    <span class="c1"># Write back the modified xml tree</span>
    <span class="n">outfile</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">infile</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">suffix</span> <span class="o">+</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">infile</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>

    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">outfile</span><span class="p">,</span> <span class="s">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fd</span><span class="p">:</span>
        <span class="n">fd</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">etree</span><span class="o">.</span><span class="n">tostring</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span> <span class="n">pretty_print</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s">&#39;utf8&#39;</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">outfile</span>

<span class="c1"># ------------------------------------------------------------------------------</span>
<span class="c1"># @brief      Places a node marker on each node.</span>
<span class="c1"># @param      infile       The svg file whose nodes are to be marked.</span>
<span class="c1"># @param      mPaths        Paths class instance.</span>
<span class="c1"># @param      MARKER_SIZE   Size of node markers [px].</span>
<span class="c1"># @return     -</span>
<span class="c1">#</span>
<span class="k">def</span> <span class="nf">placeNodeMarker</span><span class="p">(</span><span class="n">infile</span><span class="p">,</span> <span class="n">mPaths</span><span class="p">,</span> <span class="n">MARKER_SIZE</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="n">suffix</span><span class="o">=</span><span class="s">&#39;&#39;</span><span class="p">):</span>
    <span class="n">SVG_END_TAG</span><span class="o">=</span><span class="s">&#39;&lt;/svg&gt;</span><span class="se">\n</span><span class="s">&#39;</span>
    <span class="c1"># Open svg, read lines to buffer, close file</span>
    <span class="n">fd</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">infile</span><span class="p">,</span><span class="s">&#39;r+&#39;</span><span class="p">)</span>
    <span class="n">lines</span> <span class="o">=</span> <span class="n">fd</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
    <span class="n">fd</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="c1"># Get index of svg-end tag</span>
    <span class="n">idx</span> <span class="o">=</span> <span class="n">lines</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">SVG_END_TAG</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">idx</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&quot;svg end tag not found!&quot;</span><span class="p">);</span> <span class="nb">exit</span><span class="p">();</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;svg end tag found at line </span><span class="si">%d</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">idx</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">mPaths</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">p</span><span class="o">.</span><span class="n">getNodes</span><span class="p">():</span>
            <span class="n">circleMark</span> <span class="o">=</span> <span class="n">nodeMarker</span><span class="p">(</span><span class="n">node</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">node</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">1000</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">MARKER_SIZE</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">circleMark</span><span class="p">)):</span>
                <span class="n">lines</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">idx</span><span class="o">+</span><span class="n">l</span><span class="p">,</span> <span class="s">&quot;</span><span class="se">\t</span><span class="s">&quot;</span> <span class="o">+</span> <span class="n">circleMark</span><span class="p">[</span><span class="n">l</span><span class="p">]</span> <span class="o">+</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>

    <span class="n">fd</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">infile</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span>
        <span class="n">suffix</span> <span class="o">+</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">infile</span><span class="p">)[</span><span class="mi">1</span><span class="p">],</span> <span class="s">&#39;w&#39;</span><span class="p">)</span>
    <span class="n">fd</span><span class="o">.</span><span class="n">writelines</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span>
    <span class="n">fd</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="c1"># ------------------------------------------------------------------------------</span>
<span class="c1"># @brief      Input argument parser.</span>
<span class="c1"># @param      argv   List of input arguments.</span>
<span class="c1"># @return     Input file path, doPretty flag.</span>
<span class="c1">#</span>
<span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">argv</span><span class="p">):</span>
    <span class="n">flags</span> <span class="o">=</span> <span class="p">{</span> <span class="s">&#39;logfile&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span> <span class="s">&#39;incfile&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span> <span class="s">&#39;strokes&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span> <span class="s">&#39;marker&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span> <span class="s">&#39;pretty&#39;</span><span class="p">:</span> <span class="bp">False</span> <span class="p">}</span>

    <span class="n">infile</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">outs</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;logfile&#39;</span><span class="p">:</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;incfile&#39;</span><span class="p">:</span><span class="s">&#39;&#39;</span><span class="p">}</span>

    <span class="n">cmdUsage</span> <span class="o">=</span> <span class="s">&#39;</span><span class="si">%s</span><span class="s"> -i &lt;infile&gt; [-p]&#39;</span> <span class="o">%</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">__file__</span><span class="p">)</span>


    <span class="k">try</span><span class="p">:</span>
        <span class="n">onodes</span><span class="p">,</span> <span class="n">args</span> <span class="o">=</span> <span class="n">getopt</span><span class="o">.</span><span class="n">getopt</span><span class="p">(</span><span class="n">argv</span><span class="p">,</span><span class="s">&quot;hi:smpl:c:&quot;</span><span class="p">,</span>
            <span class="p">[</span><span class="s">&quot;ifile=&quot;</span><span class="p">,</span> <span class="s">&quot;strokes&quot;</span><span class="p">,</span> <span class="s">&quot;marker&quot;</span><span class="p">,</span> <span class="s">&quot;pretty&quot;</span><span class="p">,</span> <span class="s">&quot;logfile=&quot;</span><span class="p">,</span> <span class="s">&quot;incfile=&quot;</span><span class="p">])</span>
    <span class="k">except</span> <span class="n">getopt</span><span class="o">.</span><span class="n">GetoptError</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">cmdUsage</span><span class="p">,</span> <span class="n">getopt</span><span class="o">.</span><span class="n">GetoptError</span><span class="p">)</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">opt</span><span class="p">,</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">onodes</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">opt</span> <span class="o">==</span> <span class="s">&#39;-h&#39;</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="n">cmdUsage</span><span class="p">)</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">opt</span> <span class="ow">in</span> <span class="p">(</span><span class="s">&quot;-i&quot;</span><span class="p">,</span> <span class="s">&quot;--ifile&quot;</span><span class="p">):</span>      <span class="n">infile</span> <span class="o">=</span> <span class="n">arg</span>
        <span class="k">elif</span> <span class="n">opt</span> <span class="ow">in</span> <span class="p">(</span><span class="s">&quot;-l&quot;</span><span class="p">,</span> <span class="s">&quot;--logfile&quot;</span><span class="p">):</span>    <span class="n">flags</span><span class="p">[</span><span class="s">&#39;logfile&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">True</span><span class="p">;</span> <span class="n">outs</span><span class="p">[</span><span class="s">&#39;logfile&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">arg</span>
        <span class="k">elif</span> <span class="n">opt</span> <span class="ow">in</span> <span class="p">(</span><span class="s">&quot;-c&quot;</span><span class="p">,</span> <span class="s">&quot;--incfile&quot;</span><span class="p">):</span><span class="n">flags</span><span class="p">[</span><span class="s">&#39;incfile&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">True</span><span class="p">;</span> <span class="n">outs</span><span class="p">[</span><span class="s">&#39;incfile&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">arg</span>
        <span class="k">elif</span> <span class="n">opt</span> <span class="ow">in</span> <span class="p">(</span><span class="s">&quot;-s&quot;</span><span class="p">,</span> <span class="s">&quot;--strokes&quot;</span><span class="p">):</span>    <span class="n">flags</span><span class="p">[</span><span class="s">&#39;strokes&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="k">elif</span> <span class="n">opt</span> <span class="ow">in</span> <span class="p">(</span><span class="s">&quot;-m&quot;</span><span class="p">,</span> <span class="s">&quot;--marker&quot;</span><span class="p">):</span>     <span class="n">flags</span><span class="p">[</span><span class="s">&#39;marker&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="k">elif</span> <span class="n">opt</span> <span class="ow">in</span> <span class="p">(</span><span class="s">&quot;-p&quot;</span><span class="p">,</span> <span class="s">&quot;--pretty&quot;</span><span class="p">):</span>     <span class="n">flags</span><span class="p">[</span><span class="s">&#39;pretty&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">True</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">infile</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&#39;Input file &quot;</span><span class="si">%s</span><span class="s">&quot; not valied!&#39;</span> <span class="o">%</span> <span class="n">infile</span><span class="p">)</span>

    <span class="k">return</span> <span class="p">(</span><span class="n">infile</span><span class="p">,</span> <span class="n">outs</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span>

<span class="c1"># ------------------------------------------------------------------------------</span>
<span class="c1"># Script run.</span>


<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">mPaths</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">dprint</span><span class="p">(</span><span class="s">&#39;sys.argv: &#39;</span><span class="p">,</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="p">(</span><span class="n">infile</span><span class="p">,</span> <span class="n">outs</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span> <span class="o">=</span> <span class="n">main</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>      <span class="c1"># Parse input arguments</span>
        <span class="n">logfile</span> <span class="o">=</span> <span class="n">outs</span><span class="p">[</span><span class="s">&#39;logfile&#39;</span><span class="p">]</span>
        <span class="n">incfile</span> <span class="o">=</span> <span class="n">outs</span><span class="p">[</span><span class="s">&#39;incfile&#39;</span><span class="p">]</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&quot;Exception while getopts!&quot;</span><span class="p">)</span>
        <span class="n">osd</span><span class="o">.</span><span class="n">crit</span><span class="p">(</span><span class="s">&quot;Exception while getopts!&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">send</span><span class="p">()</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="p">(</span><span class="n">mPaths</span><span class="p">,</span> <span class="n">offs</span><span class="p">)</span> <span class="o">=</span> <span class="n">doParse</span><span class="p">(</span><span class="n">infile</span><span class="p">)</span>            <span class="c1"># Get paths from vector graphic</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">mPaths</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="s">&quot;Error, no paths or bad -i argument&quot;</span><span class="p">)</span>
        <span class="nb">exit</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">mPaths</span><span class="p">:</span>
        <span class="n">dprint</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">getLines</span><span class="p">())</span>

    <span class="k">if</span> <span class="n">offs</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&quot;offs attr: </span><span class="si">%f</span><span class="s">, </span><span class="si">%f</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">offs</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">offs</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>

    <span class="n">ofile</span> <span class="o">=</span> <span class="n">infile</span>
    <span class="n">suff</span> <span class="o">=</span> <span class="s">&#39;_mod&#39;</span>
    <span class="c1"># Manipulate path style attributes</span>
    <span class="k">if</span> <span class="n">flags</span><span class="p">[</span><span class="s">&#39;strokes&#39;</span><span class="p">]:</span>
        <span class="n">ofile</span> <span class="o">=</span> <span class="n">styleManipulate</span><span class="p">(</span><span class="n">infile</span><span class="p">,</span> <span class="s">&#39;stroke-opacity:0.3&#39;</span><span class="p">,</span> <span class="n">suff</span><span class="p">)</span>
        <span class="n">suff</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>

    <span class="c1"># Place node markers into xml-tree of selected infile.</span>
    <span class="k">if</span> <span class="n">flags</span><span class="p">[</span><span class="s">&#39;marker&#39;</span><span class="p">]:</span>
        <span class="n">placeNodeMarker</span><span class="p">(</span><span class="n">ofile</span><span class="p">,</span> <span class="n">mPaths</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">suff</span><span class="p">)</span>

<span class="c1"># , MATLAB_PRJ + os.path.basename(infile) + &#39;.log&#39;</span>
    <span class="n">printPretty</span> <span class="o">=</span> <span class="n">PrettyPrint</span><span class="p">(</span><span class="n">mPaths</span><span class="p">)</span>
    <span class="n">logCreate</span> <span class="o">=</span> <span class="n">CreateLog</span><span class="p">(</span><span class="n">mPaths</span><span class="p">,</span> <span class="n">logfile</span><span class="o">=</span><span class="n">logfile</span><span class="p">)</span>
    <span class="n">includeCreate</span> <span class="o">=</span> <span class="n">CreateInclude</span><span class="p">(</span><span class="n">mPaths</span><span class="p">,</span> <span class="n">incfile</span><span class="o">=</span><span class="n">incfile</span><span class="p">)</span>

    <span class="c1"># Pretty print(nodes to console.)</span>
    <span class="k">if</span> <span class="n">flags</span><span class="p">[</span><span class="s">&#39;pretty&#39;</span><span class="p">]:</span>
        <span class="n">printPretty</span><span class="o">.</span><span class="n">out</span><span class="p">(</span><span class="n">numberLines</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">flags</span><span class="p">[</span><span class="s">&#39;logfile&#39;</span><span class="p">]:</span>
        <span class="n">logCreate</span><span class="o">.</span><span class="n">out</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">flags</span><span class="p">[</span><span class="s">&#39;incfile&#39;</span><span class="p">]:</span>
        <span class="n">includeCreate</span><span class="o">.</span><span class="n">out</span><span class="p">()</span>

    <span class="n">lin</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="p">[</span><span class="n">lin</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">path</span><span class="o">.</span><span class="n">getLines</span><span class="p">()))</span> <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="n">mPaths</span><span class="p">]</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;Paths count: </span><span class="si">%i</span><span class="s">&quot;</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">mPaths</span><span class="p">))</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;Lines count: </span><span class="si">%i</span><span class="s">&quot;</span> <span class="o">%</span> <span class="nb">sum</span><span class="p">(</span><span class="n">lin</span><span class="p">))</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;Nodes count: </span><span class="si">%i</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">lin</span><span class="p">)</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">mPaths</span><span class="p">)))</span>

    <span class="n">osd</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s">&#39;Lumpy??&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">send</span><span class="p">()</span>
    <span class="n">lumpy</span><span class="o">.</span><span class="n">object_diagram</span><span class="p">()</span>
    <span class="n">lumpy</span><span class="o">.</span><span class="n">class_diagram</span><span class="p">()</span>
    <span class="n">osd</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s">&#39;Lumpy done &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">send</span><span class="p">()</span>

    <span class="c1"># print(&quot;logfile: %s&quot; % logfile)</span>
    <span class="c1"># print(&#39;len(logData): %i&#39; % len(logData), logData)</span>
    <span class="c1"># osd.osdwarn(MATLAB_PRJ + os.path.basename(</span>
    <span class="c1"># infile).splitext()[0] + &#39;.log&#39;,msgTitle=&#39;log write&#39;,tSec=10)</span>

<span class="c1">########################################</span>
<span class="c1">#   Script end.</span>
<span class="c1">########################################</span>
</pre></div>
</p>
<p></details></p>
<p>ToDo:</p>
<ul>
<li>Beam blanking</li>
<li>3D-Transformation</li>
</ul>
<h1 id="gesamtsystem"><a name="user-content-gesamtsystem" href="#gesamtsystem" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>!Gesamtsystem</h1>
<p><yelBg>(&hellip;)</yelBg></p>
<h1 id="hardware"><a name="user-content-hardware" href="#hardware" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>!Hardware</h1>
<p><yelBg>(&hellip;)</yelBg></p>
<h1 id="resumee"><a name="user-content-resumee" href="#resumee" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>!Resümee</h1>
<p><yelBg>(&hellip;)</yelBg></p>
<h1 id="quellenangaben"><a name="user-content-quellenangaben" href="#quellenangaben" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Quellenangaben</h1>
<hr />
<p><a name="citeMDA"> </a><br />
<strong>[MDA:2006]</strong> <em>V. Gruhn, D. Pieper, C. Röttgers;</em> <strong><em>MDA® Effektives Software-Engineering mit UML 2® und Eclipse TM. Springer-Verlag Berlin Heidelberg; 2006;</em></strong></p>
<p><a name="citeProbst"> </a><br />
<strong>[Probst:2011]</strong> <em>Uwe Probst;</em> <strong><em>Servoantriebe in der Automatisierungstechnik - Komponenten, Aufbau und Regelverfahren; 2011;</em></strong></p>
<p><a name="citeIserm"> </a><br />
<strong>[Iser:2008]</strong> <em>Rolf Isermann;</em> <strong><em>Mechatronische Systeme - Grundlagen; 2008;</em></strong></p>
<p><a name="citeSTM32F429i"> </a><br />
<strong>[STM32F4 Series]</strong> <a href="http://www.st.com/en/microcontrollers/stm32f4-series.html?querycriteria=productId=SS1577">http://www.st.com/en/microcontrollers/stm32f4-series.html?querycriteria=productId=SS1577</a></p>
<p><a name="citeSoC"> </a><br />
<strong>SoC</strong> <em>System-on-Chip</em> <a href="http://www.itwissen.info/definition/lexikon/System-on-Chip-SoC-system-on-chip.html">http://www.itwissen.info/definition/lexikon/System-on-Chip-SoC-system-on-chip.html</a></p>
<h1 id="notes"><a name="user-content-notes" href="#notes" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Notes</h1>
<ul>
<li>MathJax:<ul>
<li>Math Settings:<ul>
<li>Zoom Trigger: No Zoom</li>
<li>Zoom Factor: 200%</li>
<li>Math Renderer: <ul>
<li>Common HTML</li>
<li>Fast Preview</li>
</ul>
</li>
<li>Scale all Math: 90%</li>
</ul>
</li>
<li>Accessibillity</li>
</ul>
</li>
</ul>
<h1 id="trash"><a name="user-content-trash" href="#trash" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>!Trash</h1>
<p><a name="refTableElectric"> </a><br />
<center></p>
<table>
<thead>
<tr>
<th>Elektrische Spezifikationen</th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Coil Resistance</td>
<td>1.5 Ohm</td>
<td></td>
<td>$\pm\SI{10}{\%}$</td>
</tr>
<tr>
<td>Coil Inductance</td>
<td>160µH</td>
<td></td>
<td>$\pm\SI{10}{\%}$</td>
</tr>
<tr>
<td>Back EMF Voltage</td>
<td>0.17mV/degree/sec</td>
<td>9.74mV/rad/sec</td>
<td>$\pm\SI{10}{\%}$</td>
</tr>
<tr>
<td>RMS Current</td>
<td>4.6A @ T_case=50°C, Max</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Peak Current</td>
<td>25A, Max</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Small Angle Step Response Time</td>
<td>0.5ms (inertia matched load)</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p></center></p>
<p><a name="refTableMechanic"> </a><br />
<center></p>
<table>
<thead>
<tr>
<th>Mechanical Specifications</th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Rated Angular Excursion</td>
<td>40°</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Rotor Inertia</td>
<td>0.6 gm.cm^2</td>
<td>6e-8 kg.m^2</td>
<td>$\pm\SI{10}{\%}$</td>
</tr>
<tr>
<td>Torque Constant</td>
<td>9.3 10^4 dyne.cm/A</td>
<td>9.3e-3 Nm/A</td>
<td>$\pm\SI{10}{\%}$</td>
</tr>
<tr>
<td>Maximum Coil Temperature</td>
<td>110°C</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Thermal Resistance (Coil - Case)</td>
<td>1.5°C/Watt, Max</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p></center><br />
<span style="font-size: 80%">$\;\;\;1\;dyne.cm \;\;\;\Leftrightarrow\;\;\; 1\times 10^{-7} Nm$<br />
$\;\;\;1\;gm.cm^2 \;\;\;\Leftrightarrow\;\;\; 1\times 10^{-7} kg.m^2$</span><br />
<center></p>
<table>
<thead>
<tr>
<th>Position Detector</th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Linearity</td>
<td>99.9%, Minimum, over 40 degrees</td>
<td></td>
</tr>
<tr>
<td>Scale Drift</td>
<td>50PPM/°C, Maximum</td>
<td></td>
</tr>
<tr>
<td>Zero Drift</td>
<td>15 microradians/°C, Maximum</td>
<td></td>
</tr>
<tr>
<td>Repeatability, Short Term</td>
<td>8 microradians</td>
<td></td>
</tr>
<tr>
<td>Output Signal, Common Mode</td>
<td>585µA @ AGC voltage=10VDC</td>
<td>$\pm\SI{20}{\%}$</td>
</tr>
<tr>
<td>Output Signal, Differential Mode</td>
<td>14.5µA/° @ common mode current of 585µA</td>
<td>$\pm\SI{20}{\%}$</td>
</tr>
</tbody>
</table>
<p></center><br />
<p style="margin: 0em 18em 0em 9em; background: -webkit-linear-gradient(top left, #ccc 20%, #ccc 40%, rgba(250, 250, 250, 0) 100%);"> <br />
</p></p>
<p>kann nach Newton&rsquo;s 3. Axiom <a href="https://de.wikipedia.org/wiki/Actio_und_Reactio"><em>&ldquo;Actio et Reactio&rdquo;</em></a> $\Rightarrow \vec{F_{A\rightarrow B}} = -\vec{F_{B\rightarrow A}} $ folgende Bestimmungsgleichung aufgestellt werden: </p>
<p>$$ \omega(t)=L \cdot \frac{\partial~\varphi}{\partial~t} $$</p>
<p>$$ \vec{L} = \vec{r} \times \vec{p} = \vec{r} \times \left( m\cdot\vec{v}\right) \label{eqRmv} $$</p>
<p>Durch die zeitliche Ableitung $\dot{\vec{L}}$ erhält man den Drehmomentvektor $\vec{M}$. Da sowohl Ortsvektor $\vec{r}(t)$ wie auch der Geschwindigkeitsvektor $\vec{v}(t)$ des Impulses $\vec{p}(t)$ Funktionen in <em>t</em>  darstellen, muss Gleichung \eqref{eqRmv} über die Produktregel differenziert werden:  </p>
<p>\begin{align}<br />
\frac{\partial}{\partial\,t} \vec{L} &amp;= \dot{\vec{r}} \times \left( m \cdot \vec{v} \right) \nonumber \\ <br />
\dot{\vec{L}} &amp;= \dot{\vec{r}} \times \left( m \cdot \vec{v} \right) + \vec{r} \times \left( m \cdot \dot{\vec{v}} \right) \nonumber<br />
\end{align}</p>
<blockquote>
<p>Bei der Translation charakterisiert der Impuls den Bewegungszustand eines Körpers. In analoger Weise lässt sich bei der Rotation der Bewegungszustand eines rotierenden starren Körpers durch die physikalische Größe Drehimpuls kennzeichnen.<sup id="fnref:fnAngularMomentum"><a class="footnote-ref" href="#fn:fnAngularMomentum" rel="footnote">22</a></sup> </p>
</blockquote>
<hr />
<p><strong>Parameterableitung eines Vektors mit konstanter Länge</strong> <br />
Ist der Betrag eines Vektors $\vec{r}(x)$ als konstant zu betrachten, so steht dieser stehts senkrecht zu seiner Ableitung:    </p>
<p>\begin{align}<br />
\vec{r} = const \;\;\;&amp;\Rightarrow\;\;\; \left| \vec{r} \right| = const \;\;\;\Rightarrow\;\;\; \sqrt{\vec{r} \cdot \vec{r}} = const \nonumber \\ &amp;\Rightarrow\;\;\; \vec{r} \cdot \vec{r} = const \label{eqrr}<br />
\end{align}</p>
<p>Unter Anwendung der Produktregel wird die erste Ableitung von \eqref{eqrr} nach $x$ gebildet:</p>
<p>$$ \frac{\partial\,\vec{r}}{\partial\,x} \cdot \vec{r} \;+\; \vec{r} \cdot \frac{\partial\,\vec{r}}{\partial\,x} = 2 \cdot \left( \vec{r} \cdot \frac{\partial}{\partial\,x}\vec{r} \right) = 0 $$</p>
<p>Hieraus folgt, dass der Vektor senkrecht zu seiner Ableitung stehen muss.<br />
$$ \vec{L} = J \cdot \vec{\omega} $$</p>
<p><img src="pics/energiebilanzDeriv.svg" title="Energiebilanz eines beliebigen Energiespeichers" align="rigth" height="138x" style="float:right; margin: 0em 0em 0em .5em;"/><br />
Die im Rahmen dieser Arbeit relevanten,  Erhaltungssätze <br />
Für den Fall <br />
Der Drehimpulsvektor $\vec{L}$ eines starren Körpers wird definirt als Kreuzprodukt aus Ortsvektor und Impulsvektor. </p>
<p>Auch in der technischen Mechanik stützen sich viele mathematische Ansätze der Dynamik auf Bilanzgleichungen diverser physikalischer Größen. Zum Beispiel gilt für jedes energetisch abgeschlossene System (Bsp.: idealer Feder-Masse-Schwingkreis, idealer LC-Schwingkreis) stehts, dass die Momentanenergie zu jedem Zeitpunkt $t \ge 0$ identisch mit der Energie zum Zeitpunkt $t=0$ übereinstimmt. In diesem Fall bestimmt die <em>Anfangsbedingung</em> das Energieniveau des Systems. <br />
<p style="margin-top: 2em; background-color: yellow; padding: 1em"> Die Gesetze zur <strong><em>Erhaltung</em></strong> der <em>Masse</em>, der <em>Energie</em> und des <em>Impulses</em> sind fundamental. Aus diesen Erhaltungssätzen lassen sich domänenübergreifende, aber auch vollkommen unspezifische Bilanzgleichungen formulieren, d.h. unabhängig von der &ldquo;Bauform&rdquo; der Prozesse. </p><p style="text-align: right; margin-top: -1em; margin-bottom: 2.5em"> vergl. <a href="#citeIserm" title="Rolf Isermann; Mechatronische Systeme - Grundlagen; 2008;">[Iser:2008, 61]</a></p></p>
<p>M_{FR} \;\propto\; \omega &amp;\;\;\;\Leftrightarrow\;\;\; M_{FR} = K_{FR} \cdot\boldsymbol{\dot\varphi} \label{eqLinearFriction} \\<br />
M_{EL} \;\propto\; i_L &amp;\;\;\;\Leftrightarrow\;\;\; M_{EL} = K_{EL}\cdot i_L \label{eqLinearElTorque}<br />
$$ \mathsf{G(s)=  \frac{\small{Y}(s)}{\small{U}(s)} = \frac{z_3\cdot s^2+z_2\cdot s+z_1}{s^3+n_3\cdot s^2+n_2\cdot s+n_1} }$$ </p>
<p>$\pm 20°\,s^{-1}$<br />
$\pm 20\si{°/s}$<br />
$\pm 20°\si{\per s}$<br />
$\pm 20\si[per-mode=symbol]{°/s}$<br />
$\pm 20\Si{°/s}$<br />
$\Si{\ang{\pm 20} \per s}$<br />
$\pm 20 \Si{\degree \per s}$<br />
$\ang{100}$<br />
$100°$</p>
<p>60 64 63 93 82 92 42 54</p>
<div class="footnote">
<hr />
<ol>
<li id="fn:fnWikiAnsys">
<p><strong><em>ANSYS</em></strong> <a href="https://de.wikipedia.org/wiki/ANSYS_(Software)" title="ANSYS (Software)">&ldquo;<em>(Kurzform für <strong>AN</strong>alysis <strong>SYS</strong>tem) ist eine Finite-Elemente-Software der Firma Ansys Inc., ehemals SASI (Swanson Analysis Systems Inc.).</em>&ldquo;</a>&#160;<a class="footnote-backref" href="#fnref:fnWikiAnsys" rev="footnote" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:fnMaxwell">
<p><em>ANSYS</em> <strong><em>Maxwell</em></strong> <a href="http://www.ansys.com/Products/Electronics/ANSYS-Maxwell" title="Products/Electronics: &quot;Maxwell&quot;">&ldquo;<em>is the premier low frequency electromagnetic field simulation software for engineers tasked with designing and analyzing 2-D and 3-D electromagnetic devices.</em>&ldquo;</a>&#160;<a class="footnote-backref" href="#fnref:fnMaxwell" rev="footnote" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
<li id="fn:fnSimplorer">
<p><em>ANSYS</em> <strong><em>Simplorer</em></strong> <a href="http://www.ansys.com/it-IT/Products/Systems/ANSYS-Simplorer" title="Products/Systems: &quot;Simplorer&quot;">&ldquo;<em>is a powerful platform for modeling, simulating and analyzing virtual system prototypes.(…) broad support for assembling system-level physical models and helping product development organizations connect conceptual design, analysis and system verification.</em>&ldquo;</a>&#160;<a class="footnote-backref" href="#fnref:fnSimplorer" rev="footnote" title="Jump back to footnote 3 in the text">&#8617;</a></p>
</li>
<li id="fn:fnArnoldMagn">
<p><strong><em>Arnold Magnetics</em></strong> <a href="http://www.arnoldmagnetics.com/en-us/Technical-Library/Magnet-Manufacturing-Process" title="Magnet manufacturing process"><em>&ldquo;The magnet material is both brittle and very hard (Rockwell C 57 to 61) and requires diamond wheels for slicing and diamond or special abrasive wheels for grinding.&rdquo;</em></a>&#160;<a class="footnote-backref" href="#fnref:fnArnoldMagn" rev="footnote" title="Jump back to footnote 4 in the text">&#8617;</a></p>
</li>
<li id="fn:fnChRoy">
<p><strong><em>C. Roy, W. Oberkampf, 2010</em></strong> <a href="https://books.google.de/books/about/Verification_and_Validation_in_Scientifi.html?id=7d26zLEJ1FUC&amp;redir_esc=y" title="Online book resource"><em>Verification and Validation in Scientific Computing</em></a> &#160;<a class="footnote-backref" href="#fnref:fnChRoy" rev="footnote" title="Jump back to footnote 5 in the text">&#8617;</a></p>
</li>
<li id="fn:fnRUnb">
<p><strong><em>Rolf Unbehauen, 2002</em></strong> <a href="https://books.google.de/books?id=zcbnBQAAQBAJ&amp;pg=PA1&amp;lpg=PA1&amp;dq=Systeme+und+Signale+sind+die+beiden+wichtigsten+Konzepte+der+Systemtheorie&amp;source=bl&amp;ots=je6qEA32bz&amp;sig=UagREGj3tQWfEyX9y_OzGwfVWH0&amp;hl=de&amp;sa=X&amp;ved=0ahUKEwjo_MDMjKPQAhXEPhQKHfVBBz0Q6AEIIzAC#v=onepage&amp;q=Systeme%20und%20Signale%20sind%20die%20beiden%20wichtigsten%20Konzepte%20der%20Systemtheorie&amp;f=false" title="Online book resource"><em>Systemtheorie 1: Allg. Grundlagen, Signale und lineare Systeme im Zeit- und Frequenzbereich</em></a>&#160;<a class="footnote-backref" href="#fnref:fnRUnb" rev="footnote" title="Jump back to footnote 6 in the text">&#8617;</a></p>
</li>
<li id="fn:fnAnfrageBrunner">
<p><strong><em>Projektanfrage HsKA</em></strong> <a href="./Projektanfrage_Galvanometer-Scanner_Prof_Brunner.pdf" title="Dokument mit Projektanfrage"><em>Projektanfrage_Galvanometer-Scanner_Prof_Brunner.pdf</em></a>&#160;<a class="footnote-backref" href="#fnref:fnAnfrageBrunner" rev="footnote" title="Jump back to footnote 7 in the text">&#8617;</a></p>
</li>
<li id="fn:fnMultiDomain">
<p><strong><em>Multi-Domain-Modelle</em></strong> <em>oder auch</em> <strong><em>Multiphysik-Modelle</em></strong> <em>sind Simulationsmodelle, die Systeme über mehrere physikalische Domänen hinweg, in ihren Eigenschaften beschreiben und ihre Wechselwirkungen simulieren können. Hier wurden Statik/Kinematik (Mechanik-Domäne), Magnetostatik/Magnetodynamik (allg. Elektrodynamik, Elektrik-Domäne) sowie thermodynamische Vorgänge in einem planar- oder 3-dimensionalen FEM-Modell simuliert.</em>&#160;<a class="footnote-backref" href="#fnref:fnMultiDomain" rev="footnote" title="Jump back to footnote 8 in the text">&#8617;</a></p>
</li>
<li id="fn:fnWikiSys">
<p><strong><em>Systemtheorie</em></strong> <a href="https://de.wikipedia.org/wiki/Systemtheorie_(Ingenieurwissenschaften)" title="Systemtheorie (Ingenieurwissenschaften)"><em>Wikipedia: Systemtheorie (Ing.)</em></a>&#160;<a class="footnote-backref" href="#fnref:fnWikiSys" rev="footnote" title="Jump back to footnote 9 in the text">&#8617;</a></p>
</li>
<li id="fn:fnCapSens">
<p><strong><em>Differential-Drehkondensator</em></strong> <a href="https://de.wikipedia.org/wiki/Datei:Differential-Varko.svg" title="Variabler Drehkondensator (differentiell)"><em>Wikipedia: Differential-Drehkondensator</em></a>&#160;<a class="footnote-backref" href="#fnref:fnCapSens" rev="footnote" title="Jump back to footnote 10 in the text">&#8617;</a></p>
</li>
<li id="fn:fnNoBrainChip">
<p><strong><em>Chip without text</em></strong> <a href="http://www.clker.com/cliparts/e/5/2/J/G/G/chip-without-text.svg/"><a href="http://www.clker.com/cliparts/e/5/2/J/G/G/chip-without-text.svg/"><a href="http://www.clker.com/cliparts/e/5/2/J/G/G/chip-without-text.svg/">http://www.clker.com/cliparts/e/5/2/J/G/G/chip-without-text.svg/</a></a></a> &#160;<a class="footnote-backref" href="#fnref:fnNoBrainChip" rev="footnote" title="Jump back to footnote 11 in the text">&#8617;</a></p>
</li>
<li id="fn:fnBrain">
<p><strong><em>Brain</em></strong> <a href="http://troy-halverson.appspot.com/IsmProv/brain.svg"><a href="http://troy-halverson.appspot.com/IsmProv/brain.svg"><a href="http://troy-halverson.appspot.com/IsmProv/brain.svg">http://troy-halverson.appspot.com/IsmProv/brain.svg</a></a></a> &#160;<a class="footnote-backref" href="#fnref:fnBrain" rev="footnote" title="Jump back to footnote 12 in the text">&#8617;</a></p>
</li>
<li id="fn:fnReuseCode">
<p><strong><em>Reusability</em></strong> <a href="https://en.wikipedia.org/wiki/Reusability" title="Reusability (Computer science and software engineering)"><em>Wikipedia: Reusability</em></a>&#160;<a class="footnote-backref" href="#fnref:fnReuseCode" rev="footnote" title="Jump back to footnote 13 in the text">&#8617;</a></p>
</li>
<li id="fn:fnRoSe">
<p><strong><em>K. H. Rollke, K. Sennholz</em></strong> <em>Grund und Leistungskurs Informatik; Cornelsen Verlag, Berlin, 1994</em>&#160;<a class="footnote-backref" href="#fnref:fnRoSe" rev="footnote" title="Jump back to footnote 14 in the text">&#8617;</a></p>
</li>
<li id="fn:fnHarms09">
<p><strong><em>Eike Harms</em></strong> <a href="http://docplayer.org/16028346-Zur-erlangung-des-akademischen-grades-eines-doktors-der-ingenieurwissenschaften.html" title="Dissertation - Universität Karlsruhe"><em>Konfigurationsmanagement unter Berücksichtigung von Verwendungsinstanzen</em></a> &#160;<a class="footnote-backref" href="#fnref:fnHarms09" rev="footnote" title="Jump back to footnote 15 in the text">&#8617;</a></p>
</li>
<li id="fn:fnStachowiak">
<p><strong><em>Herbert Stachowiak</em></strong> <a href="https://books.google.de/books?hl=de&amp;id=DK-EAAAAIAAJ&amp;focus=searchwithinvolume&amp;q=Ein+Modell+ist+stets+ein+Modell+von+etwas" title="Online book resource"><em>Allgemeine Modelltheorie</em></a> 1973, Kap. 2.1.1.1, S. 131 &hellip; 133&#160;<a class="footnote-backref" href="#fnref:fnStachowiak" rev="footnote" title="Jump back to footnote 16 in the text">&#8617;</a></p>
</li>
<li id="fn:fnPapula2">
<p><strong><em>Lothar Papula</em></strong> <a href="https://www.pdf-archive.com/2015/03/28/papula-mathematik-fuer-ingenieure-2/papula-mathematik-fuer-ingenieure-2.pdf" title="Volltext: Mathematik für Ingenieure und Naturwissenschaftler Band 2"><em>Mathematik für Ingenieure und Naturwissenschaftler Band 2</em></a> 2009, Kap. 1.4 S. 348&#160;<a class="footnote-backref" href="#fnref:fnPapula2" rev="footnote" title="Jump back to footnote 17 in the text">&#8617;</a></p>
</li>
<li id="fn:fnElektrBauelem">
<p><strong><em>R. Großmann, A. Frey</em></strong> <a href="http://www.hs-augsburg.de/~ragr/Topics/SCHT2/Common/Skript_EB_V3.3.pdf" title="Elektronische Bauelemente"><em>Elektronische Bauelemente</em></a>&#160;<a class="footnote-backref" href="#fnref:fnElektrBauelem" rev="footnote" title="Jump back to footnote 18 in the text">&#8617;</a></p>
</li>
<li id="fn:fnwikiGenericTypes">
<p><strong><em>Generischer Typ</em></strong> <a href="https://de.wikipedia.org/wiki/Generischer_Typ" title="Generischer Typ"><em>Wikipedia: Generischer Typ</em></a> &#160;<a class="footnote-backref" href="#fnref:fnwikiGenericTypes" rev="footnote" title="Jump back to footnote 19 in the text">&#8617;</a></p>
</li>
<li id="fn:fnGalvoScanlab">
<p><strong><em>Galvanometer-Scanner</em></strong> <a href="http://www.scanlab.de/service/glossary/g#Galvanometer-Scanner&#160;"><a href="http://www.scanlab.de/service/glossary/g#Galvanometer-Scanner&#160;"><a href="http://www.scanlab.de/service/glossary/g#Galvanometer-Scanner&#160;">http://www.scanlab.de/service/glossary/g#Galvanometer-Scanner&#160;</a></a></a><a class="footnote-backref" href="#fnref:fnGalvoScanlab" rev="footnote" title="Jump back to footnote 20 in the text">&#8617;</a></p>
</li>
<li id="fn:fnInertialmoment">
<p><strong><em>Trägheitsmoment</em></strong> <a href="https://de.wikipedia.org/wiki/Tr%C3%A4gheitsmoment"><a href="https://de.wikipedia.org/wiki/Tr%C3%A4gheitsmoment"><a href="https://de.wikipedia.org/wiki/Tr%C3%A4gheitsmoment">https://de.wikipedia.org/wiki/Tr%C3%A4gheitsmoment</a></a></a>   <a name="citeInertialmoment"/> </a>&#160;<a class="footnote-backref" href="#fnref:fnInertialmoment" rev="footnote" title="Jump back to footnote 21 in the text">&#8617;</a></p>
</li>
<li id="fn:fnAngularMomentum">
<p><strong><em>Drehimpuls und Drehmoment</em></strong> <a href="https://www.lernhelfer.de/schuelerlexikon/physik-abitur/artikel/drehimpuls&#160;"><a href="https://www.lernhelfer.de/schuelerlexikon/physik-abitur/artikel/drehimpuls&#160;"><a href="https://www.lernhelfer.de/schuelerlexikon/physik-abitur/artikel/drehimpuls&#160;">https://www.lernhelfer.de/schuelerlexikon/physik-abitur/artikel/drehimpuls&#160;</a></a></a><a class="footnote-backref" href="#fnref:fnAngularMomentum" rev="footnote" title="Jump back to footnote 22 in the text">&#8617;</a></p>
</li>
<li id="fn:fnImpulserhaltung">
<p><strong><em>Impulserhaltungssatz</em></strong> <a href="https://de.wikipedia.org/wiki/Impulserhaltungssatz"><a href="https://de.wikipedia.org/wiki/Impulserhaltungssatz"><a href="https://de.wikipedia.org/wiki/Impulserhaltungssatz">https://de.wikipedia.org/wiki/Impulserhaltungssatz</a></a></a>   <a name="citeImpulserhaltung"/> </a>&#160;<a class="footnote-backref" href="#fnref:fnImpulserhaltung" rev="footnote" title="Jump back to footnote 23 in the text">&#8617;</a></p>
</li>
<li id="fn:fnMesystoDglSys">
<p><strong><em>Interpretation der Übertragungsfunktion</em></strong> <a href="http://www.eit.hs-karlsruhe.de/mesysto/teil-a-zeitkontinuierliche-signale-und-systeme/systeme-im-laplace-bereich/interpretation-der-uebertragungsfunktion.html&#160;"><a href="http://www.eit.hs-karlsruhe.de/mesysto/teil-a-zeitkontinuierliche-signale-und-systeme/systeme-im-laplace-bereich/interpretation-der-uebertragungsfunktion.html&#160;"><a href="http://www.eit.hs-karlsruhe.de/mesysto/teil-a-zeitkontinuierliche-signale-und-systeme/systeme-im-laplace-bereich/interpretation-der-uebertragungsfunktion.html&#160;">http://www.eit.hs-karlsruhe.de/mesysto/teil-a-zeitkontinuierliche-signale-und-systeme/systeme-im-laplace-bereich/interpretation-der-uebertragungsfunktion.html&#160;</a></a></a><a class="footnote-backref" href="#fnref:fnMesystoDglSys" rev="footnote" title="Jump back to footnote 24 in the text">&#8617;</a></p>
</li>
<li id="fn:fnV-Modell-XT">
<p><strong><em>Das deutsche Referenzmodell für Systementwicklungsprojekte Vers. 2.0</em></strong> <a href="http://ftp.tu-clausthal.de/pub/institute/informatik/v-modell-xt/Releases/2.0/Dokumentation/V-Modell-XT-HTML/index.html" title="V-Modell XT Bundesministerium Des Innern (BMI)"><em>Hosted by ftp.tu-clausthal.de</em></a>&#160;<a class="footnote-backref" href="#fnref:fnV-Modell-XT" rev="footnote" title="Jump back to footnote 25 in the text">&#8617;</a></p>
</li>
<li id="fn:fnV-Modell-XT-Bund">
<p><strong><em>V-Modell XT auf</em></strong> <a href="http://www.cio.bund.de/Web/DE/Architekturen-und-Standards/V-Modell-XT/vmodell_xt_node.html" title="V-Modell XT auf www.cio.bund.de"><a href="http://www.cio.bund.de"><a href="http://www.cio.bund.de"><a href="http://www.cio.bund.de">www.cio.bund.de</a></a></a></a> &#160;<a class="footnote-backref" href="#fnref:fnV-Modell-XT-Bund" rev="footnote" title="Jump back to footnote 26 in the text">&#8617;</a></p>
</li>
<li id="fn:fnBillionARM">
<p><strong><em>ARM Company profile</em></strong> <a href="https://www.arm.com/about/company-profile&#160;"><a href="https://www.arm.com/about/company-profile&#160;"><a href="https://www.arm.com/about/company-profile&#160;">https://www.arm.com/about/company-profile&#160;</a></a></a><a class="footnote-backref" href="#fnref:fnBillionARM" rev="footnote" title="Jump back to footnote 27 in the text">&#8617;</a></p>
</li>
<li id="fn:fnWhichCortex">
<p><strong>SILICON LABS - Which ARM Cortex Core Is the Right?</strong> <a href="https://www.silabs.com/Support%20Documents/TechnicalDocs/Which-ARM-Cortex-Core-Is-Right-for-Your-Application.pdf&#160;"><a href="https://www.silabs.com/Support%20Documents/TechnicalDocs/Which-ARM-Cortex-Core-Is-Right-for-Your-Application.pdf&#160;"><a href="https://www.silabs.com/Support%20Documents/TechnicalDocs/Which-ARM-Cortex-Core-Is-Right-for-Your-Application.pdf&#160;">https://www.silabs.com/Support%20Documents/TechnicalDocs/Which-ARM-Cortex-Core-Is-Right-for-Your-Application.pdf&#160;</a></a></a><a class="footnote-backref" href="#fnref:fnWhichCortex" rev="footnote" title="Jump back to footnote 28 in the text">&#8617;</a></p>
</li>
<li id="fn:fnArmProfiles">
<p><strong>ARM Cortex Architektur-Profile</strong> <a href="http://infocenter.arm.com/help/index.jsp?topic=/com.arm.doc.dui0471i/BCFDFFGA.html&#160;"><a href="http://infocenter.arm.com/help/index.jsp?topic=/com.arm.doc.dui0471i/BCFDFFGA.html&#160;"><a href="http://infocenter.arm.com/help/index.jsp?topic=/com.arm.doc.dui0471i/BCFDFFGA.html&#160;">http://infocenter.arm.com/help/index.jsp?topic=/com.arm.doc.dui0471i/BCFDFFGA.html&#160;</a></a></a><a class="footnote-backref" href="#fnref:fnArmProfiles" rev="footnote" title="Jump back to footnote 29 in the text">&#8617;</a></p>
</li>
<li id="fn:fnLinuxRtPatch">
<p><strong>&ldquo;Harte Echtzeit&rdquo; mittels Linux Kernel Patch</strong> <a href="https://rt.wiki.kernel.org/index.php/RT_PREEMPT_HOWTO&#160;"><a href="https://rt.wiki.kernel.org/index.php/RT_PREEMPT_HOWTO&#160;"><a href="https://rt.wiki.kernel.org/index.php/RT_PREEMPT_HOWTO&#160;">https://rt.wiki.kernel.org/index.php/RT_PREEMPT_HOWTO&#160;</a></a></a><a class="footnote-backref" href="#fnref:fnLinuxRtPatch" rev="footnote" title="Jump back to footnote 30 in the text">&#8617;</a></p>
</li>
<li id="fn:fnCortexR">
<p><strong>Cortex-R Family outline</strong> <a href="http://www.arm.com/products/processors/cortex-r&#160;"><a href="http://www.arm.com/products/processors/cortex-r&#160;"><a href="http://www.arm.com/products/processors/cortex-r&#160;">http://www.arm.com/products/processors/cortex-r&#160;</a></a></a><a class="footnote-backref" href="#fnref:fnCortexR" rev="footnote" title="Jump back to footnote 31 in the text">&#8617;</a></p>
</li>
<li id="fn:fnCMSISARM">
<p><strong>CMSIS - Cortex Microcontroller Software Interface Standard</strong> <a href="https://www.arm.com/products/processors/cortex-m/cortex-microcontroller-software-interface-standard.php&#160;"><a href="https://www.arm.com/products/processors/cortex-m/cortex-microcontroller-software-interface-standard.php&#160;"><a href="https://www.arm.com/products/processors/cortex-m/cortex-microcontroller-software-interface-standard.php&#160;">https://www.arm.com/products/processors/cortex-m/cortex-microcontroller-software-interface-standard.php&#160;</a></a></a><a class="footnote-backref" href="#fnref:fnCMSISARM" rev="footnote" title="Jump back to footnote 32 in the text">&#8617;</a></p>
</li>
<li id="fn:fnStMultiOs">
<p><strong>STMicroelectronics - About SW4STM32</strong> <a href="http://www.st.com/en/development-tools/sw4stm32.html&#160;"><a href="http://www.st.com/en/development-tools/sw4stm32.html&#160;"><a href="http://www.st.com/en/development-tools/sw4stm32.html&#160;">http://www.st.com/en/development-tools/sw4stm32.html&#160;</a></a></a><a class="footnote-backref" href="#fnref:fnStMultiOs" rev="footnote" title="Jump back to footnote 33 in the text">&#8617;</a></p>
</li>
<li id="fn:fnSwArchitekturIst">
<p><strong>Architektur ist &hellip;</strong> <a href="https://homepages.thm.de/~hg11260/mat/saa-def-bh.pdf&#160;"><a href="https://homepages.thm.de/~hg11260/mat/saa-def-bh.pdf&#160;"><a href="https://homepages.thm.de/~hg11260/mat/saa-def-bh.pdf&#160;">https://homepages.thm.de/~hg11260/mat/saa-def-bh.pdf&#160;</a></a></a><a class="footnote-backref" href="#fnref:fnSwArchitekturIst" rev="footnote" title="Jump back to footnote 34 in the text">&#8617;</a></p>
</li>
</ol>
</div></article></body></html